function RO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oS={exports:{}},Hh={},aS={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),IO=Symbol.for("react.portal"),CO=Symbol.for("react.fragment"),AO=Symbol.for("react.strict_mode"),PO=Symbol.for("react.profiler"),kO=Symbol.for("react.provider"),NO=Symbol.for("react.context"),OO=Symbol.for("react.forward_ref"),DO=Symbol.for("react.suspense"),$O=Symbol.for("react.memo"),MO=Symbol.for("react.lazy"),Qw=Symbol.iterator;function LO(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var lS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uS=Object.assign,cS={};function il(t,e,n){this.props=t,this.context=e,this.refs=cS,this.updater=n||lS}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dS(){}dS.prototype=il.prototype;function qy(t,e,n){this.props=t,this.context=e,this.refs=cS,this.updater=n||lS}var Wy=qy.prototype=new dS;Wy.constructor=qy;uS(Wy,il.prototype);Wy.isPureReactComponent=!0;var Yw=Array.isArray,fS=Object.prototype.hasOwnProperty,Ky={current:null},hS={key:!0,ref:!0,__self:!0,__source:!0};function pS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fS.call(e,r)&&!hS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fc,type:t,key:s,ref:o,props:i,_owner:Ky.current}}function VO(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function FO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xw=/\/+/g;function vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FO(""+t.key):e.toString(36)}function Bd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fc:case IO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vm(o,0):r,Yw(i)?(n="",t!=null&&(n=t.replace(Xw,"$&/")+"/"),Bd(i,e,n,"",function(c){return c})):i!=null&&(Gy(i)&&(i=VO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+vm(s,a);o+=Bd(s,e,n,l,i)}else if(l=LO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+vm(s,a++),o+=Bd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rd(t,e,n){if(t==null)return t;var r=[],i=0;return Bd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},zd={transition:null},jO={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:zd,ReactCurrentOwner:Ky};Me.Children={map:rd,forEach:function(t,e,n){rd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rd(t,function(){e++}),e},toArray:function(t){return rd(t,function(e){return e})||[]},only:function(t){if(!Gy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=il;Me.Fragment=CO;Me.Profiler=PO;Me.PureComponent=qy;Me.StrictMode=AO;Me.Suspense=DO;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fS.call(e,l)&&!hS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fc,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:NO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kO,_context:t},t.Consumer=t};Me.createElement=pS;Me.createFactory=function(t){var e=pS.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:OO,render:t}};Me.isValidElement=Gy;Me.lazy=function(t){return{$$typeof:MO,_payload:{_status:-1,_result:t},_init:UO}};Me.memo=function(t,e){return{$$typeof:$O,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=zd.transition;zd.transition={};try{t()}finally{zd.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return xn.current.useCallback(t,e)};Me.useContext=function(t){return xn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return xn.current.useEffect(t,e)};Me.useId=function(){return xn.current.useId()};Me.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return xn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Me.useRef=function(t){return xn.current.useRef(t)};Me.useState=function(t){return xn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return xn.current.useTransition()};Me.version="18.2.0";aS.exports=Me;var p=aS.exports;const De=Hy(p),mS=RO({__proto__:null,default:De},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO=p,zO=Symbol.for("react.element"),HO=Symbol.for("react.fragment"),qO=Object.prototype.hasOwnProperty,WO=BO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KO={key:!0,ref:!0,__self:!0,__source:!0};function gS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qO.call(e,r)&&!KO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zO,type:t,key:s,ref:o,props:i,_owner:WO.current}}Hh.Fragment=HO;Hh.jsx=gS;Hh.jsxs=gS;oS.exports=Hh;var b=oS.exports,kg={},vS={exports:{}},qn={},yS={exports:{}},_S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var ne=D.length;D.push(z);e:for(;0<ne;){var he=ne-1>>>1,Ae=D[he];if(0<i(Ae,z))D[he]=z,D[ne]=Ae,ne=he;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],ne=D.pop();if(ne!==z){D[0]=ne;e:for(var he=0,Ae=D.length,Ke=Ae>>>1;he<Ke;){var Ce=2*(he+1)-1,xt=D[Ce],Ze=Ce+1,le=D[Ze];if(0>i(xt,ne))Ze<Ae&&0>i(le,xt)?(D[he]=le,D[Ze]=ne,he=Ze):(D[he]=xt,D[Ce]=ne,he=Ce);else if(Ze<Ae&&0>i(le,ne))D[he]=le,D[Ze]=ne,he=Ze;else break e}}return z}function i(D,z){var ne=D.sortIndex-z.sortIndex;return ne!==0?ne:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,u=null,d=3,h=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function E(D){if(v=!1,w(D),!m)if(n(l)!==null)m=!0,j(S);else{var z=n(c);z!==null&&W(E,z.startTime-D)}}function S(D,z){m=!1,v&&(v=!1,g(T),T=-1),h=!0;var ne=d;try{for(w(z),u=n(l);u!==null&&(!(u.expirationTime>z)||D&&!O());){var he=u.callback;if(typeof he=="function"){u.callback=null,d=u.priorityLevel;var Ae=he(u.expirationTime<=z);z=t.unstable_now(),typeof Ae=="function"?u.callback=Ae:u===n(l)&&r(l),w(z)}else r(l);u=n(l)}if(u!==null)var Ke=!0;else{var Ce=n(c);Ce!==null&&W(E,Ce.startTime-z),Ke=!1}return Ke}finally{u=null,d=ne,h=!1}}var I=!1,x=null,T=-1,R=5,P=-1;function O(){return!(t.unstable_now()-P<R)}function A(){if(x!==null){var D=t.unstable_now();P=D;var z=!0;try{z=x(!0,D)}finally{z?L():(I=!1,x=null)}}else I=!1}var L;if(typeof y=="function")L=function(){y(A)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,F=k.port2;k.port1.onmessage=A,L=function(){F.postMessage(null)}}else L=function(){_(A,0)};function j(D){x=D,I||(I=!0,L())}function W(D,z){T=_(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,j(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var ne=d;d=z;try{return D()}finally{d=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=d;d=D;try{return z()}finally{d=ne}},t.unstable_scheduleCallback=function(D,z,ne){var he=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,D){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ne+Ae,D={id:f++,callback:z,priorityLevel:D,startTime:ne,expirationTime:Ae,sortIndex:-1},ne>he?(D.sortIndex=ne,e(c,D),n(l)===null&&D===n(c)&&(v?(g(T),T=-1):v=!0,W(E,ne-he))):(D.sortIndex=Ae,e(l,D),m||h||(m=!0,j(S))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var z=d;return function(){var ne=d;d=z;try{return D.apply(this,arguments)}finally{d=ne}}}})(_S);yS.exports=_S;var GO=yS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=p,zn=GO;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ES=new Set,Tu={};function So(t,e){Aa(t,e),Aa(t+"Capture",e)}function Aa(t,e){for(Tu[t]=e,t=0;t<e.length;t++)ES.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ng=Object.prototype.hasOwnProperty,QO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zw={},Jw={};function YO(t){return Ng.call(Jw,t)?!0:Ng.call(Zw,t)?!1:QO.test(t)?Jw[t]=!0:(Zw[t]=!0,!1)}function XO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZO(t,e,n,r){if(e===null||typeof e>"u"||XO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qy=/[\-:]([a-z])/g;function Yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qy,Yy);Jt[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qy,Yy);Jt[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qy,Yy);Jt[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xy(t,e,n,r){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZO(e,n,i,r)&&(n=null),r||i===null?YO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Di=wS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),bS=Symbol.for("react.provider"),TS=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),e_=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),SS=Symbol.for("react.offscreen"),eE=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=eE&&t[eE]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,ym;function Wl(t){if(ym===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ym=e&&e[1]||""}return`
`+ym+t}var _m=!1;function wm(t,e){if(!t||_m)return"";_m=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_m=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function JO(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=wm(t.type,!1),t;case 11:return t=wm(t.type.render,!1),t;case 1:return t=wm(t.type,!0),t;default:return""}}function Mg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zo:return"Fragment";case Xo:return"Portal";case Og:return"Profiler";case Zy:return"StrictMode";case Dg:return"Suspense";case $g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TS:return(t.displayName||"Context")+".Consumer";case bS:return(t._context.displayName||"Context")+".Provider";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e_:return e=t.displayName||null,e!==null?e:Mg(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return Mg(t(e))}catch{}}return null}function eD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mg(e);case 8:return e===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tD(t){var e=xS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sd(t){t._valueTracker||(t._valueTracker=tD(t))}function RS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lg(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IS(t,e){e=e.checked,e!=null&&Xy(t,"checked",e,!1)}function Vg(t,e){IS(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fg(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fg(t,e,n){(e!=="number"||vf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kl=Array.isArray;function ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ug(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Kl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function CS(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var od,PS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=od.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nD=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){nD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function kS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function NS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rD=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bg(t,e){if(e){if(rD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function zg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function t_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qg=null,ga=null,va=null;function sE(t){if(t=mc(t)){if(typeof qg!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Qh(e),qg(t.stateNode,t.type,e))}}function OS(t){ga?va?va.push(t):va=[t]:ga=t}function DS(){if(ga){var t=ga,e=va;if(va=ga=null,sE(t),e)for(t=0;t<e.length;t++)sE(e[t])}}function $S(t,e){return t(e)}function MS(){}var Em=!1;function LS(t,e,n){if(Em)return t(e,n);Em=!0;try{return $S(t,e,n)}finally{Em=!1,(ga!==null||va!==null)&&(MS(),DS())}}function xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Wg=!1;if(_i)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Wg=!1}function iD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var su=!1,yf=null,_f=!1,Kg=null,sD={onError:function(t){su=!0,yf=t}};function oD(t,e,n,r,i,s,o,a,l){su=!1,yf=null,iD.apply(sD,arguments)}function aD(t,e,n,r,i,s,o,a,l){if(oD.apply(this,arguments),su){if(su){var c=yf;su=!1,yf=null}else throw Error(q(198));_f||(_f=!0,Kg=c)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oE(t){if(xo(t)!==t)throw Error(q(188))}function lD(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oE(i),t;if(s===r)return oE(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function FS(t){return t=lD(t),t!==null?US(t):null}function US(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=US(t);if(e!==null)return e;t=t.sibling}return null}var jS=zn.unstable_scheduleCallback,aE=zn.unstable_cancelCallback,uD=zn.unstable_shouldYield,cD=zn.unstable_requestPaint,At=zn.unstable_now,dD=zn.unstable_getCurrentPriorityLevel,n_=zn.unstable_ImmediatePriority,BS=zn.unstable_UserBlockingPriority,wf=zn.unstable_NormalPriority,fD=zn.unstable_LowPriority,zS=zn.unstable_IdlePriority,qh=null,Ur=null;function hD(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:gD,pD=Math.log,mD=Math.LN2;function gD(t){return t>>>=0,t===0?32:31-(pD(t)/mD|0)|0}var ad=64,ld=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gl(a):(s&=o,s!==0&&(r=Gl(s)))}else o=n&~i,o!==0?r=Gl(o):s!==0&&(r=Gl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function vD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HS(){var t=ad;return ad<<=1,!(ad&4194240)&&(ad=64),t}function bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function _D(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function r_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function qS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WS,i_,KS,GS,QS,Qg=!1,ud=[],os=null,as=null,ls=null,Ru=new Map,Iu=new Map,Gi=[],wD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lE(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Cl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mc(e),e!==null&&i_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ED(t,e,n,r,i){switch(e){case"focusin":return os=Cl(os,t,e,n,r,i),!0;case"dragenter":return as=Cl(as,t,e,n,r,i),!0;case"mouseover":return ls=Cl(ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ru.set(s,Cl(Ru.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Iu.set(s,Cl(Iu.get(s)||null,t,e,n,r,i)),!0}return!1}function YS(t){var e=Hs(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=VS(n),e!==null){t.blockedOn=e,QS(t.priority,function(){KS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hg=r,n.target.dispatchEvent(r),Hg=null}else return e=mc(n),e!==null&&i_(e),t.blockedOn=n,!1;e.shift()}return!0}function uE(t,e,n){Hd(t)&&n.delete(e)}function bD(){Qg=!1,os!==null&&Hd(os)&&(os=null),as!==null&&Hd(as)&&(as=null),ls!==null&&Hd(ls)&&(ls=null),Ru.forEach(uE),Iu.forEach(uE)}function Al(t,e){t.blockedOn===e&&(t.blockedOn=null,Qg||(Qg=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,bD)))}function Cu(t){function e(i){return Al(i,t)}if(0<ud.length){Al(ud[0],t);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&Al(os,t),as!==null&&Al(as,t),ls!==null&&Al(ls,t),Ru.forEach(e),Iu.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)YS(n),n.blockedOn===null&&Gi.shift()}var ya=Di.ReactCurrentBatchConfig,bf=!0;function TD(t,e,n,r){var i=Qe,s=ya.transition;ya.transition=null;try{Qe=1,s_(t,e,n,r)}finally{Qe=i,ya.transition=s}}function SD(t,e,n,r){var i=Qe,s=ya.transition;ya.transition=null;try{Qe=4,s_(t,e,n,r)}finally{Qe=i,ya.transition=s}}function s_(t,e,n,r){if(bf){var i=Yg(t,e,n,r);if(i===null)Nm(t,e,r,Tf,n),lE(t,r);else if(ED(i,t,e,n,r))r.stopPropagation();else if(lE(t,r),e&4&&-1<wD.indexOf(t)){for(;i!==null;){var s=mc(i);if(s!==null&&WS(s),s=Yg(t,e,n,r),s===null&&Nm(t,e,r,Tf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Nm(t,e,r,null,n)}}var Tf=null;function Yg(t,e,n,r){if(Tf=null,t=t_(r),t=Hs(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function XS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dD()){case n_:return 1;case BS:return 4;case wf:case fD:return 16;case zS:return 536870912;default:return 16}default:return 16}}var ts=null,o_=null,qd=null;function ZS(){if(qd)return qd;var t,e=o_,n=e.length,r,i="value"in ts?ts.value:ts.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qd=i.slice(t,1<r?1-r:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cd(){return!0}function cE(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cd:cE,this.isPropagationStopped=cE,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a_=Wn(sl),pc=yt({},sl,{view:0,detail:0}),xD=Wn(pc),Tm,Sm,Pl,Wh=yt({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(Tm=t.screenX-Pl.screenX,Sm=t.screenY-Pl.screenY):Sm=Tm=0,Pl=t),Tm)},movementY:function(t){return"movementY"in t?t.movementY:Sm}}),dE=Wn(Wh),RD=yt({},Wh,{dataTransfer:0}),ID=Wn(RD),CD=yt({},pc,{relatedTarget:0}),xm=Wn(CD),AD=yt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),PD=Wn(AD),kD=yt({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ND=Wn(kD),OD=yt({},sl,{data:0}),fE=Wn(OD),DD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$D={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MD[t])?!!e[t]:!1}function l_(){return LD}var VD=yt({},pc,{key:function(t){if(t.key){var e=DD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$D[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l_,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FD=Wn(VD),UD=yt({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=Wn(UD),jD=yt({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l_}),BD=Wn(jD),zD=yt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),HD=Wn(zD),qD=yt({},Wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WD=Wn(qD),KD=[9,13,27,32],u_=_i&&"CompositionEvent"in window,ou=null;_i&&"documentMode"in document&&(ou=document.documentMode);var GD=_i&&"TextEvent"in window&&!ou,JS=_i&&(!u_||ou&&8<ou&&11>=ou),pE=String.fromCharCode(32),mE=!1;function ex(t,e){switch(t){case"keyup":return KD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function QD(t,e){switch(t){case"compositionend":return tx(e);case"keypress":return e.which!==32?null:(mE=!0,pE);case"textInput":return t=e.data,t===pE&&mE?null:t;default:return null}}function YD(t,e){if(Jo)return t==="compositionend"||!u_&&ex(t,e)?(t=ZS(),qd=o_=ts=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JS&&e.locale!=="ko"?null:e.data;default:return null}}var XD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XD[t.type]:e==="textarea"}function nx(t,e,n,r){OS(r),e=Sf(e,"onChange"),0<e.length&&(n=new a_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Au=null;function ZD(t){hx(t,0)}function Kh(t){var e=na(t);if(RS(e))return t}function JD(t,e){if(t==="change")return e}var rx=!1;if(_i){var Rm;if(_i){var Im="oninput"in document;if(!Im){var vE=document.createElement("div");vE.setAttribute("oninput","return;"),Im=typeof vE.oninput=="function"}Rm=Im}else Rm=!1;rx=Rm&&(!document.documentMode||9<document.documentMode)}function yE(){au&&(au.detachEvent("onpropertychange",ix),Au=au=null)}function ix(t){if(t.propertyName==="value"&&Kh(Au)){var e=[];nx(e,Au,t,t_(t)),LS(ZD,e)}}function e$(t,e,n){t==="focusin"?(yE(),au=e,Au=n,au.attachEvent("onpropertychange",ix)):t==="focusout"&&yE()}function t$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kh(Au)}function n$(t,e){if(t==="click")return Kh(e)}function r$(t,e){if(t==="input"||t==="change")return Kh(e)}function i$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:i$;function Pu(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ng.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function _E(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wE(t,e){var n=_E(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_E(n)}}function sx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ox(){for(var t=window,e=vf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vf(t.document)}return e}function c_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s$(t){var e=ox(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sx(n.ownerDocument.documentElement,n)){if(r!==null&&c_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wE(n,s);var o=wE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o$=_i&&"documentMode"in document&&11>=document.documentMode,ea=null,Xg=null,lu=null,Zg=!1;function EE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zg||ea==null||ea!==vf(r)||(r=ea,"selectionStart"in r&&c_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Pu(lu,r)||(lu=r,r=Sf(Xg,"onSelect"),0<r.length&&(e=new a_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ea)))}function dd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},Cm={},ax={};_i&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Gh(t){if(Cm[t])return Cm[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ax)return Cm[t]=e[n];return t}var lx=Gh("animationend"),ux=Gh("animationiteration"),cx=Gh("animationstart"),dx=Gh("transitionend"),fx=new Map,bE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(t,e){fx.set(t,e),So(e,[t])}for(var Am=0;Am<bE.length;Am++){var Pm=bE[Am],a$=Pm.toLowerCase(),l$=Pm[0].toUpperCase()+Pm.slice(1);As(a$,"on"+l$)}As(lx,"onAnimationEnd");As(ux,"onAnimationIteration");As(cx,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(dx,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function TE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aD(r,e,void 0,t),t.currentTarget=null}function hx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;TE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;TE(i,a,c),s=l}}}if(_f)throw t=Kg,_f=!1,Kg=null,t}function nt(t,e){var n=e[rv];n===void 0&&(n=e[rv]=new Set);var r=t+"__bubble";n.has(r)||(px(e,t,2,!1),n.add(r))}function km(t,e,n){var r=0;e&&(r|=4),px(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function ku(t){if(!t[fd]){t[fd]=!0,ES.forEach(function(n){n!=="selectionchange"&&(u$.has(n)||km(n,!1,t),km(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,km("selectionchange",!1,e))}}function px(t,e,n,r){switch(XS(e)){case 1:var i=TD;break;case 4:i=SD;break;default:i=s_}n=i.bind(null,e,n,t),i=void 0,!Wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LS(function(){var c=s,f=t_(n),u=[];e:{var d=fx.get(t);if(d!==void 0){var h=a_,m=t;switch(t){case"keypress":if(Wd(n)===0)break e;case"keydown":case"keyup":h=FD;break;case"focusin":m="focus",h=xm;break;case"focusout":m="blur",h=xm;break;case"beforeblur":case"afterblur":h=xm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=dE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ID;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=BD;break;case lx:case ux:case cx:h=PD;break;case dx:h=HD;break;case"scroll":h=xD;break;case"wheel":h=WD;break;case"copy":case"cut":case"paste":h=ND;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hE}var v=(e&4)!==0,_=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var y=c,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=xu(y,g),E!=null&&v.push(Nu(y,E,w)))),_)break;y=y.return}0<v.length&&(d=new h(d,m,null,n,f),u.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Hg&&(m=n.relatedTarget||n.fromElement)&&(Hs(m)||m[wi]))break e;if((h||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Hs(m):null,m!==null&&(_=xo(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(v=dE,E="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=hE,E="onPointerLeave",g="onPointerEnter",y="pointer"),_=h==null?d:na(h),w=m==null?d:na(m),d=new v(E,y+"leave",h,n,f),d.target=_,d.relatedTarget=w,E=null,Hs(f)===c&&(v=new v(g,y+"enter",m,n,f),v.target=w,v.relatedTarget=_,E=v),_=E,h&&m)t:{for(v=h,g=m,y=0,w=v;w;w=Vo(w))y++;for(w=0,E=g;E;E=Vo(E))w++;for(;0<y-w;)v=Vo(v),y--;for(;0<w-y;)g=Vo(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Vo(v),g=Vo(g)}v=null}else v=null;h!==null&&SE(u,d,h,v,!1),m!==null&&_!==null&&SE(u,_,m,v,!0)}}e:{if(d=c?na(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=JD;else if(gE(d))if(rx)S=r$;else{S=t$;var I=e$}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=n$);if(S&&(S=S(t,c))){nx(u,S,n,f);break e}I&&I(t,d,c),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&Fg(d,"number",d.value)}switch(I=c?na(c):window,t){case"focusin":(gE(I)||I.contentEditable==="true")&&(ea=I,Xg=c,lu=null);break;case"focusout":lu=Xg=ea=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,EE(u,n,f);break;case"selectionchange":if(o$)break;case"keydown":case"keyup":EE(u,n,f)}var x;if(u_)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Jo?ex(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(JS&&n.locale!=="ko"&&(Jo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jo&&(x=ZS()):(ts=f,o_="value"in ts?ts.value:ts.textContent,Jo=!0)),I=Sf(c,T),0<I.length&&(T=new fE(T,t,null,n,f),u.push({event:T,listeners:I}),x?T.data=x:(x=tx(n),x!==null&&(T.data=x)))),(x=GD?QD(t,n):YD(t,n))&&(c=Sf(c,"onBeforeInput"),0<c.length&&(f=new fE("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:c}),f.data=x))}hx(u,e)})}function Nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(t,n),s!=null&&r.unshift(Nu(t,s,i)),s=xu(t,e),s!=null&&r.push(Nu(t,s,i))),t=t.return}return r}function Vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=xu(n,s),l!=null&&o.unshift(Nu(n,l,a))):i||(l=xu(n,s),l!=null&&o.push(Nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c$=/\r\n?/g,d$=/\u0000|\uFFFD/g;function xE(t){return(typeof t=="string"?t:""+t).replace(c$,`
`).replace(d$,"")}function hd(t,e,n){if(e=xE(e),xE(t)!==e&&n)throw Error(q(425))}function xf(){}var Jg=null,ev=null;function tv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nv=typeof setTimeout=="function"?setTimeout:void 0,f$=typeof clearTimeout=="function"?clearTimeout:void 0,RE=typeof Promise=="function"?Promise:void 0,h$=typeof queueMicrotask=="function"?queueMicrotask:typeof RE<"u"?function(t){return RE.resolve(null).then(t).catch(p$)}:nv;function p$(t){setTimeout(function(){throw t})}function Om(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function IE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ol,Ou="__reactProps$"+ol,wi="__reactContainer$"+ol,rv="__reactEvents$"+ol,m$="__reactListeners$"+ol,g$="__reactHandles$"+ol;function Hs(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=IE(t);t!==null;){if(n=t[Cr])return n;t=IE(t)}return e}t=n,n=t.parentNode}return null}function mc(t){return t=t[Cr]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Qh(t){return t[Ou]||null}var iv=[],ra=-1;function Ps(t){return{current:t}}function st(t){0>ra||(t.current=iv[ra],iv[ra]=null,ra--)}function et(t,e){ra++,iv[ra]=t.current,t.current=e}var _s={},pn=Ps(_s),kn=Ps(!1),ao=_s;function Pa(t,e){var n=t.type.contextTypes;if(!n)return _s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function Rf(){st(kn),st(pn)}function CE(t,e,n){if(pn.current!==_s)throw Error(q(168));et(pn,e),et(kn,n)}function mx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,eD(t)||"Unknown",i));return yt({},n,r)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_s,ao=pn.current,et(pn,t),et(kn,kn.current),!0}function AE(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=mx(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,st(kn),st(pn),et(pn,t)):st(kn),et(kn,n)}var oi=null,Yh=!1,Dm=!1;function gx(t){oi===null?oi=[t]:oi.push(t)}function v$(t){Yh=!0,gx(t)}function ks(){if(!Dm&&oi!==null){Dm=!0;var t=0,e=Qe;try{var n=oi;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,Yh=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),jS(n_,ks),i}finally{Qe=e,Dm=!1}}return null}var ia=[],sa=0,Cf=null,Af=0,Yn=[],Xn=0,lo=null,li=1,ui="";function Fs(t,e){ia[sa++]=Af,ia[sa++]=Cf,Cf=t,Af=e}function vx(t,e,n){Yn[Xn++]=li,Yn[Xn++]=ui,Yn[Xn++]=lo,lo=t;var r=li;t=ui;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var s=32-mr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,li=1<<32-mr(e)+i|n<<i|r,ui=s+t}else li=1<<s|n<<i|r,ui=t}function d_(t){t.return!==null&&(Fs(t,1),vx(t,1,0))}function f_(t){for(;t===Cf;)Cf=ia[--sa],ia[sa]=null,Af=ia[--sa],ia[sa]=null;for(;t===lo;)lo=Yn[--Xn],Yn[Xn]=null,ui=Yn[--Xn],Yn[Xn]=null,li=Yn[--Xn],Yn[Xn]=null}var jn=null,Vn=null,dt=!1,hr=null;function yx(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Vn=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:li,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Vn=null,!0):!1;default:return!1}}function sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ov(t){if(dt){var e=Vn;if(e){var n=e;if(!PE(t,e)){if(sv(t))throw Error(q(418));e=us(n.nextSibling);var r=jn;e&&PE(t,e)?yx(r,n):(t.flags=t.flags&-4097|2,dt=!1,jn=t)}}else{if(sv(t))throw Error(q(418));t.flags=t.flags&-4097|2,dt=!1,jn=t}}}function kE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function pd(t){if(t!==jn)return!1;if(!dt)return kE(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tv(t.type,t.memoizedProps)),e&&(e=Vn)){if(sv(t))throw _x(),Error(q(418));for(;e;)yx(t,e),e=us(e.nextSibling)}if(kE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=jn?us(t.stateNode.nextSibling):null;return!0}function _x(){for(var t=Vn;t;)t=us(t.nextSibling)}function ka(){Vn=jn=null,dt=!1}function h_(t){hr===null?hr=[t]:hr.push(t)}var y$=Di.ReactCurrentBatchConfig;function ur(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pf=Ps(null),kf=null,oa=null,p_=null;function m_(){p_=oa=kf=null}function g_(t){var e=Pf.current;st(Pf),t._currentValue=e}function av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){kf=t,p_=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(p_!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(kf===null)throw Error(q(308));oa=t,kf.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var qs=null;function v_(t){qs===null?qs=[t]:qs.push(t)}function wx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,v_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function y_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,v_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function Kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r_(t,n)}}function NE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nf(t,e,n,r){var i=t.updateQueue;Wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,f=c=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){u=m.call(h,u,d);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(h,u,d):m,d==null)break e;u=yt({},u,d);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=h,l=u):f=f.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=u}}function OE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var bx=new wS.Component().refs;function lv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=fs(t),s=mi(r,i);s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(gr(e,t,i,r),Kd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=fs(t),s=mi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(gr(e,t,i,r),Kd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=fs(t),i=mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(gr(e,t,r,n),Kd(e,t,r))}};function DE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pu(n,r)||!Pu(i,s):!0}function Tx(t,e,n){var r=!1,i=_s,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=Nn(e)?ao:pn.current,r=e.contextTypes,s=(r=r!=null)?Pa(t,i):_s),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $E(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function uv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=bx,y_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=Nn(e)?ao:pn.current,i.context=Pa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xh.enqueueReplaceState(i,i.state,null),Nf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function kl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===bx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function md(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ME(t){var e=t._init;return e(t._payload)}function Sx(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=hs(g,y),g.index=0,g.sibling=null,g}function s(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,E){return y===null||y.tag!==6?(y=jm(w,g.mode,E),y.return=g,y):(y=i(y,w),y.return=g,y)}function l(g,y,w,E){var S=w.type;return S===Zo?f(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qi&&ME(S)===y.type)?(E=i(y,w.props),E.ref=kl(g,y,w),E.return=g,E):(E=Jd(w.type,w.key,w.props,null,g.mode,E),E.ref=kl(g,y,w),E.return=g,E)}function c(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Bm(w,g.mode,E),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function f(g,y,w,E,S){return y===null||y.tag!==7?(y=no(w,g.mode,E,S),y.return=g,y):(y=i(y,w),y.return=g,y)}function u(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jm(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case id:return w=Jd(y.type,y.key,y.props,null,g.mode,w),w.ref=kl(g,null,y),w.return=g,w;case Xo:return y=Bm(y,g.mode,w),y.return=g,y;case qi:var E=y._init;return u(g,E(y._payload),w)}if(Kl(y)||Rl(y))return y=no(y,g.mode,w,null),y.return=g,y;md(g,y)}return null}function d(g,y,w,E){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case id:return w.key===S?l(g,y,w,E):null;case Xo:return w.key===S?c(g,y,w,E):null;case qi:return S=w._init,d(g,y,S(w._payload),E)}if(Kl(w)||Rl(w))return S!==null?null:f(g,y,w,E,null);md(g,w)}return null}function h(g,y,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(y,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case id:return g=g.get(E.key===null?w:E.key)||null,l(y,g,E,S);case Xo:return g=g.get(E.key===null?w:E.key)||null,c(y,g,E,S);case qi:var I=E._init;return h(g,y,w,I(E._payload),S)}if(Kl(E)||Rl(E))return g=g.get(w)||null,f(y,g,E,S,null);md(y,E)}return null}function m(g,y,w,E){for(var S=null,I=null,x=y,T=y=0,R=null;x!==null&&T<w.length;T++){x.index>T?(R=x,x=null):R=x.sibling;var P=d(g,x,w[T],E);if(P===null){x===null&&(x=R);break}t&&x&&P.alternate===null&&e(g,x),y=s(P,y,T),I===null?S=P:I.sibling=P,I=P,x=R}if(T===w.length)return n(g,x),dt&&Fs(g,T),S;if(x===null){for(;T<w.length;T++)x=u(g,w[T],E),x!==null&&(y=s(x,y,T),I===null?S=x:I.sibling=x,I=x);return dt&&Fs(g,T),S}for(x=r(g,x);T<w.length;T++)R=h(x,g,T,w[T],E),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?T:R.key),y=s(R,y,T),I===null?S=R:I.sibling=R,I=R);return t&&x.forEach(function(O){return e(g,O)}),dt&&Fs(g,T),S}function v(g,y,w,E){var S=Rl(w);if(typeof S!="function")throw Error(q(150));if(w=S.call(w),w==null)throw Error(q(151));for(var I=S=null,x=y,T=y=0,R=null,P=w.next();x!==null&&!P.done;T++,P=w.next()){x.index>T?(R=x,x=null):R=x.sibling;var O=d(g,x,P.value,E);if(O===null){x===null&&(x=R);break}t&&x&&O.alternate===null&&e(g,x),y=s(O,y,T),I===null?S=O:I.sibling=O,I=O,x=R}if(P.done)return n(g,x),dt&&Fs(g,T),S;if(x===null){for(;!P.done;T++,P=w.next())P=u(g,P.value,E),P!==null&&(y=s(P,y,T),I===null?S=P:I.sibling=P,I=P);return dt&&Fs(g,T),S}for(x=r(g,x);!P.done;T++,P=w.next())P=h(x,g,T,P.value,E),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?T:P.key),y=s(P,y,T),I===null?S=P:I.sibling=P,I=P);return t&&x.forEach(function(A){return e(g,A)}),dt&&Fs(g,T),S}function _(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===Zo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case id:e:{for(var S=w.key,I=y;I!==null;){if(I.key===S){if(S=w.type,S===Zo){if(I.tag===7){n(g,I.sibling),y=i(I,w.props.children),y.return=g,g=y;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qi&&ME(S)===I.type){n(g,I.sibling),y=i(I,w.props),y.ref=kl(g,I,w),y.return=g,g=y;break e}n(g,I);break}else e(g,I);I=I.sibling}w.type===Zo?(y=no(w.props.children,g.mode,E,w.key),y.return=g,g=y):(E=Jd(w.type,w.key,w.props,null,g.mode,E),E.ref=kl(g,y,w),E.return=g,g=E)}return o(g);case Xo:e:{for(I=w.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Bm(w,g.mode,E),y.return=g,g=y}return o(g);case qi:return I=w._init,_(g,y,I(w._payload),E)}if(Kl(w))return m(g,y,w,E);if(Rl(w))return v(g,y,w,E);md(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,w),y.return=g,g=y):(n(g,y),y=jm(w,g.mode,E),y.return=g,g=y),o(g)):n(g,y)}return _}var Na=Sx(!0),xx=Sx(!1),gc={},jr=Ps(gc),Du=Ps(gc),$u=Ps(gc);function Ws(t){if(t===gc)throw Error(q(174));return t}function __(t,e){switch(et($u,e),et(Du,t),et(jr,gc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}st(jr),et(jr,e)}function Oa(){st(jr),st(Du),st($u)}function Rx(t){Ws($u.current);var e=Ws(jr.current),n=jg(e,t.type);e!==n&&(et(Du,t),et(jr,n))}function w_(t){Du.current===t&&(st(jr),st(Du))}var gt=Ps(0);function Of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function E_(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var Gd=Di.ReactCurrentDispatcher,Mm=Di.ReactCurrentBatchConfig,uo=0,vt=null,Mt=null,Bt=null,Df=!1,uu=!1,Mu=0,_$=0;function rn(){throw Error(q(321))}function b_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function T_(t,e,n,r,i,s){if(uo=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gd.current=t===null||t.memoizedState===null?T$:S$,t=n(r,i),uu){s=0;do{if(uu=!1,Mu=0,25<=s)throw Error(q(301));s+=1,Bt=Mt=null,e.updateQueue=null,Gd.current=x$,t=n(r,i)}while(uu)}if(Gd.current=$f,e=Mt!==null&&Mt.next!==null,uo=0,Bt=Mt=vt=null,Df=!1,e)throw Error(q(300));return t}function S_(){var t=Mu!==0;return Mu=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?vt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function rr(){if(Mt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Bt===null?vt.memoizedState:Bt.next;if(e!==null)Bt=e,Mt=t;else{if(t===null)throw Error(q(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?vt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Lu(t,e){return typeof e=="function"?e(t):e}function Lm(t){var e=rr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((uo&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,vt.lanes|=f,co|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vm(t){var e=rr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vr(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ix(){}function Cx(t,e){var n=vt,r=rr(),i=e(),s=!vr(r.memoizedState,i);if(s&&(r.memoizedState=i,Pn=!0),r=r.queue,x_(kx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Vu(9,Px.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(q(349));uo&30||Ax(n,e,i)}return i}function Ax(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Px(t,e,n,r){e.value=n,e.getSnapshot=r,Nx(e)&&Ox(t)}function kx(t,e,n){return n(function(){Nx(e)&&Ox(t)})}function Nx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function Ox(t){var e=Ei(t,1);e!==null&&gr(e,t,1,-1)}function LE(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:t},e.queue=t,t=t.dispatch=b$.bind(null,vt,t),[e.memoizedState,t]}function Vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dx(){return rr().memoizedState}function Qd(t,e,n,r){var i=Ir();vt.flags|=t,i.memoizedState=Vu(1|e,n,void 0,r===void 0?null:r)}function Zh(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&b_(r,o.deps)){i.memoizedState=Vu(e,n,s,r);return}}vt.flags|=t,i.memoizedState=Vu(1|e,n,s,r)}function VE(t,e){return Qd(8390656,8,t,e)}function x_(t,e){return Zh(2048,8,t,e)}function $x(t,e){return Zh(4,2,t,e)}function Mx(t,e){return Zh(4,4,t,e)}function Lx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vx(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4,4,Lx.bind(null,e,t),n)}function R_(){}function Fx(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ux(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jx(t,e,n){return uo&21?(vr(n,e)||(n=HS(),vt.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function w$(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Mm.transition;Mm.transition={};try{t(!1),e()}finally{Qe=n,Mm.transition=r}}function Bx(){return rr().memoizedState}function E$(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zx(t))Hx(e,n);else if(n=wx(t,e,n,r),n!==null){var i=bn();gr(n,t,r,i),qx(n,e,r)}}function b$(t,e,n){var r=fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zx(t))Hx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vr(a,o)){var l=e.interleaved;l===null?(i.next=i,v_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wx(t,e,i,r),n!==null&&(i=bn(),gr(n,t,r,i),qx(n,e,r))}}function zx(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function Hx(t,e){uu=Df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r_(t,n)}}var $f={readContext:nr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},T$={readContext:nr,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:VE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4194308,4,Lx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E$.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:LE,useDebugValue:R_,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=LE(!1),e=t[0];return t=w$.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=Ir();if(dt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),zt===null)throw Error(q(349));uo&30||Ax(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,VE(kx.bind(null,r,s,t),[t]),r.flags|=2048,Vu(9,Px.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ir(),e=zt.identifierPrefix;if(dt){var n=ui,r=li;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S$={readContext:nr,useCallback:Fx,useContext:nr,useEffect:x_,useImperativeHandle:Vx,useInsertionEffect:$x,useLayoutEffect:Mx,useMemo:Ux,useReducer:Lm,useRef:Dx,useState:function(){return Lm(Lu)},useDebugValue:R_,useDeferredValue:function(t){var e=rr();return jx(e,Mt.memoizedState,t)},useTransition:function(){var t=Lm(Lu)[0],e=rr().memoizedState;return[t,e]},useMutableSource:Ix,useSyncExternalStore:Cx,useId:Bx,unstable_isNewReconciler:!1},x$={readContext:nr,useCallback:Fx,useContext:nr,useEffect:x_,useImperativeHandle:Vx,useInsertionEffect:$x,useLayoutEffect:Mx,useMemo:Ux,useReducer:Vm,useRef:Dx,useState:function(){return Vm(Lu)},useDebugValue:R_,useDeferredValue:function(t){var e=rr();return Mt===null?e.memoizedState=t:jx(e,Mt.memoizedState,t)},useTransition:function(){var t=Vm(Lu)[0],e=rr().memoizedState;return[t,e]},useMutableSource:Ix,useSyncExternalStore:Cx,useId:Bx,unstable_isNewReconciler:!1};function Da(t,e){try{var n="",r=e;do n+=JO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R$=typeof WeakMap=="function"?WeakMap:Map;function Wx(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lf||(Lf=!0,wv=r),cv(t,e)},n}function Kx(t,e,n){n=mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cv(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function FE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U$.bind(null,t,e,n),e.then(t,t))}function UE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var I$=Di.ReactCurrentOwner,Pn=!1;function yn(t,e,n,r){e.child=t===null?xx(e,null,n,r):Na(e,t.child,n,r)}function BE(t,e,n,r,i){n=n.render;var s=e.ref;return _a(e,i),r=T_(t,e,n,r,s,i),n=S_(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(dt&&n&&d_(e),e.flags|=1,yn(t,e,r,i),e.child)}function zE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!D_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gx(t,e,s,r,i)):(t=Jd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(o,r)&&t.ref===e.ref)return bi(t,e,i)}return e.flags|=1,t=hs(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pu(s,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,bi(t,e,i)}return dv(t,e,n,r,i)}function Qx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(la,Mn),Mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(la,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(la,Mn),Mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(la,Mn),Mn|=r;return yn(t,e,i,n),e.child}function Yx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dv(t,e,n,r,i){var s=Nn(n)?ao:pn.current;return s=Pa(e,s),_a(e,i),n=T_(t,e,n,r,s,i),r=S_(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(dt&&r&&d_(e),e.flags|=1,yn(t,e,n,i),e.child)}function HE(t,e,n,r,i){if(Nn(n)){var s=!0;If(e)}else s=!1;if(_a(e,i),e.stateNode===null)Yd(t,e),Tx(e,n,r),uv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=Nn(n)?ao:pn.current,c=Pa(e,c));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$E(e,o,r,c),Wi=!1;var d=e.memoizedState;o.state=d,Nf(e,r,o,i),l=e.memoizedState,a!==r||d!==l||kn.current||Wi?(typeof f=="function"&&(lv(e,n,f,r),l=e.memoizedState),(a=Wi||DE(e,n,a,r,d,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ex(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ur(e.type,a),o.props=c,u=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=Nn(n)?ao:pn.current,l=Pa(e,l));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||d!==l)&&$E(e,o,r,l),Wi=!1,d=e.memoizedState,o.state=d,Nf(e,r,o,i);var m=e.memoizedState;a!==u||d!==m||kn.current||Wi?(typeof h=="function"&&(lv(e,n,h,r),m=e.memoizedState),(c=Wi||DE(e,n,c,r,d,m,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return fv(t,e,n,r,s,i)}function fv(t,e,n,r,i,s){Yx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AE(e,n,!1),bi(t,e,s);r=e.stateNode,I$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Na(e,t.child,null,s),e.child=Na(e,null,a,s)):yn(t,e,a,s),e.memoizedState=r.state,i&&AE(e,n,!0),e.child}function Xx(t){var e=t.stateNode;e.pendingContext?CE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CE(t,e.context,!1),__(t,e.containerInfo)}function qE(t,e,n,r,i){return ka(),h_(i),e.flags|=256,yn(t,e,n,r),e.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zx(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(gt,i&1),t===null)return ov(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tp(o,r,0,null),t=no(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pv(n),e.memoizedState=hv,t):I_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return C$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hs(a,s):(s=no(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hv,r}return s=t.child,t=s.sibling,r=hs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function I_(t,e){return e=tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gd(t,e,n,r){return r!==null&&h_(r),Na(e,t.child,null,n),t=I_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fm(Error(q(422))),gd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=tp({mode:"visible",children:r.children},i,0,null),s=no(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Na(e,t.child,null,o),e.child.memoizedState=pv(o),e.memoizedState=hv,s);if(!(e.mode&1))return gd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Fm(s,r,void 0),gd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pn||a){if(r=zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ei(t,i),gr(r,t,i,-1))}return O_(),r=Fm(Error(q(421))),gd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=j$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vn=us(i.nextSibling),jn=e,dt=!0,hr=null,t!==null&&(Yn[Xn++]=li,Yn[Xn++]=ui,Yn[Xn++]=lo,li=t.id,ui=t.overflow,lo=e),e=I_(e,r.children),e.flags|=4096,e)}function WE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),av(t.return,e,n)}function Um(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WE(t,n,e);else if(t.tag===19)WE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Of(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Um(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Of(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Um(e,!0,n,null,s);break;case"together":Um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A$(t,e,n){switch(e.tag){case 3:Xx(e),ka();break;case 5:Rx(e);break;case 1:Nn(e.type)&&If(e);break;case 4:__(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Pf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?Zx(t,e,n):(et(gt,gt.current&1),t=bi(t,e,n),t!==null?t.sibling:null);et(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,Qx(t,e,n)}return bi(t,e,n)}var eR,mv,tR,nR;eR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mv=function(){};tR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ws(jr.current);var s=null;switch(n){case"input":i=Lg(t,i),r=Lg(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=Ug(t,i),r=Ug(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xf)}Bg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P$(t,e,n){var r=e.pendingProps;switch(f_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Nn(e.type)&&Rf(),sn(e),null;case 3:return r=e.stateNode,Oa(),st(kn),st(pn),E_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Tv(hr),hr=null))),mv(t,e),sn(e),null;case 5:w_(e);var i=Ws($u.current);if(n=e.type,t!==null&&e.stateNode!=null)tR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return sn(e),null}if(t=Ws(jr.current),pd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cr]=e,r[Ou]=s,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Ql.length;i++)nt(Ql[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":tE(r,s),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nt("invalid",r);break;case"textarea":rE(r,s),nt("invalid",r)}Bg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hd(r.textContent,a,t),i=["children",""+a]):Tu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":sd(r),nE(r,s,!0);break;case"textarea":sd(r),iE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cr]=e,t[Ou]=r,eR(t,e,!1,!1),e.stateNode=t;e:{switch(o=zg(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ql.length;i++)nt(Ql[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":tE(t,r),i=Lg(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":rE(t,r),i=Ug(t,r),nt("invalid",t);break;default:i=r}Bg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?NS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Su(t,l):typeof l=="number"&&Su(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",t):l!=null&&Xy(t,s,l,o))}switch(n){case"input":sd(t),nE(t,r,!1);break;case"textarea":sd(t),iE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ma(t,!!r.multiple,s,!1):r.defaultValue!=null&&ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)nR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Ws($u.current),Ws(jr.current),pd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(s=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:hd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return sn(e),null;case 13:if(st(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Vn!==null&&e.mode&1&&!(e.flags&128))_x(),ka(),e.flags|=98560,s=!1;else if(s=pd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Cr]=e}else ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else hr!==null&&(Tv(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Lt===0&&(Lt=3):O_())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Oa(),mv(t,e),t===null&&ku(e.stateNode.containerInfo),sn(e),null;case 10:return g_(e.type._context),sn(e),null;case 17:return Nn(e.type)&&Rf(),sn(e),null;case 19:if(st(gt),s=e.memoizedState,s===null)return sn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nl(s,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Of(t),o!==null){for(e.flags|=128,Nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>$a&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Of(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dt)return sn(e),null}else 2*At()-s.renderingStartTime>$a&&n!==1073741824&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=gt.current,et(gt,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return N_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function k$(t,e){switch(f_(e),e.tag){case 1:return Nn(e.type)&&Rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(),st(kn),st(pn),E_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w_(e),null;case 13:if(st(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(gt),null;case 4:return Oa(),null;case 10:return g_(e.type._context),null;case 22:case 23:return N_(),null;case 24:return null;default:return null}}var vd=!1,ln=!1,N$=typeof WeakSet=="function"?WeakSet:Set,ie=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function gv(t,e,n){try{n()}catch(r){Et(t,e,r)}}var KE=!1;function O$(t,e){if(Jg=bf,t=ox(),c_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,u=t,d=null;t:for(;;){for(var h;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(h=u.firstChild)!==null;)d=u,u=h;for(;;){if(u===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++f===r&&(l=o),(h=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ev={focusedElem:t,selectionRange:n},bf=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:ur(e.type,v),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(E){Et(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return m=KE,KE=!1,m}function cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gv(e,n,s)}i=i.next}while(i!==r)}}function Jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rR(t){var e=t.alternate;e!==null&&(t.alternate=null,rR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[Ou],delete e[rv],delete e[m$],delete e[g$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iR(t){return t.tag===5||t.tag===3||t.tag===4}function GE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xf));else if(r!==4&&(t=t.child,t!==null))for(yv(t,e,n),t=t.sibling;t!==null;)yv(t,e,n),t=t.sibling}function _v(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_v(t,e,n),t=t.sibling;t!==null;)_v(t,e,n),t=t.sibling}var Kt=null,dr=!1;function ji(t,e,n){for(n=n.child;n!==null;)sR(t,e,n),n=n.sibling}function sR(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(qh,n)}catch{}switch(n.tag){case 5:ln||aa(n,e);case 6:var r=Kt,i=dr;Kt=null,ji(t,e,n),Kt=r,dr=i,Kt!==null&&(dr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(dr?(t=Kt,n=n.stateNode,t.nodeType===8?Om(t.parentNode,n):t.nodeType===1&&Om(t,n),Cu(t)):Om(Kt,n.stateNode));break;case 4:r=Kt,i=dr,Kt=n.stateNode.containerInfo,dr=!0,ji(t,e,n),Kt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gv(n,e,o),i=i.next}while(i!==r)}ji(t,e,n);break;case 1:if(!ln&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,ji(t,e,n),ln=r):ji(t,e,n);break;default:ji(t,e,n)}}function QE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N$),e.forEach(function(r){var i=B$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,dr=!1;break e;case 3:Kt=a.stateNode.containerInfo,dr=!0;break e;case 4:Kt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Kt===null)throw Error(q(160));sR(s,o,i),Kt=null,dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oR(e,t),e=e.sibling}function oR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Rr(t),r&4){try{cu(3,t,t.return),Jh(3,t)}catch(v){Et(t,t.return,v)}try{cu(5,t,t.return)}catch(v){Et(t,t.return,v)}}break;case 1:ar(e,t),Rr(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(ar(e,t),Rr(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var i=t.stateNode;try{Su(i,"")}catch(v){Et(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&IS(i,s),zg(a,o);var c=zg(a,s);for(o=0;o<l.length;o+=2){var f=l[o],u=l[o+1];f==="style"?NS(i,u):f==="dangerouslySetInnerHTML"?PS(i,u):f==="children"?Su(i,u):Xy(i,f,u,c)}switch(a){case"input":Vg(i,s);break;case"textarea":CS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ma(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?ma(i,!!s.multiple,s.defaultValue,!0):ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(v){Et(t,t.return,v)}}break;case 6:if(ar(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Et(t,t.return,v)}}break;case 3:if(ar(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(v){Et(t,t.return,v)}break;case 4:ar(e,t),Rr(t);break;case 13:ar(e,t),Rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(P_=At())),r&4&&QE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(c=ln)||f,ar(e,t),ln=c):ar(e,t),Rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ie=t,f=t.child;f!==null;){for(u=ie=f;ie!==null;){switch(d=ie,h=d.child,d.tag){case 0:case 11:case 14:case 15:cu(4,d,d.return);break;case 1:aa(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Et(r,n,v)}}break;case 5:aa(d,d.return);break;case 22:if(d.memoizedState!==null){XE(u);continue}}h!==null?(h.return=d,ie=h):XE(u)}f=f.sibling}e:for(f=null,u=t;;){if(u.tag===5){if(f===null){f=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kS("display",o))}catch(v){Et(t,t.return,v)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(v){Et(t,t.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ar(e,t),Rr(t),r&4&&QE(t);break;case 21:break;default:ar(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iR(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Su(i,""),r.flags&=-33);var s=GE(t);_v(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=GE(t);yv(t,a,o);break;default:throw Error(q(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D$(t,e,n){ie=t,aR(t)}function aR(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=vd;var c=ln;if(vd=o,(ln=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?ZE(i):l!==null?(l.return=o,ie=l):ZE(i);for(;s!==null;)ie=s,aR(s),s=s.sibling;ie=i,vd=a,ln=c}YE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):YE(t)}}function YE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&OE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&Cu(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}ln||e.flags&512&&vv(e)}catch(d){Et(e,e.return,d)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function XE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function ZE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jh(4,e)}catch(l){Et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{vv(e)}catch(l){Et(e,s,l)}break;case 5:var o=e.return;try{vv(e)}catch(l){Et(e,o,l)}}}catch(l){Et(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var $$=Math.ceil,Mf=Di.ReactCurrentDispatcher,C_=Di.ReactCurrentOwner,er=Di.ReactCurrentBatchConfig,je=0,zt=null,Ot=null,Xt=0,Mn=0,la=Ps(0),Lt=0,Fu=null,co=0,ep=0,A_=0,du=null,Cn=null,P_=0,$a=1/0,ii=null,Lf=!1,wv=null,ds=null,yd=!1,ns=null,Vf=0,fu=0,Ev=null,Xd=-1,Zd=0;function bn(){return je&6?At():Xd!==-1?Xd:Xd=At()}function fs(t){return t.mode&1?je&2&&Xt!==0?Xt&-Xt:y$.transition!==null?(Zd===0&&(Zd=HS()),Zd):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:XS(t.type)),t):1}function gr(t,e,n,r){if(50<fu)throw fu=0,Ev=null,Error(q(185));hc(t,n,r),(!(je&2)||t!==zt)&&(t===zt&&(!(je&2)&&(ep|=n),Lt===4&&Qi(t,Xt)),On(t,r),n===1&&je===0&&!(e.mode&1)&&($a=At()+500,Yh&&ks()))}function On(t,e){var n=t.callbackNode;yD(t,e);var r=Ef(t,t===zt?Xt:0);if(r===0)n!==null&&aE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aE(n),e===1)t.tag===0?v$(JE.bind(null,t)):gx(JE.bind(null,t)),h$(function(){!(je&6)&&ks()}),n=null;else{switch(qS(r)){case 1:n=n_;break;case 4:n=BS;break;case 16:n=wf;break;case 536870912:n=zS;break;default:n=wf}n=mR(n,lR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lR(t,e){if(Xd=-1,Zd=0,je&6)throw Error(q(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=Ef(t,t===zt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ff(t,r);else{e=r;var i=je;je|=2;var s=cR();(zt!==t||Xt!==e)&&(ii=null,$a=At()+500,to(t,e));do try{V$();break}catch(a){uR(t,a)}while(1);m_(),Mf.current=s,je=i,Ot!==null?e=0:(zt=null,Xt=0,e=Lt)}if(e!==0){if(e===2&&(i=Gg(t),i!==0&&(r=i,e=bv(t,i))),e===1)throw n=Fu,to(t,0),Qi(t,r),On(t,At()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!M$(i)&&(e=Ff(t,r),e===2&&(s=Gg(t),s!==0&&(r=s,e=bv(t,s))),e===1))throw n=Fu,to(t,0),Qi(t,r),On(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Us(t,Cn,ii);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=P_+500-At(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nv(Us.bind(null,t,Cn,ii),e);break}Us(t,Cn,ii);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-mr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$$(r/1960))-r,10<r){t.timeoutHandle=nv(Us.bind(null,t,Cn,ii),r);break}Us(t,Cn,ii);break;case 5:Us(t,Cn,ii);break;default:throw Error(q(329))}}}return On(t,At()),t.callbackNode===n?lR.bind(null,t):null}function bv(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(to(t,e).flags|=256),t=Ff(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&Tv(e)),t}function Tv(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function M$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~A_,e&=~ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function JE(t){if(je&6)throw Error(q(327));wa();var e=Ef(t,0);if(!(e&1))return On(t,At()),null;var n=Ff(t,e);if(t.tag!==0&&n===2){var r=Gg(t);r!==0&&(e=r,n=bv(t,r))}if(n===1)throw n=Fu,to(t,0),Qi(t,e),On(t,At()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,Cn,ii),On(t,At()),null}function k_(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&($a=At()+500,Yh&&ks())}}function fo(t){ns!==null&&ns.tag===0&&!(je&6)&&wa();var e=je;je|=1;var n=er.transition,r=Qe;try{if(er.transition=null,Qe=1,t)return t()}finally{Qe=r,er.transition=n,je=e,!(je&6)&&ks()}}function N_(){Mn=la.current,st(la)}function to(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f$(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(f_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rf();break;case 3:Oa(),st(kn),st(pn),E_();break;case 5:w_(r);break;case 4:Oa();break;case 13:st(gt);break;case 19:st(gt);break;case 10:g_(r.type._context);break;case 22:case 23:N_()}n=n.return}if(zt=t,Ot=t=hs(t.current,null),Xt=Mn=e,Lt=0,Fu=null,A_=ep=co=0,Cn=du=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qs=null}return t}function uR(t,e){do{var n=Ot;try{if(m_(),Gd.current=$f,Df){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Df=!1}if(uo=0,Bt=Mt=vt=null,uu=!1,Mu=0,C_.current=null,n===null||n.return===null){Lt=1,Fu=e,Ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=UE(o);if(h!==null){h.flags&=-257,jE(h,o,a,s,e),h.mode&1&&FE(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){FE(s,c,e),O_();break e}l=Error(q(426))}}else if(dt&&a.mode&1){var _=UE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),jE(_,o,a,s,e),h_(Da(l,a));break e}}s=l=Da(l,a),Lt!==4&&(Lt=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Wx(s,l,e);NE(s,g);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ds===null||!ds.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Kx(s,a,e);NE(s,E);break e}}s=s.return}while(s!==null)}fR(n)}catch(S){e=S,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(1)}function cR(){var t=Mf.current;return Mf.current=$f,t===null?$f:t}function O_(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||!(co&268435455)&&!(ep&268435455)||Qi(zt,Xt)}function Ff(t,e){var n=je;je|=2;var r=cR();(zt!==t||Xt!==e)&&(ii=null,to(t,e));do try{L$();break}catch(i){uR(t,i)}while(1);if(m_(),je=n,Mf.current=r,Ot!==null)throw Error(q(261));return zt=null,Xt=0,Lt}function L$(){for(;Ot!==null;)dR(Ot)}function V$(){for(;Ot!==null&&!uD();)dR(Ot)}function dR(t){var e=pR(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?fR(t):Ot=e,C_.current=null}function fR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k$(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Ot=null;return}}else if(n=P$(n,e,Mn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Lt===0&&(Lt=5)}function Us(t,e,n){var r=Qe,i=er.transition;try{er.transition=null,Qe=1,F$(t,e,n,r)}finally{er.transition=i,Qe=r}return null}function F$(t,e,n,r){do wa();while(ns!==null);if(je&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_D(t,s),t===zt&&(Ot=zt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yd||(yd=!0,mR(wf,function(){return wa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=Qe;Qe=1;var a=je;je|=4,C_.current=null,O$(t,n),oR(n,t),s$(ev),bf=!!Jg,ev=Jg=null,t.current=n,D$(n),cD(),je=a,Qe=o,er.transition=s}else t.current=n;if(yd&&(yd=!1,ns=t,Vf=i),s=t.pendingLanes,s===0&&(ds=null),hD(n.stateNode),On(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lf)throw Lf=!1,t=wv,wv=null,t;return Vf&1&&t.tag!==0&&wa(),s=t.pendingLanes,s&1?t===Ev?fu++:(fu=0,Ev=t):fu=0,ks(),null}function wa(){if(ns!==null){var t=qS(Vf),e=er.transition,n=Qe;try{if(er.transition=null,Qe=16>t?16:t,ns===null)var r=!1;else{if(t=ns,ns=null,Vf=0,je&6)throw Error(q(331));var i=je;for(je|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:cu(8,f,s)}var u=f.child;if(u!==null)u.return=f,ie=u;else for(;ie!==null;){f=ie;var d=f.sibling,h=f.return;if(rR(f),f===c){ie=null;break}if(d!==null){d.return=h,ie=d;break}ie=h}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ie=g;break e}ie=s.return}}var y=t.current;for(ie=y;ie!==null;){o=ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ie=w;else e:for(o=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jh(9,a)}}catch(S){Et(a,a.return,S)}if(a===o){ie=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ie=E;break e}ie=a.return}}if(je=i,ks(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(qh,t)}catch{}r=!0}return r}finally{Qe=n,er.transition=e}}return!1}function e1(t,e,n){e=Da(n,e),e=Wx(t,e,1),t=cs(t,e,1),e=bn(),t!==null&&(hc(t,1,e),On(t,e))}function Et(t,e,n){if(t.tag===3)e1(t,t,n);else for(;e!==null;){if(e.tag===3){e1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=Da(n,t),t=Kx(e,t,1),e=cs(e,t,1),t=bn(),e!==null&&(hc(e,1,t),On(e,t));break}}e=e.return}}function U$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Xt&n)===n&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>At()-P_?to(t,0):A_|=n),On(t,e)}function hR(t,e){e===0&&(t.mode&1?(e=ld,ld<<=1,!(ld&130023424)&&(ld=4194304)):e=1);var n=bn();t=Ei(t,e),t!==null&&(hc(t,e,n),On(t,n))}function j$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hR(t,n)}function B$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),hR(t,n)}var pR;pR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,A$(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,dt&&e.flags&1048576&&vx(e,Af,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yd(t,e),t=e.pendingProps;var i=Pa(e,pn.current);_a(e,n),i=T_(null,e,r,t,i,n);var s=S_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(s=!0,If(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y_(e),i.updater=Xh,e.stateNode=i,i._reactInternals=e,uv(e,r,t,n),e=fv(null,e,r,!0,s,n)):(e.tag=0,dt&&s&&d_(e),yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=H$(r),t=ur(r,t),i){case 0:e=dv(null,e,r,t,n);break e;case 1:e=HE(null,e,r,t,n);break e;case 11:e=BE(null,e,r,t,n);break e;case 14:e=zE(null,e,r,ur(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),dv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),HE(t,e,r,i,n);case 3:e:{if(Xx(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ex(t,e),Nf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Da(Error(q(423)),e),e=qE(t,e,r,n,i);break e}else if(r!==i){i=Da(Error(q(424)),e),e=qE(t,e,r,n,i);break e}else for(Vn=us(e.stateNode.containerInfo.firstChild),jn=e,dt=!0,hr=null,n=xx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){e=bi(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return Rx(e),t===null&&ov(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tv(r,i)?o=null:s!==null&&tv(r,s)&&(e.flags|=32),Yx(t,e),yn(t,e,o,n),e.child;case 6:return t===null&&ov(e),null;case 13:return Zx(t,e,n);case 4:return __(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Na(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),BE(t,e,r,i,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(Pf,r._currentValue),r._currentValue=o,s!==null)if(vr(s.value,o)){if(s.children===i.children&&!kn.current){e=bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=mi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),av(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),av(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_a(e,n),i=nr(i),r=r(i),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),zE(t,e,r,i,n);case 15:return Gx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Yd(t,e),e.tag=1,Nn(r)?(t=!0,If(e)):t=!1,_a(e,n),Tx(e,r,i),uv(e,r,i,n),fv(null,e,r,!0,t,n);case 19:return Jx(t,e,n);case 22:return Qx(t,e,n)}throw Error(q(156,e.tag))};function mR(t,e){return jS(t,e)}function z$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new z$(t,e,n,r)}function D_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H$(t){if(typeof t=="function")return D_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jy)return 11;if(t===e_)return 14}return 2}function hs(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")D_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zo:return no(n.children,i,s,e);case Zy:o=8,i|=8;break;case Og:return t=Jn(12,n,e,i|2),t.elementType=Og,t.lanes=s,t;case Dg:return t=Jn(13,n,e,i),t.elementType=Dg,t.lanes=s,t;case $g:return t=Jn(19,n,e,i),t.elementType=$g,t.lanes=s,t;case SS:return tp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bS:o=10;break e;case TS:o=9;break e;case Jy:o=11;break e;case e_:o=14;break e;case qi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function no(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function tp(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=SS,t.lanes=n,t.stateNode={isHidden:!1},t}function jm(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function Bm(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bm(0),this.expirationTimes=bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $_(t,e,n,r,i,s,o,a,l){return t=new q$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y_(s),t}function W$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gR(t){if(!t)return _s;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Nn(n))return mx(t,n,e)}return e}function vR(t,e,n,r,i,s,o,a,l){return t=$_(n,r,!0,t,i,s,o,a,l),t.context=gR(null),n=t.current,r=bn(),i=fs(n),s=mi(r,i),s.callback=e??null,cs(n,s,i),t.current.lanes=i,hc(t,i,r),On(t,r),t}function np(t,e,n,r){var i=e.current,s=bn(),o=fs(i);return n=gR(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,o),t!==null&&(gr(t,i,o,s),Kd(t,i,o)),o}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function M_(t,e){t1(t,e),(t=t.alternate)&&t1(t,e)}function K$(){return null}var yR=typeof reportError=="function"?reportError:function(t){console.error(t)};function L_(t){this._internalRoot=t}rp.prototype.render=L_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));np(t,e,null,null)};rp.prototype.unmount=L_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fo(function(){np(null,t,null,null)}),e[wi]=null}};function rp(t){this._internalRoot=t}rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=GS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&YS(t)}};function V_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n1(){}function G$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uf(o);s.call(c)}}var o=vR(e,r,t,0,null,!1,!1,"",n1);return t._reactRootContainer=o,t[wi]=o.current,ku(t.nodeType===8?t.parentNode:t),fo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uf(l);a.call(c)}}var l=$_(t,0,!1,null,null,!1,!1,"",n1);return t._reactRootContainer=l,t[wi]=l.current,ku(t.nodeType===8?t.parentNode:t),fo(function(){np(e,l,n,r)}),l}function sp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Uf(o);a.call(l)}}np(e,o,t,i)}else o=G$(n,e,t,i,r);return Uf(o)}WS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gl(e.pendingLanes);n!==0&&(r_(e,n|1),On(e,At()),!(je&6)&&($a=At()+500,ks()))}break;case 13:fo(function(){var r=Ei(t,1);if(r!==null){var i=bn();gr(r,t,1,i)}}),M_(t,1)}};i_=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=bn();gr(e,t,134217728,n)}M_(t,134217728)}};KS=function(t){if(t.tag===13){var e=fs(t),n=Ei(t,e);if(n!==null){var r=bn();gr(n,t,e,r)}M_(t,e)}};GS=function(){return Qe};QS=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};qg=function(t,e,n){switch(e){case"input":if(Vg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qh(r);if(!i)throw Error(q(90));RS(r),Vg(r,i)}}}break;case"textarea":CS(t,n);break;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}};$S=k_;MS=fo;var Q$={usingClientEntryPoint:!1,Events:[mc,na,Qh,OS,DS,k_]},Ol={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Y$={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||K$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{qh=_d.inject(Y$),Ur=_d}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q$;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V_(e))throw Error(q(200));return W$(t,e,null,n)};qn.createRoot=function(t,e){if(!V_(t))throw Error(q(299));var n=!1,r="",i=yR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$_(t,1,!1,null,null,n,!1,r,i),t[wi]=e.current,ku(t.nodeType===8?t.parentNode:t),new L_(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=FS(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return fo(t)};qn.hydrate=function(t,e,n){if(!ip(e))throw Error(q(200));return sp(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!V_(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vR(e,null,t,1,n??null,i,!1,s,o),t[wi]=e.current,ku(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rp(e)};qn.render=function(t,e,n){if(!ip(e))throw Error(q(200));return sp(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!ip(t))throw Error(q(40));return t._reactRootContainer?(fo(function(){sp(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};qn.unstable_batchedUpdates=k_;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ip(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return sp(t,e,n,!1,r)};qn.version="18.2.0-next-9e3b772b8-20220608";function _R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_R)}catch(t){console.error(t)}}_R(),vS.exports=qn;var Ro=vS.exports;const wR=Hy(Ro);var r1=Ro;kg.createRoot=r1.createRoot,kg.hydrateRoot=r1.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mt(){return mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mt.apply(this,arguments)}var kt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kt||(kt={}));const i1="popstate";function X$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Uu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ho(i)}return J$(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z$(){return Math.random().toString(36).substr(2,8)}function s1(t,e){return{usr:t.state,key:t.key,idx:e}}function Uu(t,e,n,r){return n===void 0&&(n=null),mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$i(e):e,{state:n,key:e&&e.key||r||Z$()})}function ho(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $i(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kt.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(mt({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function u(){a=kt.Pop;let _=f(),g=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:g})}function d(_,g){a=kt.Push;let y=Uu(v.location,_,g);n&&n(y,_),c=f()+1;let w=s1(y,c),E=v.createHref(y);try{o.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function h(_,g){a=kt.Replace;let y=Uu(v.location,_,g);n&&n(y,_),c=f();let w=s1(y,c),E=v.createHref(y);o.replaceState(w,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function m(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:ho(_);return ke(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(i1,u),l=_,()=>{i.removeEventListener(i1,u),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let g=m(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(_){return o.go(_)}};return v}var It;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(It||(It={}));const e2=new Set(["lazy","caseSensitive","path","id","index","children"]);function t2(t){return t.index===!0}function Sv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),ke(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),t2(i)){let l=mt({},i,e(i),{id:a});return r[a]=l,l}else{let l=mt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Sv(i.children,e,o,r)),l}})}function ua(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$i(e):e,i=al(r.pathname||"/",n);if(i==null)return null;let s=ER(t);r2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=f2(s[a],m2(i));return o}function n2(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ER(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=gi([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ER(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:c2(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bR(s.path))i(s,o,l)}),e}function bR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function r2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i2=/^:\w+$/,s2=3,o2=2,a2=1,l2=10,u2=-2,o1=t=>t==="*";function c2(t,e){let n=t.split("/"),r=n.length;return n.some(o1)&&(r+=u2),e&&(r+=o2),n.filter(i=>!o1(i)).reduce((i,s)=>i+(i2.test(s)?s2:s===""?a2:l2),r)}function d2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=h2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!f)return null;Object.assign(r,f.params);let u=a.route;s.push({params:r,pathname:gi([i,f.pathname]),pathnameBase:_2(gi([i,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(i=gi([i,f.pathnameBase]))}return s}function h2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,u)=>{if(f==="*"){let d=a[u]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[f]=g2(a[u]||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function p2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m2(t){try{return decodeURI(t)}catch(e){return Ma(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g2(t,e){try{return decodeURIComponent(t)}catch(n){return Ma(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$i(t):t;return{pathname:n?n.startsWith("/")?n:y2(n,e):e,search:w2(r),hash:E2(i)}}function y2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function op(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$i(t):(i=mt({},t),ke(!i.pathname||!i.pathname.includes("?"),zm("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),zm("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),zm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let u=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),u-=1;i.pathname=d.join("/")}a=u>=0?e[u]:"/"}let l=v2(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const gi=t=>t.join("/").replace(/\/\/+/g,"/"),_2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class U_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function TR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SR=["post","put","patch","delete"],b2=new Set(SR),T2=["get",...SR],S2=new Set(T2),x2=new Set([301,302,303,307,308]),R2=new Set([307,308]),Hm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},I2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C2=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function A2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=M=>({hasErrorBoundary:N(M)})}else i=C2;let s={},o=Sv(t.routes,i,void 0,s),a,l=t.basename||"/",c=mt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,u=new Set,d=null,h=null,m=null,v=t.hydrationData!=null,_=ua(o,t.history.location,l),g=null;if(_==null){let N=Kn(404,{pathname:t.history.location.pathname}),{matches:M,route:B}=p1(o);_=M,g={[B.id]:N}}let y=!_.some(N=>N.route.lazy)&&(!_.some(N=>N.route.loader)||t.hydrationData!=null),w,E={historyAction:t.history.action,location:t.history.location,matches:_,initialized:y,navigation:Hm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},S=kt.Pop,I=!1,x,T=!1,R=!1,P=[],O=[],A=new Map,L=0,k=-1,F=new Map,j=new Set,W=new Map,D=new Map,z=new Map,ne=!1;function he(){return f=t.history.listen(N=>{let{action:M,location:B,delta:re}=N;if(ne){ne=!1;return}Ma(z.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=Xc({currentLocation:E.location,nextLocation:B,historyAction:M});if(Ee&&re!=null){ne=!0,t.history.go(re*-1),sr(Ee,{state:"blocked",location:B,proceed(){sr(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),t.history.go(re)},reset(){let _e=new Map(E.blockers);_e.set(Ee,Dl),Ce({blockers:_e})}});return}return Pe(M,B)}),E.initialized||Pe(kt.Pop,E.location),w}function Ae(){f&&f(),u.clear(),x&&x.abort(),E.fetchers.forEach((N,M)=>V(M)),E.blockers.forEach((N,M)=>ct(M))}function Ke(N){return u.add(N),()=>u.delete(N)}function Ce(N){E=mt({},E,N),u.forEach(M=>M(E))}function xt(N,M){var B,re;let Ee=E.actionData!=null&&E.navigation.formMethod!=null&&fr(E.navigation.formMethod)&&E.navigation.state==="loading"&&((B=N.state)==null?void 0:B._isRedirect)!==!0,_e;M.actionData?Object.keys(M.actionData).length>0?_e=M.actionData:_e=null:Ee?_e=E.actionData:_e=null;let Te=M.loaderData?h1(E.loaderData,M.loaderData,M.matches||[],M.errors):E.loaderData,pe=E.blockers;pe.size>0&&(pe=new Map(pe),pe.forEach((pt,nn)=>pe.set(nn,Dl)));let ce=I===!0||E.navigation.formMethod!=null&&fr(E.navigation.formMethod)&&((re=N.state)==null?void 0:re._isRedirect)!==!0;a&&(o=a,a=void 0),T||S===kt.Pop||(S===kt.Push?t.history.push(N,N.state):S===kt.Replace&&t.history.replace(N,N.state)),Ce(mt({},M,{actionData:_e,loaderData:Te,historyAction:S,location:N,initialized:!0,navigation:Hm,revalidation:"idle",restoreScrollPosition:ed(N,M.matches||E.matches),preventScrollReset:ce,blockers:pe})),S=kt.Pop,I=!1,T=!1,R=!1,P=[],O=[]}async function Ze(N,M){if(typeof N=="number"){t.history.go(N);return}let B=xv(E.location,E.matches,l,c.v7_prependBasename,N,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:re,submission:Ee,error:_e}=a1(c.v7_normalizeFormMethod,!1,B,M),Te=E.location,pe=Uu(E.location,re,M&&M.state);pe=mt({},pe,t.history.encodeLocation(pe));let ce=M&&M.replace!=null?M.replace:void 0,pt=kt.Push;ce===!0?pt=kt.Replace:ce===!1||Ee!=null&&fr(Ee.formMethod)&&Ee.formAction===E.location.pathname+E.location.search&&(pt=kt.Replace);let nn=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Be=Xc({currentLocation:Te,nextLocation:pe,historyAction:pt});if(Be){sr(Be,{state:"blocked",location:pe,proceed(){sr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Ze(N,M)},reset(){let Je=new Map(E.blockers);Je.set(Be,Dl),Ce({blockers:Je})}});return}return await Pe(pt,pe,{submission:Ee,pendingError:_e,preventScrollReset:nn,replace:M&&M.replace})}function le(){if(C(),Ce({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Pe(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Pe(S||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Pe(N,M,B){x&&x.abort(),x=null,S=N,T=(B&&B.startUninterruptedRevalidation)===!0,Jc(E.location,E.matches),I=(B&&B.preventScrollReset)===!0;let re=a||o,Ee=B&&B.overrideNavigation,_e=ua(re,M,l);if(!_e){let Je=Kn(404,{pathname:M.pathname}),{matches:Rt,route:Ls}=p1(re);Ms(),xt(M,{matches:Rt,loaderData:{},errors:{[Ls.id]:Je}});return}if(E.initialized&&!R&&D2(E.location,M)&&!(B&&B.submission&&fr(B.submission.formMethod))){xt(M,{matches:_e});return}x=new AbortController;let Te=Ml(t.history,M,x.signal,B&&B.submission),pe,ce;if(B&&B.pendingError)ce={[ca(_e).route.id]:B.pendingError};else if(B&&B.submission&&fr(B.submission.formMethod)){let Je=await ht(Te,M,B.submission,_e,{replace:B.replace});if(Je.shortCircuited)return;pe=Je.pendingActionData,ce=Je.pendingActionError,Ee=qm(M,B.submission),Te=new Request(Te.url,{signal:Te.signal})}let{shortCircuited:pt,loaderData:nn,errors:Be}=await We(Te,M,_e,Ee,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,pe,ce);pt||(x=null,xt(M,mt({matches:_e},pe?{actionData:pe}:{},{loaderData:nn,errors:Be})))}async function ht(N,M,B,re,Ee){Ee===void 0&&(Ee={}),C();let _e=V2(M,B);Ce({navigation:_e});let Te,pe=Iv(re,M);if(!pe.route.action&&!pe.route.lazy)Te={type:It.error,error:Kn(405,{method:N.method,pathname:M.pathname,routeId:pe.route.id})};else if(Te=await $l("action",N,pe,re,s,i,l),N.signal.aborted)return{shortCircuited:!0};if(Ea(Te)){let ce;return Ee&&Ee.replace!=null?ce=Ee.replace:ce=Te.location===E.location.pathname+E.location.search,await tn(E,Te,{submission:B,replace:ce}),{shortCircuited:!0}}if(hu(Te)){let ce=ca(re,pe.route.id);return(Ee&&Ee.replace)!==!0&&(S=kt.Push),{pendingActionData:{},pendingActionError:{[ce.route.id]:Te.error}}}if(Ks(Te))throw Kn(400,{type:"defer-action"});return{pendingActionData:{[pe.route.id]:Te.data}}}async function We(N,M,B,re,Ee,_e,Te,pe,ce){let pt=re||qm(M,Ee),nn=Ee||_e||v1(pt),Be=a||o,[Je,Rt]=l1(t.history,E,B,nn,M,R,P,O,W,j,Be,l,pe,ce);if(Ms(Xe=>!(B&&B.some(or=>or.route.id===Xe))||Je&&Je.some(or=>or.route.id===Xe)),k=++L,Je.length===0&&Rt.length===0){let Xe=K();return xt(M,mt({matches:B,loaderData:{},errors:ce||null},pe?{actionData:pe}:{},Xe?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0}}if(!T){Rt.forEach(or=>{let Ui=E.fetchers.get(or.key),gm=Ll(void 0,Ui?Ui.data:void 0);E.fetchers.set(or.key,gm)});let Xe=pe||E.actionData;Ce(mt({navigation:pt},Xe?Object.keys(Xe).length===0?{actionData:null}:{actionData:Xe}:{},Rt.length>0?{fetchers:new Map(E.fetchers)}:{}))}Rt.forEach(Xe=>{A.has(Xe.key)&&J(Xe.key),Xe.controller&&A.set(Xe.key,Xe.controller)});let Ls=()=>Rt.forEach(Xe=>J(Xe.key));x&&x.signal.addEventListener("abort",Ls);let{results:Vs,loaderResults:Sl,fetcherResults:fm}=await xr(E.matches,B,Je,Rt,N);if(N.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Ls),Rt.forEach(Xe=>A.delete(Xe.key));let ti=m1(Vs);if(ti){if(ti.idx>=Je.length){let Xe=Rt[ti.idx-Je.length].key;j.add(Xe)}return await tn(E,ti.result,{replace:Te}),{shortCircuited:!0}}let{loaderData:ni,errors:nd}=f1(E,B,Je,Sl,ce,Rt,fm,D);D.forEach((Xe,or)=>{Xe.subscribe(Ui=>{(Ui||Xe.done)&&D.delete(or)})});let hm=K(),pm=ae(k),mm=hm||pm||Rt.length>0;return mt({loaderData:ni,errors:nd},mm?{fetchers:new Map(E.fetchers)}:{})}function Fe(N){return E.fetchers.get(N)||I2}function Ue(N,M,B,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");A.has(N)&&J(N);let Ee=a||o,_e=xv(E.location,E.matches,l,c.v7_prependBasename,B,M,re==null?void 0:re.relative),Te=ua(Ee,_e,l);if(!Te){$(N,M,Kn(404,{pathname:_e}));return}let{path:pe,submission:ce,error:pt}=a1(c.v7_normalizeFormMethod,!0,_e,re);if(pt){$(N,M,pt);return}let nn=Iv(Te,pe);if(I=(re&&re.preventScrollReset)===!0,ce&&fr(ce.formMethod)){Ut(N,M,pe,nn,Te,ce);return}W.set(N,{routeId:M,path:pe}),en(N,M,pe,nn,Te,ce)}async function Ut(N,M,B,re,Ee,_e){if(C(),W.delete(N),!re.route.action&&!re.route.lazy){let $t=Kn(405,{method:_e.formMethod,pathname:B,routeId:M});$(N,M,$t);return}let Te=E.fetchers.get(N),pe=F2(_e,Te);E.fetchers.set(N,pe),Ce({fetchers:new Map(E.fetchers)});let ce=new AbortController,pt=Ml(t.history,B,ce.signal,_e);A.set(N,ce);let nn=L,Be=await $l("action",pt,re,Ee,s,i,l);if(pt.signal.aborted){A.get(N)===ce&&A.delete(N);return}if(Ea(Be))if(A.delete(N),k>nn){let $t=Wo(void 0);E.fetchers.set(N,$t),Ce({fetchers:new Map(E.fetchers)});return}else{j.add(N);let $t=Ll(_e);return E.fetchers.set(N,$t),Ce({fetchers:new Map(E.fetchers)}),tn(E,Be,{fetcherSubmission:_e})}if(hu(Be)){$(N,M,Be.error);return}if(Ks(Be))throw Kn(400,{type:"defer-action"});let Je=E.navigation.location||E.location,Rt=Ml(t.history,Je,ce.signal),Ls=a||o,Vs=E.navigation.state!=="idle"?ua(Ls,E.navigation.location,l):E.matches;ke(Vs,"Didn't find any matches after fetcher action");let Sl=++L;F.set(N,Sl);let fm=Ll(_e,Be.data);E.fetchers.set(N,fm);let[ti,ni]=l1(t.history,E,Vs,_e,Je,R,P,O,W,j,Ls,l,{[re.route.id]:Be.data},void 0);ni.filter($t=>$t.key!==N).forEach($t=>{let xl=$t.key,Gw=E.fetchers.get(xl),xO=Ll(void 0,Gw?Gw.data:void 0);E.fetchers.set(xl,xO),A.has(xl)&&J(xl),$t.controller&&A.set(xl,$t.controller)}),Ce({fetchers:new Map(E.fetchers)});let nd=()=>ni.forEach($t=>J($t.key));ce.signal.addEventListener("abort",nd);let{results:hm,loaderResults:pm,fetcherResults:mm}=await xr(E.matches,Vs,ti,ni,Rt);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",nd),F.delete(N),A.delete(N),ni.forEach($t=>A.delete($t.key));let Xe=m1(hm);if(Xe){if(Xe.idx>=ti.length){let $t=ni[Xe.idx-ti.length].key;j.add($t)}return tn(E,Xe.result)}let{loaderData:or,errors:Ui}=f1(E,E.matches,ti,pm,void 0,ni,mm,D);if(E.fetchers.has(N)){let $t=Wo(Be.data);E.fetchers.set(N,$t)}let gm=ae(Sl);E.navigation.state==="loading"&&Sl>k?(ke(S,"Expected pending action"),x&&x.abort(),xt(E.navigation.location,{matches:Vs,loaderData:or,errors:Ui,fetchers:new Map(E.fetchers)})):(Ce(mt({errors:Ui,loaderData:h1(E.loaderData,or,Vs,Ui)},gm||ni.length>0?{fetchers:new Map(E.fetchers)}:{})),R=!1)}async function en(N,M,B,re,Ee,_e){let Te=E.fetchers.get(N),pe=Ll(_e,Te?Te.data:void 0);E.fetchers.set(N,pe),Ce({fetchers:new Map(E.fetchers)});let ce=new AbortController,pt=Ml(t.history,B,ce.signal);A.set(N,ce);let nn=L,Be=await $l("loader",pt,re,Ee,s,i,l);if(Ks(Be)&&(Be=await CR(Be,pt.signal,!0)||Be),A.get(N)===ce&&A.delete(N),pt.signal.aborted)return;if(Ea(Be))if(k>nn){let Rt=Wo(void 0);E.fetchers.set(N,Rt),Ce({fetchers:new Map(E.fetchers)});return}else{j.add(N),await tn(E,Be);return}if(hu(Be)){let Rt=ca(E.matches,M);E.fetchers.delete(N),Ce({fetchers:new Map(E.fetchers),errors:{[Rt.route.id]:Be.error}});return}ke(!Ks(Be),"Unhandled fetcher deferred data");let Je=Wo(Be.data);E.fetchers.set(N,Je),Ce({fetchers:new Map(E.fetchers)})}async function tn(N,M,B){let{submission:re,fetcherSubmission:Ee,replace:_e}=B===void 0?{}:B;M.revalidate&&(R=!0);let Te=Uu(N.location,M.location,{_isRedirect:!0});if(ke(Te,"Expected a location on the redirect navigation"),n){let Je=!1;if(M.reloadDocument)Je=!0;else if(xR.test(M.location)){const Rt=t.history.createURL(M.location);Je=Rt.origin!==e.location.origin||al(Rt.pathname,l)==null}if(Je){_e?e.location.replace(M.location):e.location.assign(M.location);return}}x=null;let pe=_e===!0?kt.Replace:kt.Push,{formMethod:ce,formAction:pt,formEncType:nn}=N.navigation;!re&&!Ee&&ce&&pt&&nn&&(re=v1(N.navigation));let Be=re||Ee;if(R2.has(M.status)&&Be&&fr(Be.formMethod))await Pe(pe,Te,{submission:mt({},Be,{formAction:M.location}),preventScrollReset:I});else{let Je=qm(Te,re);await Pe(pe,Te,{overrideNavigation:Je,fetcherSubmission:Ee,preventScrollReset:I})}}async function xr(N,M,B,re,Ee){let _e=await Promise.all([...B.map(ce=>$l("loader",Ee,ce,M,s,i,l)),...re.map(ce=>ce.matches&&ce.match&&ce.controller?$l("loader",Ml(t.history,ce.path,ce.controller.signal),ce.match,ce.matches,s,i,l):{type:It.error,error:Kn(404,{pathname:ce.path})})]),Te=_e.slice(0,B.length),pe=_e.slice(B.length);return await Promise.all([g1(N,B,Te,Te.map(()=>Ee.signal),!1,E.loaderData),g1(N,re.map(ce=>ce.match),pe,re.map(ce=>ce.controller?ce.controller.signal:null),!0)]),{results:_e,loaderResults:Te,fetcherResults:pe}}function C(){R=!0,P.push(...Ms()),W.forEach((N,M)=>{A.has(M)&&(O.push(M),J(M))})}function $(N,M,B){let re=ca(E.matches,M);V(N),Ce({errors:{[re.route.id]:B},fetchers:new Map(E.fetchers)})}function V(N){let M=E.fetchers.get(N);A.has(N)&&!(M&&M.state==="loading"&&F.has(N))&&J(N),W.delete(N),F.delete(N),j.delete(N),E.fetchers.delete(N)}function J(N){let M=A.get(N);ke(M,"Expected fetch controller: "+N),M.abort(),A.delete(N)}function Q(N){for(let M of N){let B=Fe(M),re=Wo(B.data);E.fetchers.set(M,re)}}function K(){let N=[],M=!1;for(let B of j){let re=E.fetchers.get(B);ke(re,"Expected fetcher: "+B),re.state==="loading"&&(j.delete(B),N.push(B),M=!0)}return Q(N),M}function ae(N){let M=[];for(let[B,re]of F)if(re<N){let Ee=E.fetchers.get(B);ke(Ee,"Expected fetcher: "+B),Ee.state==="loading"&&(J(B),F.delete(B),M.push(B))}return Q(M),M.length>0}function ut(N,M){let B=E.blockers.get(N)||Dl;return z.get(N)!==M&&z.set(N,M),B}function ct(N){E.blockers.delete(N),z.delete(N)}function sr(N,M){let B=E.blockers.get(N)||Dl;ke(B.state==="unblocked"&&M.state==="blocked"||B.state==="blocked"&&M.state==="blocked"||B.state==="blocked"&&M.state==="proceeding"||B.state==="blocked"&&M.state==="unblocked"||B.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+M.state);let re=new Map(E.blockers);re.set(N,M),Ce({blockers:re})}function Xc(N){let{currentLocation:M,nextLocation:B,historyAction:re}=N;if(z.size===0)return;z.size>1&&Ma(!1,"A router only supports one blocker at a time");let Ee=Array.from(z.entries()),[_e,Te]=Ee[Ee.length-1],pe=E.blockers.get(_e);if(!(pe&&pe.state==="proceeding")&&Te({currentLocation:M,nextLocation:B,historyAction:re}))return _e}function Ms(N){let M=[];return D.forEach((B,re)=>{(!N||N(re))&&(B.cancel(),M.push(re),D.delete(re))}),M}function Tl(N,M,B){if(d=N,m=M,h=B||null,!v&&E.navigation===Hm){v=!0;let re=ed(E.location,E.matches);re!=null&&Ce({restoreScrollPosition:re})}return()=>{d=null,m=null,h=null}}function Zc(N,M){return h&&h(N,M.map(re=>n2(re,E.loaderData)))||N.key}function Jc(N,M){if(d&&m){let B=Zc(N,M);d[B]=m()}}function ed(N,M){if(d){let B=Zc(N,M),re=d[B];if(typeof re=="number")return re}return null}function td(N){s={},a=Sv(N,i,void 0,s)}return w={get basename(){return l},get state(){return E},get routes(){return o},initialize:he,subscribe:Ke,enableScrollRestoration:Tl,navigate:Ze,fetch:Ue,revalidate:le,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Fe,deleteFetcher:V,dispose:Ae,getBlocker:ut,deleteBlocker:ct,_internalFetchControllers:A,_internalActiveDeferreds:D,_internalSetRoutes:td},w}function P2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xv(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let f of e)if(a.push(f),f.route.id===s){l=f;break}}else a=e,l=e[e.length-1];let c=F_(i||".",op(a).map(f=>f.pathnameBase),al(t.pathname,n)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!j_(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:gi([n,c.pathname])),ho(c)}function a1(t,e,n,r){if(!r||!P2(r))return{path:n};if(r.formMethod&&!L2(r.formMethod))return{path:n,error:Kn(405,{method:r.formMethod})};let i=()=>({path:n,error:Kn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=IR(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!fr(o))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[v,_]=m;return""+h+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!fr(o))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}ke(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Rv(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Rv(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=d1(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=d1(l)}catch{return i()}let f={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(fr(f.formMethod))return{path:n,submission:f};let u=$i(n);return e&&u.search&&j_(u.search)&&l.append("index",""),u.search="?"+l,{path:ho(u),submission:f}}function k2(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function l1(t,e,n,r,i,s,o,a,l,c,f,u,d,h){let m=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,v=t.createURL(e.location),_=t.createURL(i),g=h?Object.keys(h)[0]:void 0,w=k2(n,g).filter((S,I)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(N2(e.loaderData,e.matches[I],S)||o.some(R=>R===S.route.id))return!0;let x=e.matches[I],T=S;return u1(S,mt({currentUrl:v,currentParams:x.params,nextUrl:_,nextParams:T.params},r,{actionResult:m,defaultShouldRevalidate:s||v.pathname+v.search===_.pathname+_.search||v.search!==_.search||RR(x,T)}))}),E=[];return l.forEach((S,I)=>{if(!n.some(O=>O.route.id===S.routeId))return;let x=ua(f,S.path,u);if(!x){E.push({key:I,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(I),R=Iv(x,S.path),P=!1;c.has(I)?P=!1:a.includes(I)?P=!0:T&&T.state!=="idle"&&T.data===void 0?P=s:P=u1(R,mt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:s})),P&&E.push({key:I,routeId:S.routeId,path:S.path,matches:x,match:R,controller:new AbortController})}),[w,E]}function N2(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function RR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function u1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function c1(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ke(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ma(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!e2.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,mt({},e(i),{lazy:void 0}))}async function $l(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,c,f,u=m=>{let v,_=new Promise((g,y)=>v=y);return f=()=>v(),e.signal.addEventListener("abort",f),Promise.race([m({request:e,params:n.params,context:a.requestContext}),_])};try{let m=n.route[t];if(n.route.lazy)if(m){let v,_=await Promise.all([u(m).catch(g=>{v=g}),c1(n.route,s,i)]);if(v)throw v;c=_[0]}else if(await c1(n.route,s,i),m=n.route[t],m)c=await u(m);else if(t==="action"){let v=new URL(e.url),_=v.pathname+v.search;throw Kn(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:It.data,data:void 0};else if(m)c=await u(m);else{let v=new URL(e.url),_=v.pathname+v.search;throw Kn(404,{pathname:_})}ke(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){l=It.error,c=m}finally{f&&e.signal.removeEventListener("abort",f)}if(M2(c)){let m=c.status;if(x2.has(m)){let g=c.headers.get("Location");if(ke(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!xR.test(g))g=xv(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,g);else if(!a.isStaticRequest){let y=new URL(e.url),w=g.startsWith("//")?new URL(y.protocol+g):new URL(g),E=al(w.pathname,o)!=null;w.origin===y.origin&&E&&(g=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw c.headers.set("Location",g),c;return{type:It.redirect,status:m,location:g,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===It.error?It.error:It.data,response:c};let v,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await c.json():v=await c.text(),l===It.error?{type:l,error:new U_(m,c.statusText,v),headers:c.headers}:{type:It.data,data:v,statusCode:c.status,headers:c.headers}}if(l===It.error)return{type:l,error:c};if($2(c)){var d,h;return{type:It.deferred,deferredData:c,statusCode:(d=c.init)==null?void 0:d.status,headers:((h=c.init)==null?void 0:h.headers)&&new Headers(c.init.headers)}}return{type:It.data,data:c}}function Ml(t,e,n,r){let i=t.createURL(IR(e)).toString(),s={signal:n};if(r&&fr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Rv(r.formData):s.body=r.formData}return new Request(i,s)}function Rv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function d1(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function O2(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((f,u)=>{let d=e[u].route.id;if(ke(!Ea(f),"Cannot handle redirect results in processLoaderData"),hu(f)){let h=ca(t,d),m=f.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[h.route.id]==null&&(o[h.route.id]=m),s[d]=void 0,l||(l=!0,a=TR(f.error)?f.error.status:500),f.headers&&(c[d]=f.headers)}else Ks(f)?(i.set(d,f.deferredData),s[d]=f.deferredData.data):s[d]=f.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[d]=f.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function f1(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=O2(e,n,r,i,a);for(let f=0;f<s.length;f++){let{key:u,match:d,controller:h}=s[f];ke(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let m=o[f];if(!(h&&h.signal.aborted))if(hu(m)){let v=ca(t.matches,d==null?void 0:d.route.id);c&&c[v.route.id]||(c=mt({},c,{[v.route.id]:m.error})),t.fetchers.delete(u)}else if(Ea(m))ke(!1,"Unhandled fetcher revalidation redirect");else if(Ks(m))ke(!1,"Unhandled fetcher deferred data");else{let v=Wo(m.data);t.fetchers.set(u,v)}}return{loaderData:l,errors:c}}function h1(t,e,n,r){let i=mt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ca(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function p1(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new U_(t||500,o,new Error(a),!0)}function m1(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ea(n))return{result:n,idx:e}}}function IR(t){let e=typeof t=="string"?$i(t):t;return ho(mt({},e,{hash:""}))}function D2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ks(t){return t.type===It.deferred}function hu(t){return t.type===It.error}function Ea(t){return(t&&t.type)===It.redirect}function $2(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function M2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function L2(t){return S2.has(t.toLowerCase())}function fr(t){return b2.has(t.toLowerCase())}async function g1(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(u=>u.route.id===l.route.id),f=c!=null&&!RR(c,l)&&(s&&s[l.route.id])!==void 0;if(Ks(a)&&(i||f)){let u=r[o];ke(u,"Expected an AbortSignal for revalidating fetcher deferred result"),await CR(a,u,i).then(d=>{d&&(n[o]=d||n[o])})}}}async function CR(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:It.data,data:t.deferredData.unwrappedData}}catch(i){return{type:It.error,error:i}}return{type:It.data,data:t.deferredData.data}}}function j_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Iv(t,e){let n=typeof e=="string"?$i(e).search:e.search;if(t[t.length-1].route.index&&j_(n||""))return t[t.length-1];let r=op(t);return r[r.length-1]}function v1(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function qm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function V2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ll(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Wo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(this,arguments)}const ap=p.createContext(null),B_=p.createContext(null),Io=p.createContext(null),lp=p.createContext(null),Mi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),AR=p.createContext(null);function U2(t,e){let{relative:n}=e===void 0?{}:e;vc()||ke(!1);let{basename:r,navigator:i}=p.useContext(Io),{hash:s,pathname:o,search:a}=z_(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:gi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vc(){return p.useContext(lp)!=null}function yc(){return vc()||ke(!1),p.useContext(lp).location}function PR(t){p.useContext(Io).static||p.useLayoutEffect(t)}function j2(){let{isDataRoute:t}=p.useContext(Mi);return t?tM():B2()}function B2(){vc()||ke(!1);let t=p.useContext(ap),{basename:e,navigator:n}=p.useContext(Io),{matches:r}=p.useContext(Mi),{pathname:i}=yc(),s=JSON.stringify(op(r).map(l=>l.pathnameBase)),o=p.useRef(!1);return PR(()=>{o.current=!0}),p.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=F_(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gi([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,i,t])}const z2=p.createContext(null);function H2(t){let e=p.useContext(Mi).outlet;return e&&p.createElement(z2.Provider,{value:t},e)}function q2(){let{matches:t}=p.useContext(Mi),e=t[t.length-1];return e?e.params:{}}function z_(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=p.useContext(Mi),{pathname:i}=yc(),s=JSON.stringify(op(r).map(o=>o.pathnameBase));return p.useMemo(()=>F_(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function W2(t,e,n){vc()||ke(!1);let{navigator:r}=p.useContext(Io),{matches:i}=p.useContext(Mi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=yc(),c;if(e){var f;let v=typeof e=="string"?$i(e):e;a==="/"||(f=v.pathname)!=null&&f.startsWith(a)||ke(!1),c=v}else c=l;let u=c.pathname||"/",d=a==="/"?u:u.slice(a.length)||"/",h=ua(t,{pathname:d}),m=X2(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:gi([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:gi([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&m?p.createElement(lp.Provider,{value:{location:jf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:kt.Pop}},m):m}function K2(){let t=OR(),e=TR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,s)}const G2=p.createElement(K2,null);class Q2 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?p.createElement(Mi.Provider,{value:this.props.routeContext},p.createElement(AR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y2(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(ap);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Mi.Provider,{value:e},r)}function X2(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ke(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let f=l.route.id?o==null?void 0:o[l.route.id]:null,u=null;n&&(u=l.route.errorElement||G2);let d=e.concat(s.slice(0,c+1)),h=()=>{let m;return f?m=u:l.route.Component?m=p.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,p.createElement(Y2,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?p.createElement(Q2,{location:n.location,revalidation:n.revalidation,component:u,error:f,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var kR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kR||{}),Bf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bf||{});function Z2(t){let e=p.useContext(ap);return e||ke(!1),e}function J2(t){let e=p.useContext(B_);return e||ke(!1),e}function eM(t){let e=p.useContext(Mi);return e||ke(!1),e}function NR(t){let e=eM(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function OR(){var t;let e=p.useContext(AR),n=J2(Bf.UseRouteError),r=NR(Bf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tM(){let{router:t}=Z2(kR.UseNavigateStable),e=NR(Bf.UseNavigateStable),n=p.useRef(!1);return PR(()=>{n.current=!0}),p.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jf({fromRouteId:e},s)))},[t,e])}const nM="startTransition",y1=mS[nM];function rM(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=p.useState(n.state),{v7_startTransition:o}=r||{},a=p.useCallback(u=>{o&&y1?y1(()=>s(u)):s(u)},[s,o]);p.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:u=>n.navigate(u),push:(u,d,h)=>n.navigate(u,{state:d,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(u,d,h)=>n.navigate(u,{replace:!0,state:d,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[n]),c=n.basename||"/",f=p.useMemo(()=>({router:n,navigator:l,static:!1,basename:c}),[n,l,c]);return p.createElement(p.Fragment,null,p.createElement(ap.Provider,{value:f},p.createElement(B_.Provider,{value:i},p.createElement(sM,{basename:c,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?p.createElement(iM,{routes:n.routes,state:i}):e))),null)}function iM(t){let{routes:e,state:n}=t;return W2(e,void 0,n)}function DR(t){return H2(t.context)}function sM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kt.Pop,navigator:s,static:o=!1}=t;vc()&&ke(!1);let a=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=$i(r));let{pathname:c="/",search:f="",hash:u="",state:d=null,key:h="default"}=r,m=p.useMemo(()=>{let v=al(c,a);return v==null?null:{location:{pathname:v,search:f,hash:u,state:d,key:h},navigationType:i}},[a,c,f,u,d,h,i]);return m==null?null:p.createElement(Io.Provider,{value:l},p.createElement(lp.Provider,{children:n,value:m}))}new Promise(()=>{});function oM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:p.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:p.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},La.apply(this,arguments)}function $R(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lM(t,e){return t.button===0&&(!e||e==="_self")&&!aM(t)}const uM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],cM=["aria-current","caseSensitive","className","end","style","to","children"];function dM(t,e){return A2({basename:e==null?void 0:e.basename,future:La({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:X$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||fM(),routes:t,mapRouteProperties:oM}).initialize()}function fM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=La({},e,{errors:hM(e.errors)})),e}function hM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new U_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const pM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MR=p.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f}=e,u=$R(e,uM),{basename:d}=p.useContext(Io),h,m=!1;if(typeof c=="string"&&mM.test(c)&&(h=c,pM))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),E=al(w.pathname,d);w.origin===y.origin&&E!=null?c=E+w.search+w.hash:m=!0}catch{}let v=U2(c,{relative:i}),_=vM(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i});function g(y){r&&r(y),y.defaultPrevented||_(y)}return p.createElement("a",La({},u,{href:h||v,onClick:m||s?r:g,ref:n,target:l}))}),gM=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,f=$R(e,cM),u=z_(l,{relative:f.relative}),d=yc(),h=p.useContext(B_),{navigator:m}=p.useContext(Io),v=m.encodeLocation?m.encodeLocation(u).pathname:u.pathname,_=d.pathname,g=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(_=_.toLowerCase(),g=g?g.toLowerCase():null,v=v.toLowerCase());let y=_===v||!o&&_.startsWith(v)&&_.charAt(v.length)==="/",w=g!=null&&(g===v||!o&&g.startsWith(v)&&g.charAt(v.length)==="/"),E=y?r:void 0,S;typeof s=="function"?S=s({isActive:y,isPending:w}):S=[s,y?"active":null,w?"pending":null].filter(Boolean).join(" ");let I=typeof a=="function"?a({isActive:y,isPending:w}):a;return p.createElement(MR,La({},f,{"aria-current":E,className:S,ref:n,style:I,to:l}),typeof c=="function"?c({isActive:y,isPending:w}):c)});var _1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(_1||(_1={}));var w1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(w1||(w1={}));function vM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=j2(),l=yc(),c=z_(t,{relative:o});return p.useCallback(f=>{if(lM(f,n)){f.preventDefault();let u=r!==void 0?r:ho(l)===ho(c);a(t,{replace:u,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}class ll{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ju=typeof window>"u"||"Deno"in window;function Gn(){}function yM(t,e){return typeof t=="function"?t(e):t}function Cv(t){return typeof t=="number"&&t>=0&&t!==1/0}function LR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yl(t,e,n){return _c(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function _M(t,e,n){return _c(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Ki(t,e,n){return _c(t)?[{...e,queryKey:t},n]:[t||{},e]}function E1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(_c(o)){if(r){if(e.queryHash!==H_(o,e.options))return!1}else if(!zf(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function b1(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(_c(s)){if(!e.options.mutationKey)return!1;if(n){if(Gs(e.options.mutationKey)!==Gs(s))return!1}else if(!zf(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function H_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gs)(t)}function Gs(t){return JSON.stringify(t,(e,n)=>Av(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zf(t,e){return VR(t,e)}function VR(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!VR(t[n],e[n])):!1}function FR(t,e){if(t===e)return t;const n=T1(t)&&T1(e);if(n||Av(t)&&Av(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const c=n?l:i[l];o[c]=FR(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function Hf(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function T1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Av(t){if(!S1(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!S1(n)||!n.hasOwnProperty("isPrototypeOf"))}function S1(t){return Object.prototype.toString.call(t)==="[object Object]"}function _c(t){return Array.isArray(t)}function UR(t){return new Promise(e=>{setTimeout(e,t)})}function x1(t){UR(0).then(t)}function wM(){if(typeof AbortController=="function")return new AbortController}function Pv(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FR(t,e):e}class EM extends ll{constructor(){super(),this.setup=e=>{if(!ju&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const qf=new EM,R1=["online","offline"];class bM extends ll{constructor(){super(),this.setup=e=>{if(!ju&&window.addEventListener){const n=()=>e();return R1.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{R1.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Wf=new bM;function TM(t){return Math.min(1e3*2**t,3e4)}function up(t){return(t??"online")==="online"?Wf.isOnline():!0}class jR{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function ef(t){return t instanceof jR}function BR(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((_,g)=>{s=_,o=g}),l=_=>{r||(h(new jR(_)),t.abort==null||t.abort())},c=()=>{e=!0},f=()=>{e=!1},u=()=>!qf.isFocused()||t.networkMode!=="always"&&!Wf.isOnline(),d=_=>{r||(r=!0,t.onSuccess==null||t.onSuccess(_),i==null||i(),s(_))},h=_=>{r||(r=!0,t.onError==null||t.onError(_),i==null||i(),o(_))},m=()=>new Promise(_=>{i=g=>{const y=r||!u();return y&&_(g),y},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),v=()=>{if(r)return;let _;try{_=t.fn()}catch(g){_=Promise.reject(g)}Promise.resolve(_).then(d).catch(g=>{var y,w;if(r)return;const E=(y=t.retry)!=null?y:3,S=(w=t.retryDelay)!=null?w:TM,I=typeof S=="function"?S(n,g):S,x=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,g);if(e||!x){h(g);return}n++,t.onFail==null||t.onFail(n,g),UR(I).then(()=>{if(u())return m()}).then(()=>{e?h(g):v()})})};return up(t.networkMode)?v():m().then(v),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:f}}const q_=console;function SM(){let t=[],e=0,n=f=>{f()},r=f=>{f()};const i=f=>{let u;e++;try{u=f()}finally{e--,e||a()}return u},s=f=>{e?t.push(f):x1(()=>{n(f)})},o=f=>(...u)=>{s(()=>{f(...u)})},a=()=>{const f=t;t=[],f.length&&x1(()=>{r(()=>{f.forEach(u=>{n(u)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f}}}const bt=SM();class zR{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cv(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ju?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let xM=class extends zR{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||q_,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||RM(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=Pv(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!LR(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const o=wM(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(f),(r=this.options.behavior)==null||r.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=f.fetchOptions)==null?void 0:i.meta)){var u;this.dispatch({type:"fetch",meta:(u=f.fetchOptions)==null?void 0:u.meta})}const d=h=>{if(ef(h)&&h.silent||this.dispatch({type:"error",error:h}),!ef(h)){var m,v,_,g;(m=(v=this.cache.config).onError)==null||m.call(v,h,this),(_=(g=this.cache.config).onSettled)==null||_.call(g,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=BR({fn:f.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var m,v,_,g;if(typeof h>"u"){d(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(m=(v=this.cache.config).onSuccess)==null||m.call(v,h,this),(_=(g=this.cache.config).onSettled)==null||_.call(g,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(h,m)=>{this.dispatch({type:"failed",failureCount:h,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:up(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return ef(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function RM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class IM extends ll{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:H_(s,n);let a=this.get(o);return a||(a=new xM({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){bt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Ki(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>E1(r,i))}findAll(e,n){const[r]=Ki(e,n);return Object.keys(r).length>0?this.queries.filter(i=>E1(r,i)):this.queries}notify(e){bt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){bt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){bt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let CM=class extends zR{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||q_,this.observers=[],this.state=e.state||HR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var x;return this.retryer=BR({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(T,R)=>{this.dispatch({type:"failed",failureCount:T,error:R})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(x=this.options.retry)!=null?x:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,c,f;if(!n){var u,d,h,m;this.dispatch({type:"loading",variables:this.options.variables}),await((u=(d=this.mutationCache.config).onMutate)==null?void 0:u.call(d,this.state.variables,this));const T=await((h=(m=this.options).onMutate)==null?void 0:h.call(m,this.state.variables));T!==this.state.context&&this.dispatch({type:"loading",context:T,variables:this.state.variables})}const x=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,x,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,x,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,x,null,this.state.variables,this.state.context,this)),await((c=(f=this.options).onSettled)==null?void 0:c.call(f,x,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:x}),x}catch(x){try{var v,_,g,y,w,E,S,I;throw await((v=(_=this.mutationCache.config).onError)==null?void 0:v.call(_,x,this.state.variables,this.state.context,this)),await((g=(y=this.options).onError)==null?void 0:g.call(y,x,this.state.variables,this.state.context)),await((w=(E=this.mutationCache.config).onSettled)==null?void 0:w.call(E,void 0,x,this.state.variables,this.state.context,this)),await((S=(I=this.options).onSettled)==null?void 0:S.call(I,void 0,x,this.state.variables,this.state.context)),x}finally{this.dispatch({type:"error",error:x})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!up(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function HR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class AM extends ll{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new CM({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){bt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>b1(e,n))}findAll(e){return this.mutations.filter(n=>b1(e,n))}notify(e){bt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return bt.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Gn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function PM(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,c=l==null?void 0:l.pageParam,f=(l==null?void 0:l.direction)==="forward",u=(l==null?void 0:l.direction)==="backward",d=((s=t.state.data)==null?void 0:s.pages)||[],h=((o=t.state.data)==null?void 0:o.pageParams)||[];let m=h,v=!1;const _=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>{var x;if((x=t.signal)!=null&&x.aborted)v=!0;else{var T;(T=t.signal)==null||T.addEventListener("abort",()=>{v=!0})}return t.signal}})},g=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),y=(I,x,T,R)=>(m=R?[x,...m]:[...m,x],R?[T,...I]:[...I,T]),w=(I,x,T,R)=>{if(v)return Promise.reject("Cancelled");if(typeof T>"u"&&!x&&I.length)return Promise.resolve(I);const P={queryKey:t.queryKey,pageParam:T,meta:t.options.meta};_(P);const O=g(P);return Promise.resolve(O).then(L=>y(I,T,L,R))};let E;if(!d.length)E=w([]);else if(f){const I=typeof c<"u",x=I?c:I1(t.options,d);E=w(d,I,x)}else if(u){const I=typeof c<"u",x=I?c:kM(t.options,d);E=w(d,I,x,!0)}else{m=[];const I=typeof t.options.getNextPageParam>"u";E=(a&&d[0]?a(d[0],0,d):!0)?w([],I,h[0]):Promise.resolve(y([],h[0],d[0]));for(let T=1;T<d.length;T++)E=E.then(R=>{if(a&&d[T]?a(d[T],T,d):!0){const O=I?h[T]:I1(t.options,R);return w(R,I,O)}return Promise.resolve(y(R,h[T],d[T]))})}return E.then(I=>({pages:I,pageParams:m}))}}}}function I1(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function kM(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class NM{constructor(e={}){this.queryCache=e.queryCache||new IM,this.mutationCache=e.mutationCache||new AM,this.logger=e.logger||q_,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=qf.subscribe(()=>{qf.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Wf.subscribe(()=>{Wf.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Ki(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Yl(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=yM(n,s);if(typeof o>"u")return;const a=Yl(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return bt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Ki(e,n),i=this.queryCache;bt.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Ki(e,n,r),o=this.queryCache,a={type:"active",...i};return bt.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=Ki(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=bt.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Gn).catch(Gn)}invalidateQueries(e,n,r){const[i,s]=Ki(e,n,r);return bt.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(c=>{c.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=Ki(e,n,r),o=bt.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Gn);return s!=null&&s.throwOnError||(a=a.catch(Gn)),a}fetchQuery(e,n,r){const i=Yl(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Gn).catch(Gn)}fetchInfiniteQuery(e,n,r){const i=Yl(e,n,r);return i.behavior=PM(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Gn).catch(Gn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Gs(e)===Gs(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>zf(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Gs(e)===Gs(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>zf(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=H_(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class OM extends ll{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),C1(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kv(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Hf(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&A1(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return $M(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Gn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),ju||this.currentResult.isStale||!Cv(this.options.staleTime))return;const n=LR(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ju||this.options.enabled===!1||!Cv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||qf.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,c=l?e.state:this.currentQueryInitialState,f=l?this.currentResult:this.previousQueryResult,{state:u}=e;let{dataUpdatedAt:d,error:h,errorUpdatedAt:m,fetchStatus:v,status:_}=u,g=!1,y=!1,w;if(n._optimisticResults){const T=this.hasListeners(),R=!T&&C1(e,n),P=T&&A1(e,r,n,i);(R||P)&&(v=up(e.options.networkMode)?"fetching":"paused",d||(_="loading")),n._optimisticResults==="isRestoring"&&(v="idle")}if(n.keepPreviousData&&!u.dataUpdatedAt&&f!=null&&f.isSuccess&&_!=="error")w=f.data,d=f.dataUpdatedAt,_=f.status,g=!0;else if(n.select&&typeof u.data<"u")if(s&&u.data===(o==null?void 0:o.data)&&n.select===this.selectFn)w=this.selectResult;else try{this.selectFn=n.select,w=n.select(u.data),w=Pv(s==null?void 0:s.data,w,n),this.selectResult=w,this.selectError=null}catch(T){this.selectError=T}else w=u.data;if(typeof n.placeholderData<"u"&&typeof w>"u"&&_==="loading"){let T;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=s.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof T<"u")try{T=n.select(T),this.selectError=null}catch(R){this.selectError=R}typeof T<"u"&&(_="success",w=Pv(s==null?void 0:s.data,T,n),y=!0)}this.selectError&&(h=this.selectError,w=this.selectResult,m=Date.now(),_="error");const E=v==="fetching",S=_==="loading",I=_==="error";return{status:_,fetchStatus:v,isLoading:S,isSuccess:_==="success",isError:I,isInitialLoading:S&&E,data:w,dataUpdatedAt:d,error:h,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:E,isRefetching:E&&!S,isLoadingError:I&&u.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:y,isPreviousData:g,isRefetchError:I&&u.dataUpdatedAt!==0,isStale:W_(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Hf(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const f=c;return this.currentResult[f]!==n[f]&&l.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!ef(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){bt.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function DM(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function C1(t,e){return DM(t,e)||t.state.dataUpdatedAt>0&&kv(t,e,e.refetchOnMount)}function kv(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&W_(t,e)}return!1}function A1(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&W_(t,n)}function W_(t,e){return t.isStaleByTime(e.staleTime)}function $M(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Hf(t.getCurrentResult(),e)}let MM=class extends ll{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),Hf(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:HR(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){bt.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,c;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(c=this.mutateOptions).onSettled)==null||l.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)})})}};var qR={exports:{}},WR={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=p;function LM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VM=typeof Object.is=="function"?Object.is:LM,FM=Va.useState,UM=Va.useEffect,jM=Va.useLayoutEffect,BM=Va.useDebugValue;function zM(t,e){var n=e(),r=FM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return jM(function(){i.value=n,i.getSnapshot=e,Wm(i)&&s({inst:i})},[t,n,e]),UM(function(){return Wm(i)&&s({inst:i}),t(function(){Wm(i)&&s({inst:i})})},[t]),BM(n),n}function Wm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!VM(t,n)}catch{return!0}}function HM(t,e){return e()}var qM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HM:zM;WR.useSyncExternalStore=Va.useSyncExternalStore!==void 0?Va.useSyncExternalStore:qM;qR.exports=WR;var KR=qR.exports;const GR=KR.useSyncExternalStore,P1=p.createContext(void 0),QR=p.createContext(!1);function YR(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=P1),window.ReactQueryClientContext):P1)}const cp=({context:t}={})=>{const e=p.useContext(YR(t,p.useContext(QR)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WM=({client:t,children:e,context:n,contextSharing:r=!1})=>{p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=YR(n,r);return p.createElement(QR.Provider,{value:!n&&r},p.createElement(i.Provider,{value:t},e))},XR=p.createContext(!1),KM=()=>p.useContext(XR);XR.Provider;function GM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const QM=p.createContext(GM()),YM=()=>p.useContext(QM);function ZR(t,e){return typeof t=="function"?t(...e):!!t}const XM=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},ZM=t=>{p.useEffect(()=>{t.clearReset()},[t])},JM=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&ZR(n,[t.error,r]),eL=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},tL=(t,e)=>t.isLoading&&t.isFetching&&!e,nL=(t,e,n)=>(t==null?void 0:t.suspense)&&tL(e,n),rL=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function iL(t,e){const n=cp({context:t.context}),r=KM(),i=YM(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=bt.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=bt.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=bt.batchCalls(s.onSettled)),eL(s),XM(s,i),ZM(i);const[o]=p.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(GR(p.useCallback(l=>{const c=r?()=>{}:o.subscribe(bt.batchCalls(l));return o.updateResult(),c},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),p.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),nL(s,a,r))throw rL(s,o,i);if(JM({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function Kf(t,e,n){const r=Yl(t,e,n);return iL(r,OM)}function JR(t,e,n){const r=_M(t,e,n),i=cp({context:r.context}),[s]=p.useState(()=>new MM(i,r));p.useEffect(()=>{s.setOptions(r)},[s,r]);const o=GR(p.useCallback(l=>s.subscribe(bt.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=p.useCallback((l,c)=>{s.mutate(l,c).catch(sL)},[s]);if(o.error&&ZR(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function sL(){}const oL=function(){return null};function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y.apply(this,arguments)}function Gf(t,[e,n]){return Math.min(n,Math.max(e,t))}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function aL(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function K_(...t){return e=>t.forEach(n=>aL(n,e))}function qe(...t){return p.useCallback(K_(...t),t)}function Li(t,e=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];function c(u){const{scope:d,children:h,...m}=u,v=(d==null?void 0:d[t][l])||a,_=p.useMemo(()=>m,Object.values(m));return p.createElement(v.Provider,{value:_},h)}function f(u,d){const h=(d==null?void 0:d[t][l])||a,m=p.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,f]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,lL(i,...e)]}function lL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Qt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Ti({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=uL({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Qt(n),l=p.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else i(c)},[s,t,i,a]);return[o,l]}function uL({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),s=Qt(e);return p.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const cL=p.createContext(void 0);function wc(t){const e=p.useContext(cL);return t||e||"ltr"}function dp(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const Dn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function G_(t){const[e,n]=p.useState(void 0);return Dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const ws=p.forwardRef((t,e)=>{const{children:n,...r}=t,i=p.Children.toArray(n),s=i.find(fL);if(s){const o=s.props.children,a=i.map(l=>l===s?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return p.createElement(Nv,Y({},r,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,a):null)}return p.createElement(Nv,Y({},r,{ref:e}),n)});ws.displayName="Slot";const Nv=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...hL(r,n.props),ref:e?K_(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});Nv.displayName="SlotClone";const dL=({children:t})=>p.createElement(p.Fragment,null,t);function fL(t){return p.isValidElement(t)&&t.type===dL}function hL(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const pL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ye=pL.reduce((t,e)=>{const n=p.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ws:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,Y({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function mL(t,e){t&&Ro.flushSync(()=>t.dispatchEvent(e))}function Ec(t){const e=t+"CollectionProvider",[n,r]=Li(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:m,children:v}=h,_=De.useRef(null),g=De.useRef(new Map).current;return De.createElement(i,{scope:m,itemMap:g,collectionRef:_},v)},a=t+"CollectionSlot",l=De.forwardRef((h,m)=>{const{scope:v,children:_}=h,g=s(a,v),y=qe(m,g.collectionRef);return De.createElement(ws,{ref:y},_)}),c=t+"CollectionItemSlot",f="data-radix-collection-item",u=De.forwardRef((h,m)=>{const{scope:v,children:_,...g}=h,y=De.useRef(null),w=qe(m,y),E=s(c,v);return De.useEffect(()=>(E.itemMap.set(y,{ref:y,...g}),()=>void E.itemMap.delete(y))),De.createElement(ws,{[f]:"",ref:w},_)});function d(h){const m=s(t+"CollectionConsumer",h);return De.useCallback(()=>{const _=m.collectionRef.current;if(!_)return[];const g=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((E,S)=>g.indexOf(E.ref.current)-g.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:u},d,r]}const eI=["PageUp","PageDown"],tI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nI={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bc="Slider",[Ov,gL,vL]=Ec(bc),[rI,OK]=Li(bc,[vL]),[yL,fp]=rI(bc),_L=p.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:f,onValueChange:u=()=>{},onValueCommit:d=()=>{},inverted:h=!1,...m}=t,[v,_]=p.useState(null),g=qe(e,k=>_(k)),y=p.useRef(new Set),w=p.useRef(0),E=o==="horizontal",S=v?!!v.closest("form"):!0,I=E?wL:EL,[x=[],T]=Ti({prop:f,defaultProp:c,onChange:k=>{var F;(F=[...y.current][w.current])===null||F===void 0||F.focus(),u(k)}}),R=p.useRef(x);function P(k){const F=PL(x,k);L(k,F)}function O(k){L(k,w.current)}function A(){const k=R.current[w.current];x[w.current]!==k&&d(x)}function L(k,F,{commit:j}={commit:!1}){const W=DL(s),D=$L(Math.round((k-r)/s)*s+r,W),z=Gf(D,[r,i]);T((ne=[])=>{const he=CL(ne,z,F);if(OL(he,l*s)){w.current=he.indexOf(z);const Ae=String(he)!==String(ne);return Ae&&j&&d(he),Ae?he:ne}else return ne})}return p.createElement(yL,{scope:t.__scopeSlider,disabled:a,min:r,max:i,valueIndexToChangeRef:w,thumbs:y.current,values:x,orientation:o},p.createElement(Ov.Provider,{scope:t.__scopeSlider},p.createElement(Ov.Slot,{scope:t.__scopeSlider},p.createElement(I,Y({"aria-disabled":a,"data-disabled":a?"":void 0},m,{ref:g,onPointerDown:fe(m.onPointerDown,()=>{a||(R.current=x)}),min:r,max:i,inverted:h,onSlideStart:a?void 0:P,onSlideMove:a?void 0:O,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&L(r,0,{commit:!0}),onEndKeyDown:()=>!a&&L(i,x.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:F})=>{if(!a){const D=eI.includes(k.key)||k.shiftKey&&tI.includes(k.key)?10:1,z=w.current,ne=x[z],he=s*D*F;L(ne+he,z,{commit:!0})}}})))),S&&x.map((k,F)=>p.createElement(IL,{key:F,name:n?n+(x.length>1?"[]":""):void 0,value:k})))}),[iI,sI]=rI(bc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wL=p.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...f}=t,[u,d]=p.useState(null),h=qe(e,w=>d(w)),m=p.useRef(),v=wc(i),_=v==="ltr",g=_&&!s||!_&&s;function y(w){const E=m.current||u.getBoundingClientRect(),S=[0,E.width],x=Q_(S,g?[n,r]:[r,n]);return m.current=E,x(w-E.left)}return p.createElement(iI,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width"},p.createElement(oI,Y({dir:v,"data-orientation":"horizontal"},f,{ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const E=y(w.clientX);o==null||o(E)},onSlideMove:w=>{const E=y(w.clientX);a==null||a(E)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:w=>{const S=nI[g?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:S?-1:1})}})))}),EL=p.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,f=p.useRef(null),u=qe(e,f),d=p.useRef(),h=!i;function m(v){const _=d.current||f.current.getBoundingClientRect(),g=[0,_.height],w=Q_(g,h?[r,n]:[n,r]);return d.current=_,w(v-_.top)}return p.createElement(iI,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1},p.createElement(oI,Y({"data-orientation":"vertical"},c,{ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const _=m(v.clientY);s==null||s(_)},onSlideMove:v=>{const _=m(v.clientY);o==null||o(_)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:v=>{const g=nI[h?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:g?-1:1})}})))}),oI=p.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,f=fp(bc,n);return p.createElement(ye.span,Y({},c,{ref:e,onKeyDown:fe(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):eI.concat(tI).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:fe(t.onPointerDown,u=>{const d=u.target;d.setPointerCapture(u.pointerId),u.preventDefault(),f.thumbs.has(d)?d.focus():r(u)}),onPointerMove:fe(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:fe(t.onPointerUp,u=>{const d=u.target;d.hasPointerCapture(u.pointerId)&&(d.releasePointerCapture(u.pointerId),s(u))})}))}),bL="SliderTrack",TL=p.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=fp(bL,n);return p.createElement(ye.span,Y({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:e}))}),k1="SliderRange",SL=p.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=fp(k1,n),s=sI(k1,n),o=p.useRef(null),a=qe(e,o),l=i.values.length,c=i.values.map(d=>aI(d,i.min,i.max)),f=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.createElement(ye.span,Y({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:a,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:u+"%"}}))}),N1="SliderThumb",xL=p.forwardRef((t,e)=>{const n=gL(t.__scopeSlider),[r,i]=p.useState(null),s=qe(e,a=>i(a)),o=p.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.createElement(RL,Y({},t,{ref:s,index:o}))}),RL=p.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,...i}=t,s=fp(N1,n),o=sI(N1,n),[a,l]=p.useState(null),c=qe(e,_=>l(_)),f=G_(a),u=s.values[r],d=u===void 0?0:aI(u,s.min,s.max),h=AL(r,s.values.length),m=f==null?void 0:f[o.size],v=m?kL(m,d,o.direction):0;return p.useEffect(()=>{if(a)return s.thumbs.add(a),()=>{s.thumbs.delete(a)}},[a,s.thumbs]),p.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${d}% + ${v}px)`}},p.createElement(Ov.ItemSlot,{scope:t.__scopeSlider},p.createElement(ye.span,Y({role:"slider","aria-label":t["aria-label"]||h,"aria-valuemin":s.min,"aria-valuenow":u,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0},i,{ref:c,style:u===void 0?{display:"none"}:t.style,onFocus:fe(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})}))))}),IL=t=>{const{value:e,...n}=t,r=p.useRef(null),i=dp(e);return p.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),p.createElement("input",Y({style:{display:"none"}},n,{ref:r,defaultValue:e}))};function CL(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function aI(t,e,n){const s=100/(n-e)*(t-e);return Gf(s,[0,100])}function AL(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function PL(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function kL(t,e,n){const r=t/2,s=Q_([0,50],[0,r]);return(r-s(e)*n)*n}function NL(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function OL(t,e){if(e>0){const n=NL(t);return Math.min(...n)>=e}return!0}function Q_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function DL(t){return(String(t).split(".")[1]||"").length}function $L(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}const lI=_L,ML=TL,LL=SL,VL=xL;function uI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=uI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function cI(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=uI(t))&&(r&&(r+=" "),r+=e);return r}function FL(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=dI(e))&&(r&&(r+=" "),r+=n);return r}function dI(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=dI(t[r]))&&(n&&(n+=" "),n+=e);return n}var Y_="-";function UL(t){var e=BL(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(Y_);return l[0]===""&&l.length!==1&&l.shift(),fI(l,e)||jL(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function fI(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?fI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Y_);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var O1=/^\[(.+)\]$/;function jL(t){if(O1.test(t)){var e=O1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function BL(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=HL(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Dv(a,r,o,e)}),r}function Dv(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:D1(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(zL(i)){Dv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];Dv(l,D1(e,a),n,r)})})}function D1(t,e){var n=t;return e.split(Y_).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function zL(t){return t.isThemeGetter}function HL(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function qL(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var hI="!";function WL(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,f,u=0;u<o.length;u++){var d=o[u];if(l===0){if(d===r&&(n||o.slice(u,u+i)===e)){a.push(o.slice(c,u)),c=u+i;continue}if(d==="/"){f=u;continue}}d==="["?l++:d==="]"&&l--}var h=a.length===0?o:o.substring(c),m=h.startsWith(hI),v=m?h.substring(1):h,_=f&&f>c?f-c:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:_}}}function KL(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function GL(t){return{cache:qL(t.cacheSize),splitModifiers:WL(t),...UL(t)}}var QL=/\s+/;function YL(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(QL).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,f=a.baseClassName,u=a.maybePostfixModifierPosition,d=r(u?f.substring(0,u):f),h=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:o};if(d=r(f),!d)return{isTailwindClass:!1,originalClassName:o};h=!1}var m=KL(l).join(":"),v=c?m+hI:m;return{isTailwindClass:!0,modifierId:v,classGroupId:d,originalClassName:o,hasPostfixModifier:h}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,f=a+l;return s.has(f)?!1:(s.add(f),i(l,c).forEach(function(u){return s.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function XL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var f=e[0],u=e.slice(1),d=u.reduce(function(h,m){return m(h)},f());return r=GL(d),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var f=i(c);if(f)return f;var u=YL(c,r);return s(c,u),u}return function(){return o(FL.apply(null,arguments))}}function tt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var pI=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZL=/^\d+\/\d+$/,JL=new Set(["px","full","screen"]),eV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nV=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function lr(t){return Qs(t)||JL.has(t)||ZL.test(t)||$v(t)}function $v(t){return Co(t,"length",lV)}function rV(t){return Co(t,"size",mI)}function iV(t){return Co(t,"position",mI)}function sV(t){return Co(t,"url",uV)}function wd(t){return Co(t,"number",Qs)}function Qs(t){return!Number.isNaN(Number(t))}function oV(t){return t.endsWith("%")&&Qs(t.slice(0,-1))}function Vl(t){return $1(t)||Co(t,"number",$1)}function Oe(t){return pI.test(t)}function Fl(){return!0}function Bi(t){return eV.test(t)}function aV(t){return Co(t,"",cV)}function Co(t,e,n){var r=pI.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function lV(t){return tV.test(t)}function mI(){return!1}function uV(t){return t.startsWith("url(")}function $1(t){return Number.isInteger(Number(t))}function cV(t){return nV.test(t)}function dV(){var t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),i=tt("borderColor"),s=tt("borderRadius"),o=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),f=tt("hueRotate"),u=tt("invert"),d=tt("gap"),h=tt("gradientColorStops"),m=tt("gradientColorStopPositions"),v=tt("inset"),_=tt("margin"),g=tt("opacity"),y=tt("padding"),w=tt("saturate"),E=tt("scale"),S=tt("sepia"),I=tt("skew"),x=tt("space"),T=tt("translate"),R=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",Oe,e]},A=function(){return[Oe,e]},L=function(){return["",lr]},k=function(){return["auto",Qs,Oe]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},j=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},D=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",Oe]},ne=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},he=function(){return[Qs,wd]},Ae=function(){return[Qs,Oe]};return{cacheSize:500,theme:{colors:[Fl],spacing:[lr],blur:["none","",Bi,Oe],brightness:he(),borderColor:[t],borderRadius:["none","","full",Bi,Oe],borderSpacing:A(),borderWidth:L(),contrast:he(),grayscale:z(),hueRotate:Ae(),invert:z(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[oV,$v],inset:O(),margin:O(),opacity:he(),padding:A(),saturate:he(),scale:he(),sepia:z(),skew:Ae(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[Oe])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vl]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Vl]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:["full",Vl]},Oe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[Vl]},Oe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(D())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(D(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(D(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Oe,e]}],"min-w":[{"min-w":["min","max","fit",Oe,lr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Bi]},Bi,Oe]}],h:[{h:[Oe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Oe,lr]}],"max-h":[{"max-h":[Oe,e,"min","max","fit"]}],"font-size":[{text:["base",Bi,$v]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wd]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",Qs,wd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oe,lr]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(j(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",lr]}],"underline-offset":[{"underline-offset":["auto",Oe,lr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[iV])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(j(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(j())}],"outline-offset":[{"outline-offset":[Oe,lr]}],"outline-w":[{outline:[lr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[lr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bi,aV]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Oe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:Ae()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:Ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Vl,Oe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[lr,wd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var fV=XL(dV);function Ie(...t){return fV(cI(t))}const gI=p.forwardRef(({className:t,...e},n)=>b.jsxs(lI,{ref:n,className:Ie("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(ML,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(LL,{className:"absolute h-full bg-primary"})}),b.jsx(VL,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));gI.displayName=lI.displayName;const M1=t=>{let e;const n=new Set,r=(l,c)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const u=e;e=c??typeof f!="object"?f:Object.assign({},e,f),n.forEach(d=>d(e,u))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return e=t(r,i,a),a},hV=t=>t?M1(t):M1;var vI={exports:{}},yI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=p,pV=KR;function mV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gV=typeof Object.is=="function"?Object.is:mV,vV=pV.useSyncExternalStore,yV=hp.useRef,_V=hp.useEffect,wV=hp.useMemo,EV=hp.useDebugValue;yI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=yV(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wV(function(){function l(h){if(!c){if(c=!0,f=h,h=r(h),i!==void 0&&o.hasValue){var m=o.value;if(i(m,h))return u=m}return u=h}if(m=u,gV(f,h))return m;var v=r(h);return i!==void 0&&i(m,v)?m:(f=h,u=v)}var c=!1,f,u,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=vV(t,s[0],s[1]);return _V(function(){o.hasValue=!0,o.value=a},[a]),EV(a),a};vI.exports=yI;var bV=vI.exports;const TV=Hy(bV),{useSyncExternalStoreWithSelector:SV}=TV;function xV(t,e=t.getState,n){const r=SV(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return p.useDebugValue(r),r}const L1=t=>{const e=typeof t=="function"?hV(t):t,n=(r,i)=>xV(e,r,i);return Object.assign(n,e),n},RV=t=>t?L1(t):L1;var Mv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||n;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var d=this||n;if(u=parseFloat(u),d.ctx||f(),typeof u<"u"&&u>=0&&u<=1){if(d._volume=u,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(u,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var m=d._howls[h]._getSoundIds(),v=0;v<m.length;v++){var _=d._howls[h]._soundById(m[v]);_&&_._node&&(_._node.volume=_._volume*u)}return d}return d._volume},mute:function(u){var d=this||n;d.ctx||f(),d._muted=u,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(u?0:d._volume,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var m=d._howls[h]._getSoundIds(),v=0;v<m.length;v++){var _=d._howls[h]._soundById(m[v]);_&&_._node&&(_._node.muted=u?!0:_._muted)}return d},stop:function(){for(var u=this||n,d=0;d<u._howls.length;d++)u._howls[d].stop();return u},unload:function(){for(var u=this||n,d=u._howls.length-1;d>=0;d--)u._howls[d].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,f()),u},codecs:function(u){return(this||n)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||n;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var d=new Audio;d.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return u}if(!d||typeof d.canPlayType!="function")return u;var h=d.canPlayType("audio/mpeg;").replace(/^no$/,""),m=u._navigator?u._navigator.userAgent:"",v=m.match(/OPR\/(\d+)/g),_=v&&parseInt(v[0].split("/")[1],10)<33,g=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,y=m.match(/Version\/(.*?) /),w=g&&y&&parseInt(y[1],10)<15;return u._codecs={mp3:!!(!_&&(h||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!w&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!w&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||n;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var d=function(h){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,u._releaseHtml5Audio(m)}catch{u.noAudio=!0;break}for(var v=0;v<u._howls.length;v++)if(!u._howls[v]._webAudio)for(var _=u._howls[v]._getSoundIds(),g=0;g<_.length;g++){var y=u._howls[v]._soundById(_[g]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}u._autoResume();var w=u.ctx.createBufferSource();w.buffer=u._scratchBuffer,w.connect(u.ctx.destination),typeof w.start>"u"?w.noteOn(0):w.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),w.onended=function(){w.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var E=0;E<u._howls.length;E++)u._howls[E]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),u}},_obtainHtml5Audio:function(){var u=this||n;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var d=this||n;return u._unlocked&&d._html5AudioPool.push(u),d},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<u._howls.length;d++)if(u._howls[d]._webAudio){for(var h=0;h<u._howls[d]._sounds.length;h++)if(!u._howls[d]._sounds[h]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var m=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(m,m)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!n.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var d=0;d<u._howls.length;d++)u._howls[d]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var n=new e,r=function(u){var d=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(u)};r.prototype={init:function(u){var d=this;return n.ctx||f(),d._autoplay=u.autoplay||!1,d._format=typeof u.format!="string"?u.format:[u.format],d._html5=u.html5||!1,d._muted=u.mute||!1,d._loop=u.loop||!1,d._pool=u.pool||5,d._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,d._rate=u.rate||1,d._sprite=u.sprite||{},d._src=typeof u.src!="string"?u.src:[u.src],d._volume=u.volume!==void 0?u.volume:1,d._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=u.onend?[{fn:u.onend}]:[],d._onfade=u.onfade?[{fn:u.onfade}]:[],d._onload=u.onload?[{fn:u.onload}]:[],d._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],d._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],d._onpause=u.onpause?[{fn:u.onpause}]:[],d._onplay=u.onplay?[{fn:u.onplay}]:[],d._onstop=u.onstop?[{fn:u.onstop}]:[],d._onmute=u.onmute?[{fn:u.onmute}]:[],d._onvolume=u.onvolume?[{fn:u.onvolume}]:[],d._onrate=u.onrate?[{fn:u.onrate}]:[],d._onseek=u.onseek?[{fn:u.onseek}]:[],d._onunlock=u.onunlock?[{fn:u.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var u=this,d=null;if(n.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var h=0;h<u._src.length;h++){var m,v;if(u._format&&u._format[h])m=u._format[h];else{if(v=u._src[h],typeof v!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(v),m||(m=/\.([^.]+)$/.exec(v.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&n.codecs(m)){d=u._src[h];break}}if(!d){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=d,u._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new i(u),u._webAudio&&o(u),u},play:function(u,d){var h=this,m=null;if(typeof u=="number")m=u,u=null;else{if(typeof u=="string"&&h._state==="loaded"&&!h._sprite[u])return null;if(typeof u>"u"&&(u="__default",!h._playLock)){for(var v=0,_=0;_<h._sounds.length;_++)h._sounds[_]._paused&&!h._sounds[_]._ended&&(v++,m=h._sounds[_]._id);v===1?u=null:m=null}}var g=m?h._soundById(m):h._inactiveSound();if(!g)return null;if(m&&!u&&(u=g._sprite||"__default"),h._state!=="loaded"){g._sprite=u,g._ended=!1;var y=g._id;return h._queue.push({event:"play",action:function(){h.play(y)}}),y}if(m&&!g._paused)return d||h._loadQueue("play"),g._id;h._webAudio&&n._autoResume();var w=Math.max(0,g._seek>0?g._seek:h._sprite[u][0]/1e3),E=Math.max(0,(h._sprite[u][0]+h._sprite[u][1])/1e3-w),S=E*1e3/Math.abs(g._rate),I=h._sprite[u][0]/1e3,x=(h._sprite[u][0]+h._sprite[u][1])/1e3;g._sprite=u,g._ended=!1;var T=function(){g._paused=!1,g._seek=w,g._start=I,g._stop=x,g._loop=!!(g._loop||h._sprite[u][2])};if(w>=x){h._ended(g);return}var R=g._node;if(h._webAudio){var P=function(){h._playLock=!1,T(),h._refreshBuffer(g);var k=g._muted||h._muted?0:g._volume;R.gain.setValueAtTime(k,n.ctx.currentTime),g._playStart=n.ctx.currentTime,typeof R.bufferSource.start>"u"?g._loop?R.bufferSource.noteGrainOn(0,w,86400):R.bufferSource.noteGrainOn(0,w,E):g._loop?R.bufferSource.start(0,w,86400):R.bufferSource.start(0,w,E),S!==1/0&&(h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),S)),d||setTimeout(function(){h._emit("play",g._id),h._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?P():(h._playLock=!0,h.once("resume",P),h._clearTimer(g._id))}else{var O=function(){R.currentTime=w,R.muted=g._muted||h._muted||n._muted||R.muted,R.volume=g._volume*n.volume(),R.playbackRate=g._rate;try{var k=R.play();if(k&&typeof Promise<"u"&&(k instanceof Promise||typeof k.then=="function")?(h._playLock=!0,T(),k.then(function(){h._playLock=!1,R._unlocked=!0,d?h._loadQueue():h._emit("play",g._id)}).catch(function(){h._playLock=!1,h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):d||(h._playLock=!1,T(),h._emit("play",g._id)),R.playbackRate=g._rate,R.paused){h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||g._loop?h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),S):(h._endTimers[g._id]=function(){h._ended(g),R.removeEventListener("ended",h._endTimers[g._id],!1)},R.addEventListener("ended",h._endTimers[g._id],!1))}catch(F){h._emit("playerror",g._id,F)}};R.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(R.src=h._src,R.load());var A=window&&window.ejecta||!R.readyState&&n._navigator.isCocoonJS;if(R.readyState>=3||A)O();else{h._playLock=!0,h._state="loading";var L=function(){h._state="loaded",O(),R.removeEventListener(n._canPlayEvent,L,!1)};R.addEventListener(n._canPlayEvent,L,!1),h._clearTimer(g._id)}}return g._id},pause:function(u){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(u)}}),d;for(var h=d._getSoundIds(u),m=0;m<h.length;m++){d._clearTimer(h[m]);var v=d._soundById(h[m]);if(v&&!v._paused&&(v._seek=d.seek(h[m]),v._rateSeek=0,v._paused=!0,d._stopFade(h[m]),v._node))if(d._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||d._emit("pause",v?v._id:null)}return d},stop:function(u,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(u)}}),h;for(var m=h._getSoundIds(u),v=0;v<m.length;v++){h._clearTimer(m[v]);var _=h._soundById(m[v]);_&&(_._seek=_._start||0,_._rateSeek=0,_._paused=!0,_._ended=!0,h._stopFade(m[v]),_._node&&(h._webAudio?_._node.bufferSource&&(typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),h._cleanBuffer(_._node)):(!isNaN(_._node.duration)||_._node.duration===1/0)&&(_._node.currentTime=_._start||0,_._node.pause(),_._node.duration===1/0&&h._clearSound(_._node))),d||h._emit("stop",_._id))}return h},mute:function(u,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(u,d)}}),h;if(typeof d>"u")if(typeof u=="boolean")h._muted=u;else return h._muted;for(var m=h._getSoundIds(d),v=0;v<m.length;v++){var _=h._soundById(m[v]);_&&(_._muted=u,_._interval&&h._stopFade(_._id),h._webAudio&&_._node?_._node.gain.setValueAtTime(u?0:_._volume,n.ctx.currentTime):_._node&&(_._node.muted=n._muted?!0:u),h._emit("mute",_._id))}return h},volume:function(){var u=this,d=arguments,h,m;if(d.length===0)return u._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var v=u._getSoundIds(),_=v.indexOf(d[0]);_>=0?m=parseInt(d[0],10):h=parseFloat(d[0])}else d.length>=2&&(h=parseFloat(d[0]),m=parseInt(d[1],10));var g;if(typeof h<"u"&&h>=0&&h<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,d)}}),u;typeof m>"u"&&(u._volume=h),m=u._getSoundIds(m);for(var y=0;y<m.length;y++)g=u._soundById(m[y]),g&&(g._volume=h,d[2]||u._stopFade(m[y]),u._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(h,n.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=h*n.volume()),u._emit("volume",g._id))}else return g=m?u._soundById(m):u._sounds[0],g?g._volume:0;return u},fade:function(u,d,h,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(u,d,h,m)}}),v;u=Math.min(Math.max(0,parseFloat(u)),1),d=Math.min(Math.max(0,parseFloat(d)),1),h=parseFloat(h),v.volume(u,m);for(var _=v._getSoundIds(m),g=0;g<_.length;g++){var y=v._soundById(_[g]);if(y){if(m||v._stopFade(_[g]),v._webAudio&&!y._muted){var w=n.ctx.currentTime,E=w+h/1e3;y._volume=u,y._node.gain.setValueAtTime(u,w),y._node.gain.linearRampToValueAtTime(d,E)}v._startFadeInterval(y,u,d,h,_[g],typeof m>"u")}}return v},_startFadeInterval:function(u,d,h,m,v,_){var g=this,y=d,w=h-d,E=Math.abs(w/.01),S=Math.max(4,E>0?m/E:m),I=Date.now();u._fadeTo=h,u._interval=setInterval(function(){var x=(Date.now()-I)/m;I=Date.now(),y+=w*x,y=Math.round(y*100)/100,w<0?y=Math.max(h,y):y=Math.min(h,y),g._webAudio?u._volume=y:g.volume(y,u._id,!0),_&&(g._volume=y),(h<d&&y<=h||h>d&&y>=h)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,g.volume(h,u._id),g._emit("fade",u._id))},S)},_stopFade:function(u){var d=this,h=d._soundById(u);return h&&h._interval&&(d._webAudio&&h._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(h._interval),h._interval=null,d.volume(h._fadeTo,u),h._fadeTo=null,d._emit("fade",u)),d},loop:function(){var u=this,d=arguments,h,m,v;if(d.length===0)return u._loop;if(d.length===1)if(typeof d[0]=="boolean")h=d[0],u._loop=h;else return v=u._soundById(parseInt(d[0],10)),v?v._loop:!1;else d.length===2&&(h=d[0],m=parseInt(d[1],10));for(var _=u._getSoundIds(m),g=0;g<_.length;g++)v=u._soundById(_[g]),v&&(v._loop=h,u._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=h,h&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,u.playing(_[g])&&(u.pause(_[g],!0),u.play(_[g],!0)))));return u},rate:function(){var u=this,d=arguments,h,m;if(d.length===0)m=u._sounds[0]._id;else if(d.length===1){var v=u._getSoundIds(),_=v.indexOf(d[0]);_>=0?m=parseInt(d[0],10):h=parseFloat(d[0])}else d.length===2&&(h=parseFloat(d[0]),m=parseInt(d[1],10));var g;if(typeof h=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,d)}}),u;typeof m>"u"&&(u._rate=h),m=u._getSoundIds(m);for(var y=0;y<m.length;y++)if(g=u._soundById(m[y]),g){u.playing(m[y])&&(g._rateSeek=u.seek(m[y]),g._playStart=u._webAudio?n.ctx.currentTime:g._playStart),g._rate=h,u._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(h,n.ctx.currentTime):g._node&&(g._node.playbackRate=h);var w=u.seek(m[y]),E=(u._sprite[g._sprite][0]+u._sprite[g._sprite][1])/1e3-w,S=E*1e3/Math.abs(g._rate);(u._endTimers[m[y]]||!g._paused)&&(u._clearTimer(m[y]),u._endTimers[m[y]]=setTimeout(u._ended.bind(u,g),S)),u._emit("rate",g._id)}}else return g=u._soundById(m),g?g._rate:u._rate;return u},seek:function(){var u=this,d=arguments,h,m;if(d.length===0)u._sounds.length&&(m=u._sounds[0]._id);else if(d.length===1){var v=u._getSoundIds(),_=v.indexOf(d[0]);_>=0?m=parseInt(d[0],10):u._sounds.length&&(m=u._sounds[0]._id,h=parseFloat(d[0]))}else d.length===2&&(h=parseFloat(d[0]),m=parseInt(d[1],10));if(typeof m>"u")return 0;if(typeof h=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,d)}}),u;var g=u._soundById(m);if(g)if(typeof h=="number"&&h>=0){var y=u.playing(m);y&&u.pause(m,!0),g._seek=h,g._ended=!1,u._clearTimer(m),!u._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=h);var w=function(){y&&u.play(m,!0),u._emit("seek",m)};if(y&&!u._webAudio){var E=function(){u._playLock?setTimeout(E,0):w()};setTimeout(E,0)}else w()}else if(u._webAudio){var S=u.playing(m)?n.ctx.currentTime-g._playStart:0,I=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(I+S*Math.abs(g._rate))}else return g._node.currentTime;return u},playing:function(u){var d=this;if(typeof u=="number"){var h=d._soundById(u);return h?!h._paused:!1}for(var m=0;m<d._sounds.length;m++)if(!d._sounds[m]._paused)return!0;return!1},duration:function(u){var d=this,h=d._duration,m=d._soundById(u);return m&&(h=d._sprite[m._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var u=this,d=u._sounds,h=0;h<d.length;h++)d[h]._paused||u.stop(d[h]._id),u._webAudio||(u._clearSound(d[h]._node),d[h]._node.removeEventListener("error",d[h]._errorFn,!1),d[h]._node.removeEventListener(n._canPlayEvent,d[h]._loadFn,!1),d[h]._node.removeEventListener("ended",d[h]._endFn,!1),n._releaseHtml5Audio(d[h]._node)),delete d[h]._node,u._clearTimer(d[h]._id);var m=n._howls.indexOf(u);m>=0&&n._howls.splice(m,1);var v=!0;for(h=0;h<n._howls.length;h++)if(n._howls[h]._src===u._src||u._src.indexOf(n._howls[h]._src)>=0){v=!1;break}return s&&v&&delete s[u._src],n.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,d,h,m){var v=this,_=v["_on"+u];return typeof d=="function"&&_.push(m?{id:h,fn:d,once:m}:{id:h,fn:d}),v},off:function(u,d,h){var m=this,v=m["_on"+u],_=0;if(typeof d=="number"&&(h=d,d=null),d||h)for(_=0;_<v.length;_++){var g=h===v[_].id;if(d===v[_].fn&&g||!d&&g){v.splice(_,1);break}}else if(u)m["_on"+u]=[];else{var y=Object.keys(m);for(_=0;_<y.length;_++)y[_].indexOf("_on")===0&&Array.isArray(m[y[_]])&&(m[y[_]]=[])}return m},once:function(u,d,h){var m=this;return m.on(u,d,h,1),m},_emit:function(u,d,h){for(var m=this,v=m["_on"+u],_=v.length-1;_>=0;_--)(!v[_].id||v[_].id===d||u==="load")&&(setTimeout((function(g){g.call(this,d,h)}).bind(m,v[_].fn),0),v[_].once&&m.off(u,v[_].fn,v[_].id));return m._loadQueue(u),m},_loadQueue:function(u){var d=this;if(d._queue.length>0){var h=d._queue[0];h.event===u&&(d._queue.shift(),d._loadQueue()),u||h.action()}return d},_ended:function(u){var d=this,h=u._sprite;if(!d._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(d._ended.bind(d,u),100),d;var m=!!(u._loop||d._sprite[h][2]);if(d._emit("end",u._id),!d._webAudio&&m&&d.stop(u._id,!0).play(u._id),d._webAudio&&m){d._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=n.ctx.currentTime;var v=(u._stop-u._start)*1e3/Math.abs(u._rate);d._endTimers[u._id]=setTimeout(d._ended.bind(d,u),v)}return d._webAudio&&!m&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,d._clearTimer(u._id),d._cleanBuffer(u._node),n._autoSuspend()),!d._webAudio&&!m&&d.stop(u._id,!0),d},_clearTimer:function(u){var d=this;if(d._endTimers[u]){if(typeof d._endTimers[u]!="function")clearTimeout(d._endTimers[u]);else{var h=d._soundById(u);h&&h._node&&h._node.removeEventListener("ended",d._endTimers[u],!1)}delete d._endTimers[u]}return d},_soundById:function(u){for(var d=this,h=0;h<d._sounds.length;h++)if(u===d._sounds[h]._id)return d._sounds[h];return null},_inactiveSound:function(){var u=this;u._drain();for(var d=0;d<u._sounds.length;d++)if(u._sounds[d]._ended)return u._sounds[d].reset();return new i(u)},_drain:function(){var u=this,d=u._pool,h=0,m=0;if(!(u._sounds.length<d)){for(m=0;m<u._sounds.length;m++)u._sounds[m]._ended&&h++;for(m=u._sounds.length-1;m>=0;m--){if(h<=d)return;u._sounds[m]._ended&&(u._webAudio&&u._sounds[m]._node&&u._sounds[m]._node.disconnect(0),u._sounds.splice(m,1),h--)}}},_getSoundIds:function(u){var d=this;if(typeof u>"u"){for(var h=[],m=0;m<d._sounds.length;m++)h.push(d._sounds[m]._id);return h}else return[u]},_refreshBuffer:function(u){var d=this;return u._node.bufferSource=n.ctx.createBufferSource(),u._node.bufferSource.buffer=s[d._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,n.ctx.currentTime),d},_cleanBuffer:function(u){var d=this,h=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return d;if(n._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),h))try{u.bufferSource.buffer=n._scratchBuffer}catch{}return u.bufferSource=null,d},_clearSound:function(u){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(u){this._parent=u,this.init()};i.prototype={init:function(){var u=this,d=u._parent;return u._muted=d._muted,u._loop=d._loop,u._volume=d._volume,u._rate=d._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,d._sounds.push(u),u.create(),u},create:function(){var u=this,d=u._parent,h=n._muted||u._muted||u._parent._muted?0:u._volume;return d._webAudio?(u._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),u._node.gain.setValueAtTime(h,n.ctx.currentTime),u._node.paused=!0,u._node.connect(n.masterGain)):n.noAudio||(u._node=n._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(n._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=d._src,u._node.preload=d._preload===!0?"auto":d._preload,u._node.volume=h*n.volume(),u._node.load()),u},reset:function(){var u=this,d=u._parent;return u._muted=d._muted,u._loop=d._loop,u._volume=d._volume,u._rate=d._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,d=u._parent;d._duration=Math.ceil(u._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),u._node.removeEventListener(n._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,d=u._parent;d._duration===1/0&&(d._duration=Math.ceil(u._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var s={},o=function(u){var d=u._src;if(s[d]){u._duration=s[d].duration,c(u);return}if(/^data:[^;]+;base64,/.test(d)){for(var h=atob(d.split(",")[1]),m=new Uint8Array(h.length),v=0;v<h.length;++v)m[v]=h.charCodeAt(v);l(m.buffer,u)}else{var _=new XMLHttpRequest;_.open(u._xhr.method,d,!0),_.withCredentials=u._xhr.withCredentials,_.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(g){_.setRequestHeader(g,u._xhr.headers[g])}),_.onload=function(){var g=(_.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+_.status+".");return}l(_.response,u)},_.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete s[d],u.load())},a(_)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,d){var h=function(){d._emit("loaderror",null,"Decoding audio data failed.")},m=function(v){v&&d._sounds.length>0?(s[d._src]=v,c(d,v)):h()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(u).then(m).catch(h):n.ctx.decodeAudioData(u,m,h)},c=function(u,d){d&&!u._duration&&(u._duration=d.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},f=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=d?parseInt(d[1],10):null;if(u&&h&&h<9){var m=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!m&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof wn<"u"?(wn.HowlerGlobal=e,wn.Howler=n,wn.Howl=r,wn.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(r=typeof r!="number"?c[1]:r,i=typeof i!="number"?c[2]:i,s=typeof s!="number"?c[3]:s,o=typeof o!="number"?c[4]:o,a=typeof a!="number"?c[5]:a,typeof n=="number")l._orientation=[n,r,i,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,i,s,o,a);else return c;return l},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var l=i._soundById(o[a]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")o._pos=[n,r,i];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof n=="number")c._pos=[n,r,i],c._node&&((!c._panner||c._panner.pan)&&e(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setPosition(n,r,i)),o._emit("pos",c._id);else return c._pos}return o},Howl.prototype.orientation=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof n=="number")o._orientation=[n,r,i];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof n=="number")c._orientation=[n,r,i],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),e(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setOrientation(n,r,i)),o._emit("orientation",c._id);else return c._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var a=n._getSoundIds(s),l=0;l<a.length;l++)if(o=n._soundById(a[l]),o){var c=o._pannerAttr;c={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:c.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:c.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:c.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:c.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:c.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:c.panningModel};var f=o._panner;f||(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"),f=o._panner),f.coneInnerAngle=c.coneInnerAngle,f.coneOuterAngle=c.coneOuterAngle,f.coneOuterGain=c.coneOuterGain,f.distanceModel=c.distanceModel,f.maxDistance=c.maxDistance,f.refDistance=c.refDistance,f.rolloffFactor=c.rolloffFactor,f.panningModel=c.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Mv);const V1=t=>{const e=Math.floor(t/60)||0,n=Math.round(t-e*60||0);return`${e}:${n<10?"0":""}${n}`},IV={currentSong:{},sound:{},playing:!1,repeat:!1,seek:"00:00",duration:"00:00",playerProgress:0},X_=RV()((t,e)=>({...IV,newSong:async n=>{e().sound instanceof Mv.Howl&&e().sound.unload(),t(()=>({currentSong:n,sound:new Mv.Howl({src:[n.url],html5:!0})})),e().repeat&&e().sound.loop(),e().sound.play(),t(()=>({playing:!0})),e().sound.on("play",()=>{requestAnimationFrame(e().progress)})},toggleAudio:async()=>{e().sound.playing&&(e().sound.playing()?(e().sound.pause(),t(()=>({playing:!1}))):(e().sound.play(),t(()=>({playing:!0}))))},toggleRepeat:()=>t(({repeat:n})=>({repeat:!n})),progress:()=>{t(({sound:n})=>({seek:V1(n.seek()),duration:V1(n.duration()),playerProgress:n.seek()/n.duration()*100})),e().repeat&&e().sound.loop(),e().sound.playing()&&requestAnimationFrame(e().progress)},updateSeek:n=>{e().sound.playing&&(e().sound.seek(e().sound.duration()*(n[0]/100)),e().sound.once("seek",e().progress))}}));var CV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),St=(t,e)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>p.createElement("svg",{ref:c,...CV,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${AV(t)}`,...l},[...e.map(([f,u])=>p.createElement(f,u)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},Z_=St("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),_I=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),PV=St("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]),kV=St("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),NV=St("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),wI=St("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z",key:"16vlm8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]),OV=St("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),DV=St("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),$V=St("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),MV=St("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),LV=St("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),EI=St("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),VV=St("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),FV=St("Repeat1",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]]),UV=St("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),jV=St("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),BV=St("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),zV=St("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),HV=St("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),qV=St("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),WV=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),bI=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KV=()=>{const[t,e,n,r,i,s,o,a,l]=X_(c=>[c.currentSong,c.playing,c.repeat,c.seek,c.duration,c.playerProgress,c.toggleAudio,c.toggleRepeat,c.updateSeek]);return b.jsxs("div",{className:"fixed bottom-0 left-0 z-10 w-full h-20 p-0 m-0 border bg-muted text-muted-foreground",children:[b.jsx("div",{className:"w-full h-1 bg-primary",children:b.jsx(gI,{value:[s],onValueChange:c=>l(c),max:100,step:1})}),b.jsxs("div",{className:"flex items-center justify-between h-full px-6 ",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-12 h-12 rounded-md bg-primary"}),b.jsxs("div",{className:"",children:[b.jsx("h2",{className:"font-bold text-foreground",children:t.modified_name??"Play Song"}),b.jsx("p",{className:"text-sm",children:`${r} / ${i}`})]})]}),b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx("div",{onClick:a,children:n?b.jsx(FV,{}):b.jsx(UV,{})}),b.jsx(BV,{}),b.jsx("div",{onClick:o,className:"flex items-center justify-center w-12 h-12 rounded-full bg-background",children:e?b.jsx(MV,{size:28}):b.jsx("div",{className:"w-[32px] flex justify-end",children:b.jsx(VV,{size:28})})}),b.jsx(zV,{}),b.jsx(jV,{}),b.jsx("div",{className:"w-[1px] h-12 bg-background"}),b.jsx(DV,{})]})]})]})};let GV=0;function Lv(t,e){const n=`atom${++GV}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const F1=t=>"init"in t,U1=t=>!!t.write,Qf=new WeakMap,QV=(t,e)=>{Qf.set(t,e),t.catch(()=>{}).finally(()=>Qf.delete(t))},j1=(t,e)=>{const n=Qf.get(t);n&&(Qf.delete(t),n(e))},B1=(t,e)=>{t.status="fulfilled",t.value=e},z1=(t,e)=>{t.status="rejected",t.reason=e},YV=t=>typeof(t==null?void 0:t.then)=="function",Ed=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),H1=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),Ul=t=>"v"in t&&t.v instanceof Promise,XV=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,bd=t=>{if("e"in t)throw t.e;return t.v},ZV=()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,i;const s=T=>t.get(T),o=(T,R)=>{const P=t.get(T);if(t.set(T,R),n.has(T)||n.set(T,P),P&&Ul(P)){const O="v"in R?R.v instanceof Promise?R.v:Promise.resolve(R.v):Promise.reject(R.e);P.v!==O&&j1(P.v,O)}},a=(T,R,P)=>{const O=new Map;let A=!1;P.forEach((L,k)=>{!L&&k===T&&(L=R),L&&(O.set(k,L),R.d.get(k)!==L&&(A=!0))}),(A||R.d.size!==O.size)&&(R.d=O)},l=(T,R,P)=>{const O=s(T),A={d:(O==null?void 0:O.d)||new Map,v:R};if(P&&a(T,A,P),O&&Ed(O,A)&&O.d===A.d)return O;if(O&&Ul(O)&&Ul(A)&&XV(O,A)){if(O.d===A.d)return O;A.v=O.v}return o(T,A),A},c=(T,R,P,O)=>{if(YV(R)){let A;const L=new Promise((k,F)=>{let j=!1;R.then(W=>{if(!j){j=!0;const D=s(T),z=l(T,L,P);B1(L,W),k(W),e.has(T)&&(D==null?void 0:D.d)!==z.d&&S(T,z,D==null?void 0:D.d)}},W=>{if(!j){j=!0;const D=s(T),z=l(T,L,P);z1(L,W),F(W),e.has(T)&&(D==null?void 0:D.d)!==z.d&&S(T,z,D==null?void 0:D.d)}}),A=W=>{j||(j=!0,W.then(D=>B1(L,D),D=>z1(L,D)),k(W))}});return L.orig=R,L.status="pending",QV(L,k=>{k&&A(k),O==null||O()}),l(T,L,P)}return l(T,R,P)},f=(T,R,P)=>{const O=s(T),A={d:(O==null?void 0:O.d)||new Map,e:R};return P&&a(T,A,P),O&&H1(O,A)&&O.d===A.d?O:(o(T,A),A)},u=(T,R)=>{const P=s(T);if(!R&&P&&(e.has(T)||Array.from(P.d).every(([W,D])=>W===T||u(W)===D)))return P;const O=new Map;let A=!0;const L=W=>{if(W===T){const z=s(W);if(z)return O.set(W,z),bd(z);if(F1(W))return O.set(W,void 0),W.init;throw new Error("no atom init")}const D=u(W);return O.set(W,D),bd(D)};let k,F;const j={get signal(){return k||(k=new AbortController),k.signal},get setSelf(){return!F&&U1(T)&&(F=(...W)=>{if(!A)return y(T,...W)}),F}};try{const W=T.read(L,j);return c(T,W,O,()=>k==null?void 0:k.abort())}catch(W){return f(T,W,O)}finally{A=!1}},d=T=>bd(u(T)),h=T=>{let R=e.get(T);return R||(R=w(T)),R},m=(T,R)=>!R.l.size&&(!R.t.size||R.t.size===1&&R.t.has(T)),v=T=>{const R=e.get(T);R&&m(T,R)&&E(T)},_=T=>{const R=new Map,P=new WeakMap,O=k=>{var F;const j=new Set((F=e.get(k))==null?void 0:F.t);return n.forEach((W,D)=>{var z;(z=s(D))!=null&&z.d.has(k)&&j.add(D)}),j},A=k=>{O(k).forEach(F=>{F!==k&&(R.set(F,(R.get(F)||new Set).add(k)),P.set(F,(P.get(F)||0)+1),A(F))})};A(T);const L=k=>{O(k).forEach(F=>{var j;if(F!==k){let W=P.get(F);if(W&&P.set(F,--W),!W){let D=!!((j=R.get(F))!=null&&j.size);if(D){const z=s(F),ne=u(F,!0);D=!z||!Ed(z,ne)}D||R.forEach(z=>z.delete(F))}L(F)}})};L(T)},g=(T,...R)=>{let P=!0;const O=k=>bd(u(k)),A=(k,...F)=>{let j;if(k===T){if(!F1(k))throw new Error("atom not writable");const W=s(k),D=c(k,F[0]);(!W||!Ed(W,D))&&_(k)}else j=g(k,...F);if(!P){const W=I()}return j},L=T.write(O,A,...R);return P=!1,L},y=(T,...R)=>{const P=g(T,...R),O=I();return P},w=(T,R,P)=>{var O;const A=P||[];(O=s(T))==null||O.d.forEach((k,F)=>{const j=e.get(F);j?j.t.add(T):F!==T&&w(F,T,A)}),u(T);const L={t:new Set(R&&[R]),l:new Set};if(e.set(T,L),U1(T)&&T.onMount){const{onMount:k}=T;A.push(()=>{const F=k((...j)=>y(T,...j));F&&(L.u=F)})}return P||A.forEach(k=>k()),L},E=T=>{var R;const P=(R=e.get(T))==null?void 0:R.u;P&&P(),e.delete(T);const O=s(T);O&&(Ul(O)&&j1(O.v),O.d.forEach((A,L)=>{if(L!==T){const k=e.get(L);k&&(k.t.delete(T),m(L,k)&&E(L))}}))},S=(T,R,P)=>{const O=new Set(R.d.keys());P==null||P.forEach((A,L)=>{if(O.has(L)){O.delete(L);return}const k=e.get(L);k&&(k.t.delete(T),m(L,k)&&E(L))}),O.forEach(A=>{const L=e.get(A);L?L.t.add(T):e.has(T)&&w(A,T)})},I=()=>{let T;for(;n.size;){const R=Array.from(n);n.clear(),R.forEach(([P,O])=>{const A=s(P);if(A){const L=e.get(P);L&&A.d!==(O==null?void 0:O.d)&&S(P,A,O==null?void 0:O.d),L&&!(O&&!Ul(O)&&(Ed(O,A)||H1(O,A)))&&L.l.forEach(k=>k())}})}};return{get:d,set:y,sub:(T,R)=>{const P=h(T),O=I(),A=P.l;return A.add(R),()=>{A.delete(R),v(T)}}}};let Km;const JV=()=>(Km||(Km=ZV()),Km),e4=p.createContext(void 0),TI=t=>{const e=p.useContext(e4);return(t==null?void 0:t.store)||e||JV()},t4=t=>typeof(t==null?void 0:t.then)=="function",n4=De.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function r4(t,e){const n=TI(e),[[r,i,s],o]=p.useReducer(c=>{const f=n.get(t);return Object.is(c[0],f)&&c[1]===n&&c[2]===t?c:[f,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;(i!==n||s!==t)&&(o(),a=n.get(t));const l=e==null?void 0:e.delay;return p.useEffect(()=>{const c=n.sub(t,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),c},[n,t,l]),p.useDebugValue(a),t4(a)?n4(a):a}function J_(t,e){const n=TI(e);return p.useCallback((...i)=>n.set(t,...i),[n,t])}function SI(t,e){return[r4(t,e),J_(t,e)]}function i4(t,e){return p.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Jr=t=>{const{present:e,children:n}=t,r=s4(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=qe(r.ref,i.ref);return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:s}):null};Jr.displayName="Presence";function s4(t){const[e,n]=p.useState(),r=p.useRef({}),i=p.useRef(t),s=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=i4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Td(r.current);s.current=a==="mounted"?c:"none"},[a]),Dn(()=>{const c=r.current,f=i.current;if(f!==t){const d=s.current,h=Td(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Dn(()=>{if(e){const c=u=>{const h=Td(r.current).includes(u.animationName);u.target===e&&h&&Ro.flushSync(()=>l("ANIMATION_END"))},f=u=>{u.target===e&&(s.current=Td(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Td(t){return(t==null?void 0:t.animationName)||"none"}const o4=mS["useId".toString()]||(()=>{});let a4=0;function Br(t){const[e,n]=p.useState(o4());return Dn(()=>{t||n(r=>r??String(a4++))},[t]),t||(e?`radix-${e}`:"")}function l4(t,e=globalThis==null?void 0:globalThis.document){const n=Qt(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Vv="dismissableLayer.update",u4="dismissableLayer.pointerDownOutside",c4="dismissableLayer.focusOutside";let q1;const d4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),e0=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,f=p.useContext(d4),[u,d]=p.useState(null),h=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=p.useState({}),v=qe(e,T=>d(T)),_=Array.from(f.layers),[g]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=_.indexOf(g),w=u?_.indexOf(u):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,I=f4(T=>{const R=T.target,P=[...f.branches].some(O=>O.contains(R));!S||P||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},h),x=h4(T=>{const R=T.target;[...f.branches].some(O=>O.contains(R))||(o==null||o(T),a==null||a(T),T.defaultPrevented||l==null||l())},h);return l4(T=>{w===f.layers.size-1&&(i==null||i(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(q1=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),W1(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=q1)}},[u,h,r,f]),p.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),W1())},[u,f]),p.useEffect(()=>{const T=()=>m({});return document.addEventListener(Vv,T),()=>document.removeEventListener(Vv,T)},[]),p.createElement(ye.div,Y({},c,{ref:v,style:{pointerEvents:E?S?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,x.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,x.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,I.onPointerDownCapture)}))});function f4(t,e=globalThis==null?void 0:globalThis.document){const n=Qt(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let f=function(){xI(u4,n,c,{discrete:!0})};var l=f;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h4(t,e=globalThis==null?void 0:globalThis.document){const n=Qt(t),r=p.useRef(!1);return p.useEffect(()=>{const i=s=>{s.target&&!r.current&&xI(c4,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function W1(){const t=new CustomEvent(Vv);document.dispatchEvent(t)}function xI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mL(i,s):i.dispatchEvent(s)}const RI=p.forwardRef((t,e)=>p.createElement(ye.span,Y({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),p4=RI,Tc="NavigationMenu",[t0,II,m4]=Ec(Tc),[Fv,g4,v4]=Ec(Tc),[n0,DK]=Li(Tc,[m4,v4]),[y4,br]=n0(Tc),[_4,w4]=n0(Tc),E4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...f}=t,[u,d]=p.useState(null),h=qe(e,R=>d(R)),m=wc(c),v=p.useRef(0),_=p.useRef(0),g=p.useRef(0),[y,w]=p.useState(!0),[E="",S]=Ti({prop:r,onChange:R=>{const P=R!=="",O=a>0;P?(window.clearTimeout(g.current),O&&w(!1)):(window.clearTimeout(g.current),g.current=window.setTimeout(()=>w(!0),a)),i==null||i(R)},defaultProp:s}),I=p.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>S(""),150)},[S]),x=p.useCallback(R=>{window.clearTimeout(_.current),S(R)},[S]),T=p.useCallback(R=>{E===R?window.clearTimeout(_.current):v.current=window.setTimeout(()=>{window.clearTimeout(_.current),S(R)},o)},[E,S,o]);return p.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(_.current),window.clearTimeout(g.current)},[]),p.createElement(b4,{scope:n,isRootMenu:!0,value:E,dir:m,orientation:l,rootNavigationMenu:u,onTriggerEnter:R=>{window.clearTimeout(v.current),y?T(R):x(R)},onTriggerLeave:()=>{window.clearTimeout(v.current),I()},onContentEnter:()=>window.clearTimeout(_.current),onContentLeave:I,onItemSelect:R=>{S(P=>P===R?"":R)},onItemDismiss:()=>S("")},p.createElement(ye.nav,Y({"aria-label":"Main","data-orientation":l,dir:m},f,{ref:h})))}),b4=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:i,orientation:s,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:f,onTriggerLeave:u,onContentEnter:d,onContentLeave:h}=t,[m,v]=p.useState(null),[_,g]=p.useState(new Map),[y,w]=p.useState(null);return p.createElement(y4,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:dp(a),baseId:Br(),dir:i,orientation:s,viewport:m,onViewportChange:v,indicatorTrack:y,onIndicatorTrackChange:w,onTriggerEnter:Qt(f),onTriggerLeave:Qt(u),onContentEnter:Qt(d),onContentLeave:Qt(h),onItemSelect:Qt(l),onItemDismiss:Qt(c),onViewportContentChange:p.useCallback((E,S)=>{g(I=>(I.set(E,S),new Map(I)))},[]),onViewportContentRemove:p.useCallback(E=>{g(S=>S.has(E)?(S.delete(E),new Map(S)):S)},[])},p.createElement(t0.Provider,{scope:e},p.createElement(_4,{scope:e,items:_},o)))},T4="NavigationMenuList",S4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=br(T4,n),s=p.createElement(ye.ul,Y({"data-orientation":i.orientation},r,{ref:e}));return p.createElement(ye.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange},p.createElement(t0.Slot,{scope:n},i.isRootMenu?p.createElement(NI,{asChild:!0},s):s))}),x4="NavigationMenuItem",[R4,CI]=n0(x4),I4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...i}=t,s=Br(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=p.useRef(null),l=p.useRef(null),c=p.useRef(null),f=p.useRef(()=>{}),u=p.useRef(!1),d=p.useCallback((m="start")=>{if(a.current){f.current();const v=Uv(a.current);v.length&&r0(m==="start"?v:v.reverse())}},[]),h=p.useCallback(()=>{if(a.current){const m=Uv(a.current);m.length&&(f.current=V4(m))}},[]);return p.createElement(R4,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:u,onEntryKeyDown:d,onFocusProxyEnter:d,onRootContentClose:h,onContentFocusOutside:h},p.createElement(ye.li,Y({},i,{ref:e})))}),K1="NavigationMenuTrigger",C4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...i}=t,s=br(K1,t.__scopeNavigationMenu),o=CI(K1,t.__scopeNavigationMenu),a=p.useRef(null),l=qe(a,o.triggerRef,e),c=OI(s.baseId,o.value),f=DI(s.baseId,o.value),u=p.useRef(!1),d=p.useRef(!1),h=o.value===s.value;return p.createElement(p.Fragment,null,p.createElement(t0.ItemSlot,{scope:n,value:o.value},p.createElement(L4,{asChild:!0},p.createElement(ye.button,Y({id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":i0(h),"aria-expanded":h,"aria-controls":f},i,{ref:l,onPointerEnter:fe(t.onPointerEnter,()=>{d.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:fe(t.onPointerMove,Yf(()=>{r||d.current||o.wasEscapeCloseRef.current||u.current||(s.onTriggerEnter(o.value),u.current=!0)})),onPointerLeave:fe(t.onPointerLeave,Yf(()=>{r||(s.onTriggerLeave(),u.current=!1)})),onClick:fe(t.onClick,()=>{s.onItemSelect(o.value),d.current=h}),onKeyDown:fe(t.onKeyDown,m=>{const _={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];h&&m.key===_&&(o.onEntryKeyDown(),m.preventDefault())})})))),h&&p.createElement(p.Fragment,null,p.createElement(p4,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:m=>{const v=o.contentRef.current,_=m.relatedTarget,g=_===a.current,y=v==null?void 0:v.contains(_);(g||!y)&&o.onFocusProxyEnter(g?"start":"end")}}),s.viewport&&p.createElement("span",{"aria-owns":f})))}),AI="NavigationMenuIndicator",A4=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=br(AI,t.__scopeNavigationMenu),s=!!i.value;return i.indicatorTrack?wR.createPortal(p.createElement(Jr,{present:n||s},p.createElement(P4,Y({},r,{ref:e}))),i.indicatorTrack):null}),P4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=br(AI,n),s=II(n),[o,a]=p.useState(null),[l,c]=p.useState(null),f=i.orientation==="horizontal",u=!!i.value;p.useEffect(()=>{var h;const v=(h=s().find(_=>_.value===i.value))===null||h===void 0?void 0:h.ref.current;v&&a(v)},[s,i.value]);const d=()=>{o&&c({size:f?o.offsetWidth:o.offsetHeight,offset:f?o.offsetLeft:o.offsetTop})};return jv(o,d),jv(i.indicatorTrack,d),l?p.createElement(ye.div,Y({"aria-hidden":!0,"data-state":u?"visible":"hidden","data-orientation":i.orientation},r,{ref:e,style:{position:"absolute",...f?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}})):null}),Bu="NavigationMenuContent",k4=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=br(Bu,t.__scopeNavigationMenu),s=CI(Bu,t.__scopeNavigationMenu),o=qe(s.contentRef,e),a=s.value===i.value,l={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...r};return i.viewport?p.createElement(N4,Y({forceMount:n},l,{ref:o})):p.createElement(Jr,{present:n||a},p.createElement(PI,Y({"data-state":i0(a)},l,{ref:o,onPointerEnter:fe(t.onPointerEnter,i.onContentEnter),onPointerLeave:fe(t.onPointerLeave,Yf(i.onContentLeave)),style:{pointerEvents:!a&&i.isRootMenu?"none":void 0,...l.style}})))}),N4=p.forwardRef((t,e)=>{const n=br(Bu,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:i}=n;return Dn(()=>{r(t.value,{ref:e,...t})},[t,e,r]),Dn(()=>()=>i(t.value),[t.value,i]),null}),Gm="navigationMenu.rootContentDismiss",PI=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:i,focusProxyRef:s,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,f=br(Bu,n),u=p.useRef(null),d=qe(u,e),h=OI(f.baseId,r),m=DI(f.baseId,r),v=II(n),_=p.useRef(null),{onItemDismiss:g}=f;p.useEffect(()=>{const w=u.current;if(f.isRootMenu&&w){const E=()=>{var S;g(),a(),w.contains(document.activeElement)&&((S=i.current)===null||S===void 0||S.focus())};return w.addEventListener(Gm,E),()=>w.removeEventListener(Gm,E)}},[f.isRootMenu,t.value,i,g,a]);const y=p.useMemo(()=>{const E=v().map(P=>P.value);f.dir==="rtl"&&E.reverse();const S=E.indexOf(f.value),I=E.indexOf(f.previousValue),x=r===f.value,T=I===E.indexOf(r);if(!x&&!T)return _.current;const R=(()=>{if(S!==I){if(x&&I!==-1)return S>I?"from-end":"from-start";if(T&&S!==-1)return S>I?"to-start":"to-end"}return null})();return _.current=R,R},[f.previousValue,f.value,f.dir,v,r]);return p.createElement(NI,{asChild:!0},p.createElement(e0,Y({id:m,"aria-labelledby":h,"data-motion":y,"data-orientation":f.orientation},c,{ref:d,onDismiss:()=>{var w;const E=new Event(Gm,{bubbles:!0,cancelable:!0});(w=u.current)===null||w===void 0||w.dispatchEvent(E)},onFocusOutside:fe(t.onFocusOutside,w=>{var E;l();const S=w.target;(E=f.rootNavigationMenu)!==null&&E!==void 0&&E.contains(S)&&w.preventDefault()}),onPointerDownOutside:fe(t.onPointerDownOutside,w=>{var E;const S=w.target,I=v().some(T=>{var R;return(R=T.ref.current)===null||R===void 0?void 0:R.contains(S)}),x=f.isRootMenu&&((E=f.viewport)===null||E===void 0?void 0:E.contains(S));(I||x||!f.isRootMenu)&&w.preventDefault()}),onKeyDown:fe(t.onKeyDown,w=>{const E=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!E){const x=Uv(w.currentTarget),T=document.activeElement,R=x.findIndex(A=>A===T),O=w.shiftKey?x.slice(0,R).reverse():x.slice(R+1,x.length);if(r0(O))w.preventDefault();else{var I;(I=s.current)===null||I===void 0||I.focus()}}}),onEscapeKeyDown:fe(t.onEscapeKeyDown,w=>{o.current=!0})})))}),kI="NavigationMenuViewport",O4=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=!!br(kI,t.__scopeNavigationMenu).value;return p.createElement(Jr,{present:n||s},p.createElement(D4,Y({},r,{ref:e})))}),D4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...i}=t,s=br(kI,n),o=qe(e,s.onViewportChange),a=w4(Bu,t.__scopeNavigationMenu),[l,c]=p.useState(null),[f,u]=p.useState(null),d=l?(l==null?void 0:l.width)+"px":void 0,h=l?(l==null?void 0:l.height)+"px":void 0,m=!!s.value,v=m?s.value:s.previousValue;return jv(f,()=>{f&&c({width:f.offsetWidth,height:f.offsetHeight})}),p.createElement(ye.div,Y({"data-state":i0(m),"data-orientation":s.orientation},i,{ref:o,style:{pointerEvents:!m&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":d,"--radix-navigation-menu-viewport-height":h,...i.style},onPointerEnter:fe(t.onPointerEnter,s.onContentEnter),onPointerLeave:fe(t.onPointerLeave,Yf(s.onContentLeave))}),Array.from(a.items).map(([g,{ref:y,forceMount:w,...E}])=>{const S=v===g;return p.createElement(Jr,{key:g,present:w||S},p.createElement(PI,Y({},E,{ref:K_(y,I=>{S&&I&&u(I)})})))}))}),$4="FocusGroup",NI=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=br($4,n);return p.createElement(Fv.Provider,{scope:n},p.createElement(Fv.Slot,{scope:n},p.createElement(ye.div,Y({dir:i.dir},r,{ref:e}))))}),G1=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],M4="FocusGroupItem",L4=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=g4(n),s=br(M4,n);return p.createElement(Fv.ItemSlot,{scope:n},p.createElement(ye.button,Y({},r,{ref:e,onKeyDown:fe(t.onKeyDown,o=>{if(["Home","End",...G1].includes(o.key)){let l=i().map(u=>u.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),G1.includes(o.key)){const u=l.indexOf(o.currentTarget);l=l.slice(u+1)}setTimeout(()=>r0(l)),o.preventDefault()}})})))});function Uv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function r0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function V4(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function jv(t,e){const n=Qt(e);Dn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function i0(t){return t?"open":"closed"}function OI(t,e){return`${t}-trigger-${e}`}function DI(t,e){return`${t}-content-${e}`}function Yf(t){return e=>e.pointerType==="mouse"?t(e):void 0}const $I=E4,MI=S4,F4=I4,LI=C4,VI=A4,FI=k4,UI=O4,Q1=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Y1=cI,pp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Y1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],u=s==null?void 0:s[c];if(f===null)return null;const d=Q1(f)||Q1(u);return i[c][d]}),a=n&&Object.entries(n).reduce((c,f)=>{let[u,d]=f;return d===void 0||(c[u]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:u,className:d,...h}=f;return Object.entries(h).every(m=>{let[v,_]=m;return Array.isArray(_)?_.includes({...s,...a}[v]):{...s,...a}[v]===_})?[...c,u,d]:c},[]);return Y1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},jI=p.forwardRef(({className:t,children:e,...n},r)=>b.jsxs($I,{ref:r,className:Ie("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...n,children:[e,b.jsx(BI,{})]}));jI.displayName=$I.displayName;const Bv=p.forwardRef(({className:t,...e},n)=>b.jsx(MI,{ref:n,className:Ie("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));Bv.displayName=MI.displayName;const Fo=F4,tf=pp("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),U4=p.forwardRef(({className:t,children:e,...n},r)=>b.jsxs(LI,{ref:r,className:Ie(tf(),"group",t),...n,children:[e," ",b.jsx(_I,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));U4.displayName=LI.displayName;const j4=p.forwardRef(({className:t,...e},n)=>b.jsx(FI,{ref:n,className:Ie("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",t),...e}));j4.displayName=FI.displayName;const BI=p.forwardRef(({className:t,...e},n)=>b.jsx("div",{className:Ie("absolute left-0 top-full flex justify-center"),children:b.jsx(UI,{className:Ie("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",t),ref:n,...e})}));BI.displayName=UI.displayName;const B4=p.forwardRef(({className:t,...e},n)=>b.jsx(VI,{ref:n,className:Ie("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...e,children:b.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));B4.displayName=VI.displayName;let Qm=0;function zI(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:X1()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:X1()),Qm++,()=>{Qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Qm--}},[])}function X1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Ym="focusScope.autoFocusOnMount",Xm="focusScope.autoFocusOnUnmount",Z1={bubbles:!1,cancelable:!0},HI=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=p.useState(null),c=Qt(i),f=Qt(s),u=p.useRef(null),d=qe(e,v=>l(v)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(I){if(h.paused||!a)return;const x=I.target;a.contains(x)?u.current=x:Hi(u.current,{select:!0})},w=function(I){if(h.paused||!a)return;const x=I.relatedTarget;x!==null&&(a.contains(x)||Hi(u.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const T of I)T.removedNodes.length>0&&Hi(a)};var v=y,_=w,g=E;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(E);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[r,a,h.paused]),p.useEffect(()=>{if(a){eb.add(h);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(Ym,Z1);a.addEventListener(Ym,c),a.dispatchEvent(g),g.defaultPrevented||(z4(G4(qI(a)),{select:!0}),document.activeElement===v&&Hi(a))}return()=>{a.removeEventListener(Ym,c),setTimeout(()=>{const g=new CustomEvent(Xm,Z1);a.addEventListener(Xm,f),a.dispatchEvent(g),g.defaultPrevented||Hi(v??document.body,{select:!0}),a.removeEventListener(Xm,f),eb.remove(h)},0)}}},[a,c,f,h]);const m=p.useCallback(v=>{if(!n&&!r||h.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(_&&g){const y=v.currentTarget,[w,E]=H4(y);w&&E?!v.shiftKey&&g===E?(v.preventDefault(),n&&Hi(w,{select:!0})):v.shiftKey&&g===w&&(v.preventDefault(),n&&Hi(E,{select:!0})):g===y&&v.preventDefault()}},[n,r,h.paused]);return p.createElement(ye.div,Y({tabIndex:-1},o,{ref:d,onKeyDown:m}))});function z4(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hi(r,{select:e}),document.activeElement!==n)return}function H4(t){const e=qI(t),n=J1(e,t),r=J1(e.reverse(),t);return[n,r]}function qI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function J1(t,e){for(const n of t)if(!q4(n,{upTo:e}))return n}function q4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function W4(t){return t instanceof HTMLInputElement&&"select"in t}function Hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&W4(t)&&e&&t.select()}}const eb=K4();function K4(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tb(t,e),t.unshift(e)},remove(e){var n;t=tb(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function tb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function G4(t){return t.filter(e=>e.tagName!=="A")}const Q4=["top","right","bottom","left"],Es=Math.min,Ln=Math.max,Xf=Math.round,Sd=Math.floor,bs=t=>({x:t,y:t}),Y4={left:"right",right:"left",bottom:"top",top:"bottom"},X4={start:"end",end:"start"};function zv(t,e,n){return Ln(t,Es(e,n))}function Si(t,e){return typeof t=="function"?t(e):t}function xi(t){return t.split("-")[0]}function ul(t){return t.split("-")[1]}function s0(t){return t==="x"?"y":"x"}function o0(t){return t==="y"?"height":"width"}function cl(t){return["top","bottom"].includes(xi(t))?"y":"x"}function a0(t){return s0(cl(t))}function Z4(t,e,n){n===void 0&&(n=!1);const r=ul(t),i=a0(t),s=o0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zf(o)),[o,Zf(o)]}function J4(t){const e=Zf(t);return[Hv(t),e,Hv(e)]}function Hv(t){return t.replace(/start|end/g,e=>X4[e])}function eF(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function tF(t,e,n,r){const i=ul(t);let s=eF(xi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Hv)))),s}function Zf(t){return t.replace(/left|right|bottom|top/g,e=>Y4[e])}function nF(t){return{top:0,right:0,bottom:0,left:0,...t}}function WI(t){return typeof t!="number"?nF(t):{top:t,right:t,bottom:t,left:t}}function Jf(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function nb(t,e,n){let{reference:r,floating:i}=t;const s=cl(e),o=a0(e),a=o0(o),l=xi(e),c=s==="y",f=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:f,y:r.y-i.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-i.width,y:u};break;default:h={x:r.x,y:r.y}}switch(ul(e)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1);break}return h}const rF=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:u}=nb(c,r,l),d=r,h={},m=0;for(let v=0;v<a.length;v++){const{name:_,fn:g}=a[v],{x:y,y:w,data:E,reset:S}=await g({x:f,y:u,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});if(f=y??f,u=w??u,h={...h,[_]:{...h[_],...E}},S&&m<=50){m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:f,y:u}=nb(c,d,l)),v=-1;continue}}return{x:f,y:u,placement:d,strategy:i,middlewareData:h}};async function zu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:h=0}=Si(e,t),m=WI(h),_=a[d?u==="floating"?"reference":"floating":u],g=Jf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),y=u==="floating"?{...o.floating,x:r,y:i}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Jf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-S.top+m.top)/E.y,bottom:(S.bottom-g.bottom+m.bottom)/E.y,left:(g.left-S.left+m.left)/E.x,right:(S.right-g.right+m.right)/E.x}}const rb=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Si(t,e)||{};if(c==null)return{};const u=WI(f),d={x:n,y:r},h=a0(i),m=o0(h),v=await o.getDimensions(c),_=h==="y",g=_?"top":"left",y=_?"bottom":"right",w=_?"clientHeight":"clientWidth",E=s.reference[m]+s.reference[h]-d[h]-s.floating[m],S=d[h]-s.reference[h],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=I?I[w]:0;(!x||!await(o.isElement==null?void 0:o.isElement(I)))&&(x=a.floating[w]||s.floating[m]);const T=E/2-S/2,R=x/2-v[m]/2-1,P=Es(u[g],R),O=Es(u[y],R),A=P,L=x-v[m]-O,k=x/2-v[m]/2+T,F=zv(A,k,L),j=!l.arrow&&ul(i)!=null&&k!=F&&s.reference[m]/2-(k<A?P:O)-v[m]/2<0,W=j?k<A?k-A:k-L:0;return{[h]:d[h]+W,data:{[h]:F,centerOffset:k-F-W,...j&&{alignmentOffset:W}},reset:j}}}),iF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,..._}=Si(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=xi(i),y=xi(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=d||(y||!v?[Zf(a)]:J4(a));!d&&m!=="none"&&E.push(...tF(a,v,m,w));const S=[a,...E],I=await zu(e,_),x=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&x.push(I[g]),u){const A=Z4(i,o,w);x.push(I[A[0]],I[A[1]])}if(T=[...T,{placement:i,overflows:x}],!x.every(A=>A<=0)){var R,P;const A=(((R=s.flip)==null?void 0:R.index)||0)+1,L=S[A];if(L)return{data:{index:A,overflows:T},reset:{placement:L}};let k=(P=T.filter(F=>F.overflows[0]<=0).sort((F,j)=>F.overflows[1]-j.overflows[1])[0])==null?void 0:P.placement;if(!k)switch(h){case"bestFit":{var O;const F=(O=T.map(j=>[j.placement,j.overflows.filter(W=>W>0).reduce((W,D)=>W+D,0)]).sort((j,W)=>j[1]-W[1])[0])==null?void 0:O[0];F&&(k=F);break}case"initialPlacement":k=a;break}if(i!==k)return{reset:{placement:k}}}return{}}}};function ib(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sb(t){return Q4.some(e=>t[e]>=0)}const sF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Si(t,e);switch(r){case"referenceHidden":{const s=await zu(e,{...i,elementContext:"reference"}),o=ib(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sb(o)}}}case"escaped":{const s=await zu(e,{...i,altBoundary:!0}),o=ib(s,n.floating);return{data:{escapedOffsets:o,escaped:sb(o)}}}default:return{}}}}};async function oF(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=xi(n),a=ul(n),l=cl(n)==="y",c=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,u=Si(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*f,y:d*c}:{x:d*c,y:h*f}}const aF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await oF(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},lF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:g,y}=_;return{x:g,y}}},...l}=Si(t,e),c={x:n,y:r},f=await zu(e,l),u=cl(xi(i)),d=s0(u);let h=c[d],m=c[u];if(s){const _=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=h+f[_],w=h-f[g];h=zv(y,h,w)}if(o){const _=u==="y"?"top":"left",g=u==="y"?"bottom":"right",y=m+f[_],w=m-f[g];m=zv(y,m,w)}const v=a.fn({...e,[d]:h,[u]:m});return{...v,data:{x:v.x-n,y:v.y-r}}}}},uF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Si(t,e),f={x:n,y:r},u=cl(i),d=s0(u);let h=f[d],m=f[u];const v=Si(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=d==="y"?"height":"width",E=s.reference[d]-s.floating[w]+_.mainAxis,S=s.reference[d]+s.reference[w]-_.mainAxis;h<E?h=E:h>S&&(h=S)}if(c){var g,y;const w=d==="y"?"width":"height",E=["top","left"].includes(xi(i)),S=s.reference[u]-s.floating[w]+(E&&((g=o.offset)==null?void 0:g[u])||0)+(E?0:_.crossAxis),I=s.reference[u]+s.reference[w]+(E?0:((y=o.offset)==null?void 0:y[u])||0)-(E?_.crossAxis:0);m<S?m=S:m>I&&(m=I)}return{[d]:h,[u]:m}}}},cF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Si(t,e),l=await zu(e,a),c=xi(n),f=ul(n),u=cl(n)==="y",{width:d,height:h}=r.floating;let m,v;c==="top"||c==="bottom"?(m=c,v=f===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,m=f==="end"?"top":"bottom");const _=h-l[m],g=d-l[v],y=!e.middlewareData.shift;let w=_,E=g;if(u){const I=d-l.left-l.right;E=f||y?Es(g,I):I}else{const I=h-l.top-l.bottom;w=f||y?Es(_,I):I}if(y&&!f){const I=Ln(l.left,0),x=Ln(l.right,0),T=Ln(l.top,0),R=Ln(l.bottom,0);u?E=d-2*(I!==0||x!==0?I+x:Ln(l.left,l.right)):w=h-2*(T!==0||R!==0?T+R:Ln(l.top,l.bottom))}await o({...e,availableWidth:E,availableHeight:w});const S=await i.getDimensions(s.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function Ts(t){return KI(t)?(t.nodeName||"").toLowerCase():"#document"}function Bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vi(t){var e;return(e=(KI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KI(t){return t instanceof Node||t instanceof Bn(t).Node}function Ri(t){return t instanceof Element||t instanceof Bn(t).Element}function Yr(t){return t instanceof HTMLElement||t instanceof Bn(t).HTMLElement}function ob(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bn(t).ShadowRoot}function Sc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function dF(t){return["table","td","th"].includes(Ts(t))}function l0(t){const e=u0(),n=ir(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fF(t){let e=Fa(t);for(;Yr(e)&&!mp(e);){if(l0(e))return e;e=Fa(e)}return null}function u0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mp(t){return["html","body","#document"].includes(Ts(t))}function ir(t){return Bn(t).getComputedStyle(t)}function gp(t){return Ri(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Fa(t){if(Ts(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ob(t)&&t.host||Vi(t);return ob(e)?e.host:e}function GI(t){const e=Fa(t);return mp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(e)&&Sc(e)?e:GI(e)}function Hu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Bn(i);return s?e.concat(o,o.visualViewport||[],Sc(i)?i:[],o.frameElement&&n?Hu(o.frameElement):[]):e.concat(i,Hu(i,[],n))}function QI(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Xf(n)!==s||Xf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function c0(t){return Ri(t)?t:t.contextElement}function ba(t){const e=c0(t);if(!Yr(e))return bs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=QI(e);let o=(s?Xf(n.width):n.width)/r,a=(s?Xf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hF=bs(0);function YI(t){const e=Bn(t);return!u0()||!e.visualViewport?hF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bn(t)?!1:e}function po(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=c0(t);let o=bs(1);e&&(r?Ri(r)&&(o=ba(r)):o=ba(t));const a=pF(s,n,r)?YI(s):bs(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,f=i.width/o.x,u=i.height/o.y;if(s){const d=Bn(s),h=r&&Ri(r)?Bn(r):r;let m=d.frameElement;for(;m&&r&&h!==d;){const v=ba(m),_=m.getBoundingClientRect(),g=ir(m),y=_.left+(m.clientLeft+parseFloat(g.paddingLeft))*v.x,w=_.top+(m.clientTop+parseFloat(g.paddingTop))*v.y;l*=v.x,c*=v.y,f*=v.x,u*=v.y,l+=y,c+=w,m=Bn(m).frameElement}}return Jf({width:f,height:u,x:l,y:c})}function mF(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Yr(n),s=Vi(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=bs(1);const l=bs(0);if((i||!i&&r!=="fixed")&&((Ts(n)!=="body"||Sc(s))&&(o=gp(n)),Yr(n))){const c=po(n);a=ba(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function gF(t){return Array.from(t.getClientRects())}function XI(t){return po(Vi(t)).left+gp(t).scrollLeft}function vF(t){const e=Vi(t),n=gp(t),r=t.ownerDocument.body,i=Ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+XI(t);const a=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=Ln(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function yF(t,e){const n=Bn(t),r=Vi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=u0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function _F(t,e){const n=po(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Yr(t)?ba(t):bs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function ab(t,e,n){let r;if(e==="viewport")r=yF(t,n);else if(e==="document")r=vF(Vi(t));else if(Ri(e))r=_F(e,n);else{const i=YI(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Jf(r)}function ZI(t,e){const n=Fa(t);return n===e||!Ri(n)||mp(n)?!1:ir(n).position==="fixed"||ZI(n,e)}function wF(t,e){const n=e.get(t);if(n)return n;let r=Hu(t,[],!1).filter(a=>Ri(a)&&Ts(a)!=="body"),i=null;const s=ir(t).position==="fixed";let o=s?Fa(t):t;for(;Ri(o)&&!mp(o);){const a=ir(o),l=l0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sc(o)&&!l&&ZI(t,o))?r=r.filter(f=>f!==o):i=a,o=Fa(o)}return e.set(t,r),r}function EF(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?wF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const u=ab(e,f,i);return c.top=Ln(u.top,c.top),c.right=Es(u.right,c.right),c.bottom=Es(u.bottom,c.bottom),c.left=Ln(u.left,c.left),c},ab(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bF(t){return QI(t)}function TF(t,e,n){const r=Yr(e),i=Vi(e),s=n==="fixed",o=po(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=bs(0);if(r||!r&&!s)if((Ts(e)!=="body"||Sc(i))&&(a=gp(e)),r){const c=po(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=XI(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function lb(t,e){return!Yr(t)||ir(t).position==="fixed"?null:e?e(t):t.offsetParent}function JI(t,e){const n=Bn(t);if(!Yr(t))return n;let r=lb(t,e);for(;r&&dF(r)&&ir(r).position==="static";)r=lb(r,e);return r&&(Ts(r)==="html"||Ts(r)==="body"&&ir(r).position==="static"&&!l0(r))?n:r||fF(t)||n}const SF=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||JI,s=this.getDimensions;return{reference:TF(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function xF(t){return ir(t).direction==="rtl"}const RF={convertOffsetParentRelativeRectToViewportRelativeRect:mF,getDocumentElement:Vi,getClippingRect:EF,getOffsetParent:JI,getElementRects:SF,getClientRects:gF,getDimensions:bF,getScale:ba,isElement:Ri,isRTL:xF};function IF(t,e){let n=null,r;const i=Vi(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:f,width:u,height:d}=t.getBoundingClientRect();if(a||e(),!u||!d)return;const h=Sd(f),m=Sd(i.clientWidth-(c+u)),v=Sd(i.clientHeight-(f+d)),_=Sd(c),y={rootMargin:-h+"px "+-m+"px "+-v+"px "+-_+"px",threshold:Ln(0,Es(1,l))||1};let w=!0;function E(S){const I=S[0].intersectionRatio;if(I!==l){if(!w)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(t)}return o(!0),s}function CF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=c0(t),f=i||s?[...c?Hu(c):[],...Hu(e)]:[];f.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const u=c&&a?IF(c,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{h&&h.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,v=l?po(t):null;l&&_();function _(){const g=po(t);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&n(),v=g,m=requestAnimationFrame(_)}return n(),()=>{f.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),u&&u(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const AF=(t,e,n)=>{const r=new Map,i={platform:RF,...n},s={...i.platform,_c:r};return rF(t,e,{...i,platform:s})},PF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rb({element:r.current,padding:i}).fn(n):{}:r?rb({element:r,padding:i}).fn(n):{}}}};var nf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function eh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!eh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!eh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function eC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ub(t,e){const n=eC(t);return Math.round(e*n)/n}function cb(t){const e=p.useRef(t);return nf(()=>{e.current=t}),e}function kF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,u]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=p.useState(r);eh(d,r)||h(r);const[m,v]=p.useState(null),[_,g]=p.useState(null),y=p.useCallback(j=>{j!=I.current&&(I.current=j,v(j))},[v]),w=p.useCallback(j=>{j!==x.current&&(x.current=j,g(j))},[g]),E=s||m,S=o||_,I=p.useRef(null),x=p.useRef(null),T=p.useRef(f),R=cb(l),P=cb(i),O=p.useCallback(()=>{if(!I.current||!x.current)return;const j={placement:e,strategy:n,middleware:d};P.current&&(j.platform=P.current),AF(I.current,x.current,j).then(W=>{const D={...W,isPositioned:!0};A.current&&!eh(T.current,D)&&(T.current=D,Ro.flushSync(()=>{u(D)}))})},[d,e,n,P]);nf(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(j=>({...j,isPositioned:!1})))},[c]);const A=p.useRef(!1);nf(()=>(A.current=!0,()=>{A.current=!1}),[]),nf(()=>{if(E&&(I.current=E),S&&(x.current=S),E&&S){if(R.current)return R.current(E,S,O);O()}},[E,S,O,R]);const L=p.useMemo(()=>({reference:I,floating:x,setReference:y,setFloating:w}),[y,w]),k=p.useMemo(()=>({reference:E,floating:S}),[E,S]),F=p.useMemo(()=>{const j={position:n,left:0,top:0};if(!k.floating)return j;const W=ub(k.floating,f.x),D=ub(k.floating,f.y);return a?{...j,transform:"translate("+W+"px, "+D+"px)",...eC(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:D}},[n,a,k.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:O,refs:L,elements:k,floatingStyles:F}),[f,O,L,k,F])}const tC="Popper",[nC,rC]=Li(tC),[NF,iC]=nC(tC),OF=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return p.createElement(NF,{scope:e,anchor:r,onAnchorChange:i},n)},DF="PopperAnchor",$F=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=iC(DF,n),o=p.useRef(null),a=qe(e,o);return p.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.createElement(ye.div,Y({},i,{ref:a}))}),sC="PopperContent",[MF,$K]=nC(sC),LF=p.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:f,side:u="bottom",sideOffset:d=0,align:h="center",alignOffset:m=0,arrowPadding:v=0,avoidCollisions:_=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:E=!1,updatePositionStrategy:S="optimized",onPlaced:I,...x}=t,T=iC(sC,f),[R,P]=p.useState(null),O=qe(e,tn=>P(tn)),[A,L]=p.useState(null),k=G_(A),F=(n=k==null?void 0:k.width)!==null&&n!==void 0?n:0,j=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,W=u+(h!=="center"?"-"+h:""),D=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},z=Array.isArray(g)?g:[g],ne=z.length>0,he={padding:D,boundary:z.filter(VF),altBoundary:ne},{refs:Ae,floatingStyles:Ke,placement:Ce,isPositioned:xt,middlewareData:Ze}=kF({strategy:"fixed",placement:W,whileElementsMounted:(...tn)=>CF(...tn,{animationFrame:S==="always"}),elements:{reference:T.anchor},middleware:[aF({mainAxis:d+j,alignmentAxis:m}),_&&lF({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?uF():void 0,...he}),_&&iF({...he}),cF({...he,apply:({elements:tn,rects:xr,availableWidth:C,availableHeight:$})=>{const{width:V,height:J}=xr.reference,Q=tn.floating.style;Q.setProperty("--radix-popper-available-width",`${C}px`),Q.setProperty("--radix-popper-available-height",`${$}px`),Q.setProperty("--radix-popper-anchor-width",`${V}px`),Q.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&PF({element:A,padding:v}),FF({arrowWidth:F,arrowHeight:j}),E&&sF({strategy:"referenceHidden",...he})]}),[le,Pe]=oC(Ce),ht=Qt(I);Dn(()=>{xt&&(ht==null||ht())},[xt,ht]);const We=(i=Ze.arrow)===null||i===void 0?void 0:i.x,Fe=(s=Ze.arrow)===null||s===void 0?void 0:s.y,Ue=((o=Ze.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ut,en]=p.useState();return Dn(()=>{R&&en(window.getComputedStyle(R).zIndex)},[R]),p.createElement("div",{ref:Ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ke,transform:xt?Ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ut,"--radix-popper-transform-origin":[(a=Ze.transformOrigin)===null||a===void 0?void 0:a.x,(l=Ze.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},p.createElement(MF,{scope:f,placedSide:le,onArrowChange:L,arrowX:We,arrowY:Fe,shouldHideArrow:Ue},p.createElement(ye.div,Y({"data-side":le,"data-align":Pe},x,{ref:O,style:{...x.style,animation:xt?void 0:"none",opacity:(c=Ze.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function VF(t){return t!==null}const FF=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,u=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,v]=oC(a),_={start:"0%",center:"50%",end:"100%"}[v],g=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,y=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+h/2;let w="",E="";return m==="bottom"?(w=u?_:`${g}px`,E=`${-h}px`):m==="top"?(w=u?_:`${g}px`,E=`${l.floating.height+h}px`):m==="right"?(w=`${-h}px`,E=u?_:`${y}px`):m==="left"&&(w=`${l.floating.width+h}px`,E=u?_:`${y}px`),{data:{x:w,y:E}}}});function oC(t){const[e,n="center"]=t.split("-");return[e,n]}const UF=OF,jF=$F,BF=LF,aC=p.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?wR.createPortal(p.createElement(ye.div,Y({},i,{ref:e})),r):null});var zF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Uo=new WeakMap,xd=new WeakMap,Rd={},Zm=0,lC=function(t){return t&&(t.host||lC(t.parentNode))},HF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},qF=function(t,e,n,r){var i=HF(e,Array.isArray(t)?t:[t]);Rd[n]||(Rd[n]=new WeakMap);var s=Rd[n],o=[],a=new Set,l=new Set(i),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};i.forEach(c);var f=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(d){if(a.has(d))f(d);else{var h=d.getAttribute(r),m=h!==null&&h!=="false",v=(Uo.get(d)||0)+1,_=(s.get(d)||0)+1;Uo.set(d,v),s.set(d,_),o.push(d),v===1&&m&&xd.set(d,!0),_===1&&d.setAttribute(n,"true"),m||d.setAttribute(r,"true")}})};return f(e),a.clear(),Zm++,function(){o.forEach(function(u){var d=Uo.get(u)-1,h=s.get(u)-1;Uo.set(u,d),s.set(u,h),d||(xd.has(u)||u.removeAttribute(r),xd.delete(u)),h||u.removeAttribute(n)}),Zm--,Zm||(Uo=new WeakMap,Uo=new WeakMap,xd=new WeakMap,Rd={})}},uC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||zF(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qF(r,i,n,"aria-hidden")):function(){return null}},Ar=function(){return Ar=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ar.apply(this,arguments)};function xc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WF(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var rf="right-scroll-bar-position",sf="width-before-scroll-bar",KF="with-scroll-bars-hidden",GF="--removed-body-scroll-bar-size";function QF(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YF(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function XF(t,e){return YF(e||null,function(n){return t.forEach(function(r){return QF(r,n)})})}function ZF(t){return t}function JF(t,e){e===void 0&&(e=ZF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var f=o;o=[],f.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return i}function e3(t){t===void 0&&(t={});var e=JF(null);return e.options=Ar({async:!0,ssr:!1},t),e}var cC=function(t){var e=t.sideCar,n=xc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ar({},n))};cC.isSideCarExport=!0;function t3(t,e){return t.useMedium(e),cC}var dC=e3(),Jm=function(){},vp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Jm,onWheelCapture:Jm,onTouchMoveCapture:Jm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,u=t.shards,d=t.sideCar,h=t.noIsolation,m=t.inert,v=t.allowPinchZoom,_=t.as,g=_===void 0?"div":_,y=xc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=d,E=XF([n,e]),S=Ar(Ar({},y),i);return p.createElement(p.Fragment,null,f&&p.createElement(w,{sideCar:dC,removeScrollBar:c,shards:u,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:n}),o?p.cloneElement(p.Children.only(a),Ar(Ar({},S),{ref:E})):p.createElement(g,Ar({},S,{className:l,ref:E}),a))});vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vp.classNames={fullWidth:sf,zeroRight:rf};var db,n3=function(){if(db)return db;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=n3();return e&&t.setAttribute("nonce",e),t}function i3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function s3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var o3=function(){var t=0,e=null;return{add:function(n){t==0&&(e=r3())&&(i3(e,n),s3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},a3=function(){var t=o3();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fC=function(){var t=a3(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},l3={left:0,top:0,right:0,gap:0},eg=function(t){return parseInt(t||"",10)||0},u3=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[eg(n),eg(r),eg(i)]},c3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return l3;var e=u3(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},d3=fC(),f3=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(KF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(GF,": ").concat(a,`px;
  }
`)},h3=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=p.useMemo(function(){return c3(i)},[i]);return p.createElement(d3,{styles:f3(s,!e,i,n?"":"!important")})},qv=!1;if(typeof window<"u")try{var Id=Object.defineProperty({},"passive",{get:function(){return qv=!0,!0}});window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{qv=!1}var jo=qv?{passive:!1}:!1,p3=function(t){return t.tagName==="TEXTAREA"},hC=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!p3(t)&&n[e]==="visible")},m3=function(t){return hC(t,"overflowY")},g3=function(t){return hC(t,"overflowX")},fb=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=pC(t,n);if(r){var i=mC(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},v3=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},y3=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pC=function(t,e){return t==="v"?m3(e):g3(e)},mC=function(t,e){return t==="v"?v3(e):y3(e)},_3=function(t,e){return t==="h"&&e==="rtl"?-1:1},w3=function(t,e,n,r,i){var s=_3(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,f=o>0,u=0,d=0;do{var h=mC(t,a),m=h[0],v=h[1],_=h[2],g=v-_-s*m;(m||g)&&pC(t,a)&&(u+=g,d+=m),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(i&&u===0||!i&&o>u)||!f&&(i&&d===0||!i&&-o>d))&&(c=!0),c},Cd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hb=function(t){return[t.deltaX,t.deltaY]},pb=function(t){return t&&"current"in t?t.current:t},E3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},b3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},T3=0,Bo=[];function S3(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(T3++)[0],s=p.useState(function(){return fC()})[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=WF([t.lockRef.current],(t.shards||[]).map(pb),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var g=Cd(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-g[0],E="deltaY"in v?v.deltaY:y[1]-g[1],S,I=v.target,x=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in v&&x==="h"&&I.type==="range")return!1;var T=fb(x,I);if(!T)return!0;if(T?S=x:(S=x==="v"?"h":"v",T=fb(x,I)),!T)return!1;if(!r.current&&"changedTouches"in v&&(w||E)&&(r.current=S),!S)return!0;var R=r.current||S;return w3(R,_,v,R==="h"?w:E,!0)},[]),l=p.useCallback(function(v){var _=v;if(!(!Bo.length||Bo[Bo.length-1]!==s)){var g="deltaY"in _?hb(_):Cd(_),y=e.current.filter(function(S){return S.name===_.type&&S.target===_.target&&E3(S.delta,g)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(pb).filter(Boolean).filter(function(S){return S.contains(_.target)}),E=w.length>0?a(_,w[0]):!o.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),c=p.useCallback(function(v,_,g,y){var w={name:v,delta:_,target:g,should:y};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),f=p.useCallback(function(v){n.current=Cd(v),r.current=void 0},[]),u=p.useCallback(function(v){c(v.type,hb(v),v.target,a(v,t.lockRef.current))},[]),d=p.useCallback(function(v){c(v.type,Cd(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return Bo.push(s),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:d}),document.addEventListener("wheel",l,jo),document.addEventListener("touchmove",l,jo),document.addEventListener("touchstart",f,jo),function(){Bo=Bo.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,jo),document.removeEventListener("touchmove",l,jo),document.removeEventListener("touchstart",f,jo)}},[]);var h=t.removeScrollBar,m=t.inert;return p.createElement(p.Fragment,null,m?p.createElement(s,{styles:b3(i)}):null,h?p.createElement(h3,{gapMode:"margin"}):null)}const x3=t3(dC,S3);var gC=p.forwardRef(function(t,e){return p.createElement(vp,Ar({},t,{ref:e,sideCar:x3}))});gC.classNames=vp.classNames;const vC=gC,R3=[" ","Enter","ArrowUp","ArrowDown"],I3=[" ","Enter"],yp="Select",[_p,d0,C3]=Ec(yp),[dl,MK]=Li(yp,[C3,rC]),f0=rC(),[A3,Ao]=dl(yp),[P3,k3]=dl(yp),N3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:u,disabled:d,required:h}=t,m=f0(e),[v,_]=p.useState(null),[g,y]=p.useState(null),[w,E]=p.useState(!1),S=wc(c),[I=!1,x]=Ti({prop:r,defaultProp:i,onChange:s}),[T,R]=Ti({prop:o,defaultProp:a,onChange:l}),P=p.useRef(null),O=v?!!v.closest("form"):!0,[A,L]=p.useState(new Set),k=Array.from(A).map(F=>F.props.value).join(";");return p.createElement(UF,m,p.createElement(A3,{required:h,scope:e,trigger:v,onTriggerChange:_,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:E,contentId:Br(),value:T,onValueChange:R,open:I,onOpenChange:x,dir:S,triggerPointerDownPosRef:P,disabled:d},p.createElement(_p.Provider,{scope:e},p.createElement(P3,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(F=>{L(j=>new Set(j).add(F))},[]),onNativeOptionRemove:p.useCallback(F=>{L(j=>{const W=new Set(j);return W.delete(F),W})},[])},n)),O?p.createElement(EC,{key:k,"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:u,value:T,onChange:F=>R(F.target.value),disabled:d},T===void 0?p.createElement("option",{value:""}):null,Array.from(A)):null))},O3="SelectTrigger",D3=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=f0(n),o=Ao(O3,n),a=o.disabled||r,l=qe(e,o.onTriggerChange),c=d0(n),[f,u,d]=bC(m=>{const v=c().filter(y=>!y.disabled),_=v.find(y=>y.value===o.value),g=TC(v,m,_);g!==void 0&&o.onValueChange(g.value)}),h=()=>{a||(o.onOpenChange(!0),d())};return p.createElement(jF,Y({asChild:!0},s),p.createElement(ye.button,Y({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":wC(o.value)?"":void 0},i,{ref:l,onClick:fe(i.onClick,m=>{m.currentTarget.focus()}),onPointerDown:fe(i.onPointerDown,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(h(),o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:fe(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&u(m.key),!(v&&m.key===" ")&&R3.includes(m.key)&&(h(),m.preventDefault())})})))}),$3="SelectValue",M3=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Ao($3,n),{onValueNodeHasChildrenChange:c}=l,f=s!==void 0,u=qe(e,l.onValueNodeChange);return Dn(()=>{c(f)},[c,f]),p.createElement(ye.span,Y({},a,{ref:u,style:{pointerEvents:"none"}}),wC(l.value)?p.createElement(p.Fragment,null,o):s)}),L3=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.createElement(ye.span,Y({"aria-hidden":!0},i,{ref:e}),r||"")}),V3=t=>p.createElement(aC,Y({asChild:!0},t)),Ua="SelectContent",F3=p.forwardRef((t,e)=>{const n=Ao(Ua,t.__scopeSelect),[r,i]=p.useState();if(Dn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ro.createPortal(p.createElement(yC,{scope:t.__scopeSelect},p.createElement(_p.Slot,{scope:t.__scopeSelect},p.createElement("div",null,t.children))),s):null}return p.createElement(U3,Y({},t,{ref:e}))}),si=10,[yC,wp]=dl(Ua),U3=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:u,collisionBoundary:d,collisionPadding:h,sticky:m,hideWhenDetached:v,avoidCollisions:_,...g}=t,y=Ao(Ua,n),[w,E]=p.useState(null),[S,I]=p.useState(null),x=qe(e,le=>E(le)),[T,R]=p.useState(null),[P,O]=p.useState(null),A=d0(n),[L,k]=p.useState(!1),F=p.useRef(!1);p.useEffect(()=>{if(w)return uC(w)},[w]),zI();const j=p.useCallback(le=>{const[Pe,...ht]=A().map(Ue=>Ue.ref.current),[We]=ht.slice(-1),Fe=document.activeElement;for(const Ue of le)if(Ue===Fe||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Pe&&S&&(S.scrollTop=0),Ue===We&&S&&(S.scrollTop=S.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Fe))return},[A,S]),W=p.useCallback(()=>j([T,w]),[j,T,w]);p.useEffect(()=>{L&&W()},[L,W]);const{onOpenChange:D,triggerPointerDownPosRef:z}=y;p.useEffect(()=>{if(w){let le={x:0,y:0};const Pe=We=>{var Fe,Ue,Ut,en;le={x:Math.abs(Math.round(We.pageX)-((Fe=(Ue=z.current)===null||Ue===void 0?void 0:Ue.x)!==null&&Fe!==void 0?Fe:0)),y:Math.abs(Math.round(We.pageY)-((Ut=(en=z.current)===null||en===void 0?void 0:en.y)!==null&&Ut!==void 0?Ut:0))}},ht=We=>{le.x<=10&&le.y<=10?We.preventDefault():w.contains(We.target)||D(!1),document.removeEventListener("pointermove",Pe),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",ht,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",ht,{capture:!0})}}},[w,D,z]),p.useEffect(()=>{const le=()=>D(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[D]);const[ne,he]=bC(le=>{const Pe=A().filter(Fe=>!Fe.disabled),ht=Pe.find(Fe=>Fe.ref.current===document.activeElement),We=TC(Pe,le,ht);We&&setTimeout(()=>We.ref.current.focus())}),Ae=p.useCallback((le,Pe,ht)=>{const We=!F.current&&!ht;(y.value!==void 0&&y.value===Pe||We)&&(R(le),We&&(F.current=!0))},[y.value]),Ke=p.useCallback(()=>w==null?void 0:w.focus(),[w]),Ce=p.useCallback((le,Pe,ht)=>{const We=!F.current&&!ht;(y.value!==void 0&&y.value===Pe||We)&&O(le)},[y.value]),xt=r==="popper"?mb:j3,Ze=xt===mb?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:u,collisionBoundary:d,collisionPadding:h,sticky:m,hideWhenDetached:v,avoidCollisions:_}:{};return p.createElement(yC,{scope:n,content:w,viewport:S,onViewportChange:I,itemRefCallback:Ae,selectedItem:T,onItemLeave:Ke,itemTextRefCallback:Ce,focusSelectedItem:W,selectedItemText:P,position:r,isPositioned:L,searchRef:ne},p.createElement(vC,{as:ws,allowPinchZoom:!0},p.createElement(HI,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:fe(i,le=>{var Pe;(Pe=y.trigger)===null||Pe===void 0||Pe.focus({preventScroll:!0}),le.preventDefault()})},p.createElement(e0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},p.createElement(xt,Y({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault()},g,Ze,{onPlaced:()=>k(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,le=>{const Pe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Pe&&le.key.length===1&&he(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let We=A().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(le.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Fe=le.target,Ue=We.indexOf(Fe);We=We.slice(Ue+1)}setTimeout(()=>j(We)),le.preventDefault()}})}))))))}),j3=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ao(Ua,n),o=wp(Ua,n),[a,l]=p.useState(null),[c,f]=p.useState(null),u=qe(e,x=>f(x)),d=d0(n),h=p.useRef(!1),m=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:g,focusSelectedItem:y}=o,w=p.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&_&&g){const x=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),P=g.getBoundingClientRect();if(s.dir!=="rtl"){const Fe=P.left-T.left,Ue=R.left-Fe,Ut=x.left-Ue,en=x.width+Ut,tn=Math.max(en,T.width),xr=window.innerWidth-si,C=Gf(Ue,[si,xr-tn]);a.style.minWidth=en+"px",a.style.left=C+"px"}else{const Fe=T.right-P.right,Ue=window.innerWidth-R.right-Fe,Ut=window.innerWidth-x.right-Ue,en=x.width+Ut,tn=Math.max(en,T.width),xr=window.innerWidth-si,C=Gf(Ue,[si,xr-tn]);a.style.minWidth=en+"px",a.style.right=C+"px"}const O=d(),A=window.innerHeight-si*2,L=v.scrollHeight,k=window.getComputedStyle(c),F=parseInt(k.borderTopWidth,10),j=parseInt(k.paddingTop,10),W=parseInt(k.borderBottomWidth,10),D=parseInt(k.paddingBottom,10),z=F+j+L+D+W,ne=Math.min(_.offsetHeight*5,z),he=window.getComputedStyle(v),Ae=parseInt(he.paddingTop,10),Ke=parseInt(he.paddingBottom,10),Ce=x.top+x.height/2-si,xt=A-Ce,Ze=_.offsetHeight/2,le=_.offsetTop+Ze,Pe=F+j+le,ht=z-Pe;if(Pe<=Ce){const Fe=_===O[O.length-1].ref.current;a.style.bottom="0px";const Ue=c.clientHeight-v.offsetTop-v.offsetHeight,Ut=Math.max(xt,Ze+(Fe?Ke:0)+Ue+W),en=Pe+Ut;a.style.height=en+"px"}else{const Fe=_===O[0].ref.current;a.style.top="0px";const Ut=Math.max(Ce,F+v.offsetTop+(Fe?Ae:0)+Ze)+ht;a.style.height=Ut+"px",v.scrollTop=Pe-Ce+v.offsetTop}a.style.margin=`${si}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,s.trigger,s.valueNode,a,c,v,_,g,s.dir,r]);Dn(()=>w(),[w]);const[E,S]=p.useState();Dn(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const I=p.useCallback(x=>{x&&m.current===!0&&(w(),y==null||y(),m.current=!1)},[w,y]);return p.createElement(B3,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:I},p.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E}},p.createElement(ye.div,Y({},i,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),mb=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=si,...s}=t,o=f0(n);return p.createElement(BF,Y({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[B3,z3]=dl(Ua,{}),gb="SelectViewport",H3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wp(gb,n),s=z3(gb,n),o=qe(e,i.onViewportChange),a=p.useRef(0);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(_p.Slot,{scope:n},p.createElement(ye.div,Y({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:fe(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:u}=s;if(u!=null&&u.current&&f){const d=Math.abs(a.current-c.scrollTop);if(d>0){const h=window.innerHeight-si*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),_=Math.max(m,v);if(_<h){const g=_+d,y=Math.min(h,g),w=g-y;f.style.height=y+"px",f.style.bottom==="0px"&&(c.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),q3="SelectGroup",[W3,K3]=dl(q3),G3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Br();return p.createElement(W3,{scope:n,id:i},p.createElement(ye.div,Y({role:"group","aria-labelledby":i},r,{ref:e})))}),Q3="SelectLabel",Y3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=K3(Q3,n);return p.createElement(ye.div,Y({id:i.id},r,{ref:e}))}),Wv="SelectItem",[X3,_C]=dl(Wv),Z3=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Ao(Wv,n),l=wp(Wv,n),c=a.value===r,[f,u]=p.useState(s??""),[d,h]=p.useState(!1),m=qe(e,g=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,g,r,i)}),v=Br(),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.createElement(X3,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:p.useCallback(g=>{u(y=>{var w;return y||((w=g==null?void 0:g.textContent)!==null&&w!==void 0?w:"").trim()})},[])},p.createElement(_p.ItemSlot,{scope:n,value:r,disabled:i,textValue:f},p.createElement(ye.div,Y({role:"option","aria-labelledby":v,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:m,onFocus:fe(o.onFocus,()=>h(!0)),onBlur:fe(o.onBlur,()=>h(!1)),onPointerUp:fe(o.onPointerUp,_),onPointerMove:fe(o.onPointerMove,g=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:fe(o.onKeyDown,g=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&g.key===" "||(I3.includes(g.key)&&_(),g.key===" "&&g.preventDefault())})}))))}),Ad="SelectItemText",J3=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Ao(Ad,n),a=wp(Ad,n),l=_C(Ad,n),c=k3(Ad,n),[f,u]=p.useState(null),d=qe(e,g=>u(g),l.onItemTextChange,g=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,g,l.value,l.disabled)}),h=f==null?void 0:f.textContent,m=p.useMemo(()=>p.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Dn(()=>(v(m),()=>_(m)),[v,_,m]),p.createElement(p.Fragment,null,p.createElement(ye.span,Y({id:l.textId},s,{ref:d})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ro.createPortal(s.children,o.valueNode):null)}),eU="SelectItemIndicator",tU=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _C(eU,n).isSelected?p.createElement(ye.span,Y({"aria-hidden":!0},r,{ref:e})):null}),nU=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.createElement(ye.div,Y({"aria-hidden":!0},r,{ref:e}))});function wC(t){return t===""||t===void 0}const EC=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=p.useRef(null),s=qe(e,i),o=dp(n);return p.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&f){const u=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(u)}},[o,n]),p.createElement(RI,{asChild:!0},p.createElement("select",Y({},r,{ref:s,defaultValue:n})))});EC.displayName="BubbleSelect";function bC(t){const e=Qt(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function TC(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=rU(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function rU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const iU=N3,SC=D3,sU=M3,oU=L3,aU=V3,xC=F3,lU=H3,uU=G3,RC=Y3,IC=Z3,cU=J3,dU=tU,CC=nU,AC=iU,fU=uU,PC=sU,h0=p.forwardRef(({className:t,children:e,...n},r)=>b.jsxs(SC,{ref:r,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,b.jsx(oU,{asChild:!0,children:b.jsx(_I,{className:"h-4 w-4 opacity-50"})})]}));h0.displayName=SC.displayName;const p0=p.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>b.jsx(aU,{children:b.jsx(xC,{ref:i,className:Ie("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:b.jsx(lU,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));p0.displayName=xC.displayName;const hU=p.forwardRef(({className:t,...e},n)=>b.jsx(RC,{ref:n,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));hU.displayName=RC.displayName;const qu=p.forwardRef(({className:t,children:e,...n},r)=>b.jsxs(IC,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(dU,{children:b.jsx(Z_,{className:"h-4 w-4"})})}),b.jsx(cU,{children:e})]}));qu.displayName=IC.displayName;const pU=p.forwardRef(({className:t,...e},n)=>b.jsx(CC,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",t),...e}));pU.displayName=CC.displayName;const kC="Dialog",[NC,LK]=Li(kC),[mU,Tr]=NC(kC),gU=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[c=!1,f]=Ti({prop:r,defaultProp:i,onChange:s});return p.createElement(mU,{scope:e,triggerRef:a,contentRef:l,contentId:Br(),titleId:Br(),descriptionId:Br(),open:c,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(u=>!u),[f]),modal:o},n)},vU="DialogTrigger",yU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tr(vU,n),s=qe(e,i.triggerRef);return p.createElement(ye.button,Y({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":m0(i.open)},r,{ref:s,onClick:fe(t.onClick,i.onOpenToggle)}))}),OC="DialogPortal",[_U,DC]=NC(OC,{forceMount:void 0}),wU=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Tr(OC,e);return p.createElement(_U,{scope:e,forceMount:n},p.Children.map(r,o=>p.createElement(Jr,{present:n||s.open},p.createElement(aC,{asChild:!0,container:i},o))))},Kv="DialogOverlay",EU=p.forwardRef((t,e)=>{const n=DC(Kv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Tr(Kv,t.__scopeDialog);return s.modal?p.createElement(Jr,{present:r||s.open},p.createElement(bU,Y({},i,{ref:e}))):null}),bU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tr(Kv,n);return p.createElement(vC,{as:ws,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(ye.div,Y({"data-state":m0(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Wu="DialogContent",TU=p.forwardRef((t,e)=>{const n=DC(Wu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Tr(Wu,t.__scopeDialog);return p.createElement(Jr,{present:r||s.open},s.modal?p.createElement(SU,Y({},i,{ref:e})):p.createElement(xU,Y({},i,{ref:e})))}),SU=p.forwardRef((t,e)=>{const n=Tr(Wu,t.__scopeDialog),r=p.useRef(null),i=qe(e,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return uC(s)},[]),p.createElement($C,Y({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,s=>s.preventDefault())}))}),xU=p.forwardRef((t,e)=>{const n=Tr(Wu,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return p.createElement($C,Y({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,s),!s.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),s.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:s=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),$C=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Tr(Wu,n),l=p.useRef(null),c=qe(e,l);return zI(),p.createElement(p.Fragment,null,p.createElement(HI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},p.createElement(e0,Y({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":m0(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),RU="DialogTitle",IU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tr(RU,n);return p.createElement(ye.h2,Y({id:i.titleId},r,{ref:e}))}),CU="DialogDescription",AU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tr(CU,n);return p.createElement(ye.p,Y({id:i.descriptionId},r,{ref:e}))}),PU="DialogClose",kU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tr(PU,n);return p.createElement(ye.button,Y({type:"button"},r,{ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))}))});function m0(t){return t?"open":"closed"}const NU=gU,OU=yU,MC=wU,LC=EU,VC=TU,FC=IU,UC=AU,DU=kU,$U=NU,MU=OU,jC=({...t})=>b.jsx(MC,{...t});jC.displayName=MC.displayName;const BC=p.forwardRef(({className:t,...e},n)=>b.jsx(LC,{ref:n,className:Ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BC.displayName=LC.displayName;const zC=p.forwardRef(({className:t,children:e,...n},r)=>b.jsxs(jC,{children:[b.jsx(BC,{}),b.jsxs(VC,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...n,children:[e,b.jsxs(DU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(bI,{className:"w-4 h-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zC.displayName=VC.displayName;const HC=({className:t,...e})=>b.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});HC.displayName="DialogHeader";const qC=p.forwardRef(({className:t,...e},n)=>b.jsx(FC,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",t),...e}));qC.displayName=FC.displayName;const LU=p.forwardRef(({className:t,...e},n)=>b.jsx(UC,{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));LU.displayName=UC.displayName;const VU=pp("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ii=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ws:"button";return b.jsx(o,{className:Ie(VU({variant:e,size:n,className:t})),ref:s,...i})});Ii.displayName="Button";const FU=p.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=Ti({prop:n,onChange:i,defaultProp:r});return p.createElement(ye.button,Y({type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0},s,{ref:e,onClick:fe(t.onClick,()=>{t.disabled||a(!o)})}))}),WC=FU,UU=pp("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),KC=p.forwardRef(({className:t,variant:e,size:n,...r},i)=>b.jsx(WC,{ref:i,className:Ie(UU({variant:e,size:n,className:t})),...r}));KC.displayName=WC.displayName;var He;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(He||(He={}));var vb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(vb||(vb={}));const ee=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},G=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}zr.create=t=>new zr(t);const th=(t,e)=>{let n;switch(t.code){case G.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,He.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${He.joinValues(t.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${He.joinValues(t.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${He.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:He.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case G.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case G.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=e.defaultError,He.assertNever(t)}return{message:n}};let jU=th;function Gv(){return jU}const Qv=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}};function se(t,e){const n=Qv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gv(),th].filter(r=>!!r)});t.common.issues.push(n)}class Sn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return xe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Sn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return xe;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const xe=Object.freeze({status:"aborted"}),BU=t=>({status:"dirty",value:t}),$n=t=>({status:"valid",value:t}),yb=t=>t.status==="aborted",_b=t=>t.status==="dirty",nh=t=>t.status==="valid",Yv=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class Xr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wb=(t,e)=>{if(nh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new zr(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Ne{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Bs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sn,ctx:{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},s=this._parseSync({data:e,path:i.path,parent:i});return wb(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Yv(i)?i:Promise.resolve(i));return wb(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:G.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ai({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ps.create(this,this._def)}nullable(){return Ha.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hr.create(this,this._def)}promise(){return Gu.create(this,this._def)}or(e){return sh.create([this,e],this._def)}and(e){return oh.create(this,e,this._def)}transform(e){return new Ai({...Se(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new dh({...Se(this._def),innerType:this,defaultValue:n,typeName:me.ZodDefault})}brand(){return new e5({typeName:me.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ry({...Se(this._def),innerType:this,catchValue:n,typeName:me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ep.create(this,e)}readonly(){return sy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zU=/^c[^\s-]{8,}$/i,HU=/^[a-z][a-z0-9]*$/,qU=/[0-9A-HJKMNP-TV-Z]{26}/,WU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,KU=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GU=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,QU=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,YU=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,XU=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ZU(t,e){return!!((e==="v4"||!e)&&QU.test(t)||(e==="v6"||!e)&&YU.test(t))}class ci extends Ne{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:G.invalid_string,...de.errToObj(r)}),this.nonempty=e=>this.min(1,de.errToObj(e)),this.trim=()=>new ci({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ci({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ci({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const s=this._getOrReturnCtx(e);return se(s,{code:G.invalid_type,expected:ee.string,received:s.parsedType}),xe}const r=new Sn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:G.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:G.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?se(i,{code:G.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&se(i,{code:G.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")KU.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"email",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")GU.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"emoji",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")WU.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"uuid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")zU.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"cuid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")HU.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"cuid2",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")qU.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"ulid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),se(i,{validation:"url",code:G.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"regex",code:G.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),se(i,{code:G.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),se(i,{code:G.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),se(i,{code:G.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?XU(s).test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{code:G.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?ZU(e.data,s.version)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"ip",code:G.invalid_string,message:s.message}),r.dirty()):He.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new ci({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...de.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ci.create=t=>{var e;return new ci({checks:[],typeName:me.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};function JU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ja extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const s=this._getOrReturnCtx(e);return se(s,{code:G.invalid_type,expected:ee.number,received:s.parsedType}),xe}let r;const i=new Sn;for(const s of this._def.checks)s.kind==="int"?He.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:G.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:G.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:G.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?JU(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:G.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:G.not_finite,message:s.message}),i.dirty()):He.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,i){return new ja({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(i)}]})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&He.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ja.create=t=>new ja({checks:[],typeName:me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Ba extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const s=this._getOrReturnCtx(e);return se(s,{code:G.invalid_type,expected:ee.bigint,received:s.parsedType}),xe}let r;const i=new Sn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:G.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:G.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:G.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):He.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,i){return new Ba({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(i)}]})}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ba.create=t=>{var e;return new Ba({checks:[],typeName:me.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};class Xv extends Ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:G.invalid_type,expected:ee.boolean,received:r.parsedType}),xe}return $n(e.data)}}Xv.create=t=>new Xv({typeName:me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Ku extends Ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const s=this._getOrReturnCtx(e);return se(s,{code:G.invalid_type,expected:ee.date,received:s.parsedType}),xe}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return se(s,{code:G.invalid_date}),xe}const r=new Sn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:G.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:G.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):He.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ku({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ku.create=t=>new Ku({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:me.ZodDate,...Se(t)});class Zv extends Ne{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:G.invalid_type,expected:ee.symbol,received:r.parsedType}),xe}return $n(e.data)}}Zv.create=t=>new Zv({typeName:me.ZodSymbol,...Se(t)});class rh extends Ne{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:G.invalid_type,expected:ee.undefined,received:r.parsedType}),xe}return $n(e.data)}}rh.create=t=>new rh({typeName:me.ZodUndefined,...Se(t)});class ih extends Ne{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return se(r,{code:G.invalid_type,expected:ee.null,received:r.parsedType}),xe}return $n(e.data)}}ih.create=t=>new ih({typeName:me.ZodNull,...Se(t)});class Jv extends Ne{constructor(){super(...arguments),this._any=!0}_parse(e){return $n(e.data)}}Jv.create=t=>new Jv({typeName:me.ZodAny,...Se(t)});class Ta extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $n(e.data)}}Ta.create=t=>new Ta({typeName:me.ZodUnknown,...Se(t)});class Ss extends Ne{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:G.invalid_type,expected:ee.never,received:n.parsedType}),xe}}Ss.create=t=>new Ss({typeName:me.ZodNever,...Se(t)});class ey extends Ne{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:G.invalid_type,expected:ee.void,received:r.parsedType}),xe}return $n(e.data)}}ey.create=t=>new ey({typeName:me.ZodVoid,...Se(t)});class Hr extends Ne{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ee.array)return se(n,{code:G.invalid_type,expected:ee.array,received:n.parsedType}),xe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(se(n,{code:o?G.too_big:G.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(se(n,{code:G.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(se(n,{code:G.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Xr(n,o,n.path,a)))).then(o=>Sn.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Xr(n,o,n.path,a)));return Sn.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Hr({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Hr({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Hr({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Hr.create=(t,e)=>new Hr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,...Se(e)});function Ko(t){if(t instanceof wt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ps.create(Ko(r))}return new wt({...t._def,shape:()=>e})}else return t instanceof Hr?new Hr({...t._def,type:Ko(t.element)}):t instanceof ps?ps.create(Ko(t.unwrap())):t instanceof Ha?Ha.create(Ko(t.unwrap())):t instanceof Ci?Ci.create(t.items.map(e=>Ko(e))):t}class wt extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=He.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const c=this._getOrReturnCtx(e);return se(c,{code:G.invalid_type,expected:ee.object,received:c.parsedType}),xe}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ss&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const f=s[c],u=i.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new Xr(i,u,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ss){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of a)l.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")a.length>0&&(se(i,{code:G.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of a){const u=i.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new Xr(i,u,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of l){const u=await f.key;c.push({key:u,value:await f.value,alwaysSet:f.alwaysSet})}return c}).then(c=>Sn.mergeObjectSync(r,c)):Sn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const n={};return He.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new wt({...this._def,shape:()=>n})}omit(e){const n={};return He.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new wt({...this._def,shape:()=>n})}deepPartial(){return Ko(this)}partial(e){const n={};return He.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new wt({...this._def,shape:()=>n})}required(e){const n={};return He.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ps;)s=s._def.innerType;n[r]=s}}),new wt({...this._def,shape:()=>n})}keyof(){return GC(He.objectKeys(this.shape))}}wt.create=(t,e)=>new wt({shape:()=>t,unknownKeys:"strip",catchall:Ss.create(),typeName:me.ZodObject,...Se(e)});wt.strictCreate=(t,e)=>new wt({shape:()=>t,unknownKeys:"strict",catchall:Ss.create(),typeName:me.ZodObject,...Se(e)});wt.lazycreate=(t,e)=>new wt({shape:t,unknownKeys:"strip",catchall:Ss.create(),typeName:me.ZodObject,...Se(e)});class sh extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new zr(a.ctx.common.issues));return se(n,{code:G.invalid_union,unionErrors:o}),xe}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=l._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new zr(l));return se(n,{code:G.invalid_union,unionErrors:a}),xe}}get options(){return this._def.options}}sh.create=(t,e)=>new sh({options:t,typeName:me.ZodUnion,...Se(e)});const of=t=>t instanceof lh?of(t.schema):t instanceof Ai?of(t.innerType()):t instanceof uh?[t.value]:t instanceof mo?t.options:t instanceof ch?Object.keys(t.enum):t instanceof dh?of(t._def.innerType):t instanceof rh?[void 0]:t instanceof ih?[null]:null;class g0 extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return se(n,{code:G.invalid_type,expected:ee.object,received:n.parsedType}),xe;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=of(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new g0({typeName:me.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Se(r)})}}function ty(t,e){const n=Bs(t),r=Bs(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const i=He.objectKeys(e),s=He.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=ty(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=ty(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class oh extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(yb(s)||yb(o))return xe;const a=ty(s.value,o.value);return a.valid?((_b(s)||_b(o))&&n.dirty(),{status:n.value,value:a.data}):(se(r,{code:G.invalid_intersection_types}),xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}oh.create=(t,e,n)=>new oh({left:t,right:e,typeName:me.ZodIntersection,...Se(n)});class Ci extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return se(r,{code:G.invalid_type,expected:ee.array,received:r.parsedType}),xe;if(r.data.length<this._def.items.length)return se(r,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Xr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Sn.mergeArray(n,o)):Sn.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Ci({...this._def,rest:e})}}Ci.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ci({items:t,typeName:me.ZodTuple,rest:null,...Se(e)})};class ah extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return se(r,{code:G.invalid_type,expected:ee.object,received:r.parsedType}),xe;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Xr(r,a,r.path,a)),value:o._parse(new Xr(r,r.data[a],r.path,a))});return r.common.async?Sn.mergeObjectAsync(n,i):Sn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ne?new ah({keyType:e,valueType:n,typeName:me.ZodRecord,...Se(r)}):new ah({keyType:ci.create(),valueType:e,typeName:me.ZodRecord,...Se(n)})}}class ny extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return se(r,{code:G.invalid_type,expected:ee.map,received:r.parsedType}),xe;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Xr(r,a,r.path,[c,"key"])),value:s._parse(new Xr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return xe;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return xe;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}}}}ny.create=(t,e,n)=>new ny({valueType:e,keyType:t,typeName:me.ZodMap,...Se(n)});class za extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return se(r,{code:G.invalid_type,expected:ee.set,received:r.parsedType}),xe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(se(r,{code:G.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(se(r,{code:G.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const f of l){if(f.status==="aborted")return xe;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Xr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new za({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new za({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}za.create=(t,e)=>new za({valueType:t,minSize:null,maxSize:null,typeName:me.ZodSet,...Se(e)});class pu extends Ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return se(n,{code:G.invalid_type,expected:ee.function,received:n.parsedType}),xe;function r(a,l){return Qv({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Gv(),th].filter(c=>!!c),issueData:{code:G.invalid_arguments,argumentsError:l}})}function i(a,l){return Qv({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Gv(),th].filter(c=>!!c),issueData:{code:G.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Gu){const a=this;return $n(async function(...l){const c=new zr([]),f=await a._def.args.parseAsync(l,s).catch(h=>{throw c.addIssue(r(l,h)),c}),u=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(u,s).catch(h=>{throw c.addIssue(i(u,h)),c})})}else{const a=this;return $n(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new zr([r(l,c.error)]);const f=Reflect.apply(o,this,c.data),u=a._def.returns.safeParse(f,s);if(!u.success)throw new zr([i(f,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new pu({...this._def,args:Ci.create(e).rest(Ta.create())})}returns(e){return new pu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new pu({args:e||Ci.create([]).rest(Ta.create()),returns:n||Ta.create(),typeName:me.ZodFunction,...Se(r)})}}class lh extends Ne{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}lh.create=(t,e)=>new lh({getter:t,typeName:me.ZodLazy,...Se(e)});class uh extends Ne{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}uh.create=(t,e)=>new uh({value:t,typeName:me.ZodLiteral,...Se(e)});function GC(t,e){return new mo({values:t,typeName:me.ZodEnum,...Se(e)})}class mo extends Ne{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:He.joinValues(r),received:n.parsedType,code:G.invalid_type}),xe}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:G.invalid_enum_value,options:r}),xe}return $n(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return mo.create(e)}exclude(e){return mo.create(this.options.filter(n=>!e.includes(n)))}}mo.create=GC;class ch extends Ne{_parse(e){const n=He.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const i=He.objectValues(n);return se(r,{expected:He.joinValues(i),received:r.parsedType,code:G.invalid_type}),xe}if(n.indexOf(e.data)===-1){const i=He.objectValues(n);return se(r,{received:r.data,code:G.invalid_enum_value,options:i}),xe}return $n(e.data)}get enum(){return this._def.values}}ch.create=(t,e)=>new ch({values:t,typeName:me.ZodNativeEnum,...Se(e)});class Gu extends Ne{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return se(n,{code:G.invalid_type,expected:ee.promise,received:n.parsedType}),xe;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return $n(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gu.create=(t,e)=>new Gu({type:t,typeName:me.ZodPromise,...Se(e)});class Ai extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?xe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?xe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nh(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>nh(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);He.assertNever(i)}}Ai.create=(t,e,n)=>new Ai({schema:t,typeName:me.ZodEffects,effect:e,...Se(n)});Ai.createWithPreprocess=(t,e,n)=>new Ai({schema:e,effect:{type:"preprocess",transform:t},typeName:me.ZodEffects,...Se(n)});class ps extends Ne{_parse(e){return this._getType(e)===ee.undefined?$n(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ps.create=(t,e)=>new ps({innerType:t,typeName:me.ZodOptional,...Se(e)});class Ha extends Ne{_parse(e){return this._getType(e)===ee.null?$n(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ha.create=(t,e)=>new Ha({innerType:t,typeName:me.ZodNullable,...Se(e)});class dh extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}dh.create=(t,e)=>new dh({innerType:t,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class ry extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yv(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ry.create=(t,e)=>new ry({innerType:t,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class iy extends Ne{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return se(r,{code:G.invalid_type,expected:ee.nan,received:r.parsedType}),xe}return{status:"valid",value:e.data}}}iy.create=t=>new iy({typeName:me.ZodNaN,...Se(t)});class e5 extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ep extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?xe:s.status==="dirty"?(n.dirty(),BU(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?xe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ep({in:e,out:n,typeName:me.ZodPipeline})}}class sy extends Ne{_parse(e){const n=this._def.innerType._parse(e);return nh(n)&&(n.value=Object.freeze(n.value)),n}}sy.create=(t,e)=>new sy({innerType:t,typeName:me.ZodReadonly,...Se(e)});wt.lazycreate;var me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(me||(me={}));const da=ci.create;ja.create;iy.create;Ba.create;Xv.create;Ku.create;Zv.create;rh.create;ih.create;Jv.create;Ta.create;Ss.create;ey.create;Hr.create;const QC=wt.create;wt.strictCreate;sh.create;g0.create;oh.create;Ci.create;ah.create;ny.create;za.create;pu.create;lh.create;const t5=uh.create;mo.create;ch.create;Gu.create;Ai.create;ps.create;Ha.create;Ai.createWithPreprocess;Ep.create;const tg="rovingFocusGroup.onEntryFocus",n5={bubbles:!1,cancelable:!0},v0="RovingFocusGroup",[oy,YC,r5]=Ec(v0),[i5,XC]=Li(v0,[r5]),[s5,o5]=i5(v0),a5=p.forwardRef((t,e)=>p.createElement(oy.Provider,{scope:t.__scopeRovingFocusGroup},p.createElement(oy.Slot,{scope:t.__scopeRovingFocusGroup},p.createElement(l5,Y({},t,{ref:e}))))),l5=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...f}=t,u=p.useRef(null),d=qe(e,u),h=wc(s),[m=null,v]=Ti({prop:o,defaultProp:a,onChange:l}),[_,g]=p.useState(!1),y=Qt(c),w=YC(n),E=p.useRef(!1),[S,I]=p.useState(0);return p.useEffect(()=>{const x=u.current;if(x)return x.addEventListener(tg,y),()=>x.removeEventListener(tg,y)},[y]),p.createElement(s5,{scope:n,orientation:r,dir:h,loop:i,currentTabStopId:m,onItemFocus:p.useCallback(x=>v(x),[v]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>I(x=>x+1),[]),onFocusableItemRemove:p.useCallback(()=>I(x=>x-1),[])},p.createElement(ye.div,Y({tabIndex:_||S===0?-1:0,"data-orientation":r},f,{ref:d,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{E.current=!0}),onFocus:fe(t.onFocus,x=>{const T=!E.current;if(x.target===x.currentTarget&&T&&!_){const R=new CustomEvent(tg,n5);if(x.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=w().filter(F=>F.focusable),O=P.find(F=>F.active),A=P.find(F=>F.id===m),k=[O,A,...P].filter(Boolean).map(F=>F.ref.current);ZC(k)}}E.current=!1}),onBlur:fe(t.onBlur,()=>g(!1))})))}),u5="RovingFocusGroupItem",c5=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Br(),l=s||a,c=o5(u5,n),f=c.currentTabStopId===l,u=YC(n),{onFocusableItemAdd:d,onFocusableItemRemove:h}=c;return p.useEffect(()=>{if(r)return d(),()=>h()},[r,d,h]),p.createElement(oy.ItemSlot,{scope:n,id:l,focusable:r,active:i},p.createElement(ye.span,Y({tabIndex:f?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:fe(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:fe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=h5(m,c.orientation,c.dir);if(v!==void 0){m.preventDefault();let g=u().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const y=g.indexOf(m.currentTarget);g=c.loop?p5(g,y+1):g.slice(y+1)}setTimeout(()=>ZC(g))}})})))}),d5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h5(t,e,n){const r=f5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return d5[r]}function ZC(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function p5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const m5=a5,g5=c5,JC="Tabs",[v5,VK]=Li(JC,[XC]),eA=XC(),[y5,y0]=v5(JC),_5=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,f=wc(a),[u,d]=Ti({prop:r,onChange:i,defaultProp:s});return p.createElement(y5,{scope:n,baseId:Br(),value:u,onValueChange:d,orientation:o,dir:f,activationMode:l},p.createElement(ye.div,Y({dir:f,"data-orientation":o},c,{ref:e})))}),w5="TabsList",E5=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=y0(w5,n),o=eA(n);return p.createElement(m5,Y({asChild:!0},o,{orientation:s.orientation,dir:s.dir,loop:r}),p.createElement(ye.div,Y({role:"tablist","aria-orientation":s.orientation},i,{ref:e})))}),b5="TabsTrigger",T5=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=y0(b5,n),a=eA(n),l=tA(o.baseId,r),c=nA(o.baseId,r),f=r===o.value;return p.createElement(g5,Y({asChild:!0},a,{focusable:!i,active:f}),p.createElement(ye.button,Y({type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l},s,{ref:e,onMouseDown:fe(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:fe(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const u=o.activationMode!=="manual";!f&&!i&&u&&o.onValueChange(r)})})))}),S5="TabsContent",x5=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=y0(S5,n),l=tA(a.baseId,r),c=nA(a.baseId,r),f=r===a.value,u=p.useRef(f);return p.useEffect(()=>{const d=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(d)},[]),p.createElement(Jr,{present:i||f},({present:d})=>p.createElement(ye.div,Y({"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0},o,{ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0}}),d&&s))});function tA(t,e){return`${t}-trigger-${e}`}function nA(t,e){return`${t}-content-${e}`}const R5=_5,rA=E5,iA=T5,sA=x5,I5=R5,oA=p.forwardRef(({className:t,...e},n)=>b.jsx(rA,{ref:n,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));oA.displayName=rA.displayName;const ay=p.forwardRef(({className:t,...e},n)=>b.jsx(iA,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ay.displayName=iA.displayName;const ly=p.forwardRef(({className:t,...e},n)=>b.jsx(sA,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ly.displayName=sA.displayName;var Rc=t=>t.type==="checkbox",fa=t=>t instanceof Date,_n=t=>t==null;const aA=t=>typeof t=="object";var Ft=t=>!_n(t)&&!Array.isArray(t)&&aA(t)&&!fa(t),lA=t=>Ft(t)&&t.target?Rc(t.target)?t.target.checked:t.target.value:t,C5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,uA=(t,e)=>t.has(C5(e)),A5=t=>{const e=t.constructor&&t.constructor.prototype;return Ft(e)&&e.hasOwnProperty("isPrototypeOf")},_0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(_0&&(t instanceof Blob||t instanceof FileList))&&(n||Ft(t)))if(e=n?[]:{},!n&&!A5(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=cr(t[r]));else return t;return e}var Ic=t=>Array.isArray(t)?t.filter(Boolean):[],Ct=t=>t===void 0,Z=(t,e,n)=>{if(!e||!Ft(t))return n;const r=Ic(e.split(/[,[\].]+?/)).reduce((i,s)=>_n(i)?i:i[s],t);return Ct(r)||r===t?Ct(t[e])?n:t[e]:r},rs=t=>typeof t=="boolean";const fh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ri={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cA=De.createContext(null),bp=()=>De.useContext(cA),P5=t=>{const{children:e,...n}=t;return De.createElement(cA.Provider,{value:n},e)};var dA=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==pr.all&&(e._proxyFormState[o]=!r||pr.all),n&&(n[o]=!0),t[o]}});return i},Qn=t=>Ft(t)&&!Object.keys(t).length,fA=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Qn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||pr.all))},af=t=>Array.isArray(t)?t:[t],hA=(t,e,n)=>n&&e?t===e||Array.isArray(t)&&t.some(r=>r&&n&&r===e):!t||!e||t===e||af(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function w0(t){const e=De.useRef(t);e.current=t,De.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function k5(t){const e=bp(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=De.useState(n._formState),l=De.useRef(!0),c=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=De.useRef(i);return f.current=i,w0({disabled:r,next:u=>l.current&&hA(f.current,u.name,s)&&fA(u,c.current,n._updateFormState)&&a({...n._formState,...u}),subject:n._subjects.state}),De.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),dA(o,n,c.current,!1)}var $r=t=>typeof t=="string",pA=(t,e,n,r,i)=>$r(t)?(r&&e.watch.add(t),Z(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Z(n,s))):(r&&(e.watchAll=!0),n);function N5(t){const e=bp(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=De.useRef(r);a.current=r,w0({disabled:s,subject:n._subjects.values,next:f=>{hA(a.current,f.name,o)&&c(cr(pA(a.current,n._names,f.values||n._formValues,!1,i)))}});const[l,c]=De.useState(n._getWatch(r,i));return De.useEffect(()=>n._removeUnmounted()),l}var E0=t=>/^\w*$/.test(t),mA=t=>Ic(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Ge(t,e,n){let r=-1;const i=E0(e)?[e]:mA(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Ft(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}function O5(t){const e=bp(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=uA(i._names.array,n),a=N5({control:i,name:n,defaultValue:Z(i._formValues,n,Z(i._defaultValues,n,t.defaultValue)),exact:!0}),l=k5({control:i,name:n}),c=De.useRef(i.register(n,{...t.rules,value:a}));return c.current=i.register(n,t.rules),De.useEffect(()=>{const f=i._options.shouldUnregister||s,u=(d,h)=>{const m=Z(i._fields,d);m&&(m._f.mount=h)};if(u(n,!0),f){const d=cr(Z(i._options.defaultValues,n));Ge(i._defaultValues,n,d),Ct(Z(i._formValues,n))&&Ge(i._formValues,n,d)}return()=>{(o?f&&!i._state.action:f)?i.unregister(n):u(n,!1)}},[n,i,o,s]),De.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),{field:{name:n,value:a,...rs(r)?{disabled:r}:{},onChange:De.useCallback(f=>c.current.onChange({target:{value:lA(f),name:n},type:fh.CHANGE}),[n]),onBlur:De.useCallback(()=>c.current.onBlur({target:{value:Z(i._formValues,n),name:n},type:fh.BLUR}),[n,i]),ref:f=>{const u=Z(i._fields,n);u&&f&&(u._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:d=>f.setCustomValidity(d),reportValidity:()=>f.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Z(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Z(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Z(l.touchedFields,n)},error:{enumerable:!0,get:()=>Z(l.errors,n)}})}}const D5=t=>t.render(O5(t));var gA=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const uy=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=Z(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Ft(o)&&uy(o,e)}}};var Eb=t=>({isOnSubmit:!t||t===pr.onSubmit,isOnBlur:t===pr.onBlur,isOnChange:t===pr.onChange,isOnAll:t===pr.all,isOnTouch:t===pr.onTouched}),bb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),$5=(t,e,n)=>{const r=Ic(Z(t,n));return Ge(r,"root",e[n]),Ge(t,n,r),t},b0=t=>t.type==="file",is=t=>typeof t=="function",hh=t=>{if(!_0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},lf=t=>$r(t),T0=t=>t.type==="radio",ph=t=>t instanceof RegExp;const Tb={value:!1,isValid:!1},Sb={value:!0,isValid:!0};var vA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ct(t[0].attributes.value)?Ct(t[0].value)||t[0].value===""?Sb:{value:t[0].value,isValid:!0}:Sb:Tb}return Tb};const xb={isValid:!1,value:null};var yA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xb):xb;function Rb(t,e,n="validate"){if(lf(t)||Array.isArray(t)&&t.every(lf)||rs(t)&&!t)return{type:n,message:lf(t)?t:"",ref:e}}var zo=t=>Ft(t)&&!ph(t)?t:{value:t,message:""},Ib=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:f,max:u,pattern:d,validate:h,name:m,valueAsNumber:v,mount:_,disabled:g}=t._f,y=Z(e,m);if(!_||g)return{};const w=o?o[0]:s,E=A=>{r&&w.reportValidity&&(w.setCustomValidity(rs(A)?"":A||""),w.reportValidity())},S={},I=T0(s),x=Rc(s),T=I||x,R=(v||b0(s))&&Ct(s.value)&&Ct(y)||hh(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,P=gA.bind(null,m,n,S),O=(A,L,k,F=ri.maxLength,j=ri.minLength)=>{const W=A?L:k;S[m]={type:A?F:j,message:W,ref:s,...P(A?F:j,W)}};if(i?!Array.isArray(y)||!y.length:a&&(!T&&(R||_n(y))||rs(y)&&!y||x&&!vA(o).isValid||I&&!yA(o).isValid)){const{value:A,message:L}=lf(a)?{value:!!a,message:a}:zo(a);if(A&&(S[m]={type:ri.required,message:L,ref:w,...P(ri.required,L)},!n))return E(L),S}if(!R&&(!_n(f)||!_n(u))){let A,L;const k=zo(u),F=zo(f);if(!_n(y)&&!isNaN(y)){const j=s.valueAsNumber||y&&+y;_n(k.value)||(A=j>k.value),_n(F.value)||(L=j<F.value)}else{const j=s.valueAsDate||new Date(y),W=ne=>new Date(new Date().toDateString()+" "+ne),D=s.type=="time",z=s.type=="week";$r(k.value)&&y&&(A=D?W(y)>W(k.value):z?y>k.value:j>new Date(k.value)),$r(F.value)&&y&&(L=D?W(y)<W(F.value):z?y<F.value:j<new Date(F.value))}if((A||L)&&(O(!!A,k.message,F.message,ri.max,ri.min),!n))return E(S[m].message),S}if((l||c)&&!R&&($r(y)||i&&Array.isArray(y))){const A=zo(l),L=zo(c),k=!_n(A.value)&&y.length>+A.value,F=!_n(L.value)&&y.length<+L.value;if((k||F)&&(O(k,A.message,L.message),!n))return E(S[m].message),S}if(d&&!R&&$r(y)){const{value:A,message:L}=zo(d);if(ph(A)&&!y.match(A)&&(S[m]={type:ri.pattern,message:L,ref:s,...P(ri.pattern,L)},!n))return E(L),S}if(h){if(is(h)){const A=await h(y,e),L=Rb(A,w);if(L&&(S[m]={...L,...P(ri.validate,L.message)},!n))return E(L.message),S}else if(Ft(h)){let A={};for(const L in h){if(!Qn(A)&&!n)break;const k=Rb(await h[L](y,e),w,L);k&&(A={...k,...P(L,k.message)},E(k.message),n&&(S[m]=A))}if(!Qn(A)&&(S[m]={ref:w,...A},!n))return S}}return E(!0),S};function M5(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ct(t)?r++:t[e[r++]];return t}function L5(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ct(t[e]))return!1;return!0}function Wt(t,e){const n=Array.isArray(e)?e:E0(e)?[e]:mA(e),r=n.length===1?t:M5(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ft(r)&&Qn(r)||Array.isArray(r)&&L5(r))&&Wt(t,n.slice(0,-1)),t}function ng(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var mh=t=>_n(t)||!aA(t);function Ys(t,e){if(mh(t)||mh(e))return t===e;if(fa(t)&&fa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(fa(s)&&fa(o)||Ft(s)&&Ft(o)||Array.isArray(s)&&Array.isArray(o)?!Ys(s,o):s!==o)return!1}}return!0}var _A=t=>t.type==="select-multiple",V5=t=>T0(t)||Rc(t),rg=t=>hh(t)&&t.isConnected,wA=t=>{for(const e in t)if(is(t[e]))return!0;return!1};function gh(t,e={}){const n=Array.isArray(t);if(Ft(t)||n)for(const r in t)Array.isArray(t[r])||Ft(t[r])&&!wA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gh(t[r],e[r])):_n(t[r])||(e[r]=!0);return e}function EA(t,e,n){const r=Array.isArray(t);if(Ft(t)||r)for(const i in t)Array.isArray(t[i])||Ft(t[i])&&!wA(t[i])?Ct(e)||mh(n[i])?n[i]=Array.isArray(t[i])?gh(t[i],[]):{...gh(t[i])}:EA(t[i],_n(e)?{}:e[i],n[i]):n[i]=!Ys(t[i],e[i]);return n}var ig=(t,e)=>EA(t,e,gh(e)),bA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ct(t)?t:e?t===""?NaN:t&&+t:n&&$r(t)?new Date(t):r?r(t):t;function sg(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return b0(e)?e.files:T0(e)?yA(t.refs).value:_A(e)?[...e.selectedOptions].map(({value:n})=>n):Rc(e)?vA(t.refs).value:bA(Ct(e.value)?t.ref.value:e.value,t)}var F5=(t,e,n,r)=>{const i={};for(const s of t){const o=Z(e,s);o&&Ge(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},jl=t=>Ct(t)?t:ph(t)?t.source:Ft(t)?ph(t.value)?t.value.source:t.value:t,U5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Cb(t,e,n){const r=Z(t,n);if(r||E0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Z(e,s),a=Z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var j5=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,B5=(t,e)=>!Ic(Z(t,e)).length&&Wt(t,e);const z5={mode:pr.onSubmit,reValidateMode:pr.onChange,shouldFocusError:!0};function H5(t={},e){let n={...z5,...t},r={submitCount:0,isDirty:!1,isLoading:is(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Ft(n.defaultValues)||Ft(n.values)?cr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:cr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,f=0;const u={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:ng(),array:ng(),state:ng()},h=t.resetOptions&&t.resetOptions.keepDirtyValues,m=Eb(n.mode),v=Eb(n.reValidateMode),_=n.criteriaMode===pr.all,g=C=>$=>{clearTimeout(f),f=setTimeout(C,$)},y=async C=>{if(u.isValid||C){const $=n.resolver?Qn((await R()).errors):await O(i,!0);$!==r.isValid&&d.state.next({isValid:$})}},w=C=>u.isValidating&&d.state.next({isValidating:C}),E=(C,$=[],V,J,Q=!0,K=!0)=>{if(J&&V){if(a.action=!0,K&&Array.isArray(Z(i,C))){const ae=V(Z(i,C),J.argA,J.argB);Q&&Ge(i,C,ae)}if(K&&Array.isArray(Z(r.errors,C))){const ae=V(Z(r.errors,C),J.argA,J.argB);Q&&Ge(r.errors,C,ae),B5(r.errors,C)}if(u.touchedFields&&K&&Array.isArray(Z(r.touchedFields,C))){const ae=V(Z(r.touchedFields,C),J.argA,J.argB);Q&&Ge(r.touchedFields,C,ae)}u.dirtyFields&&(r.dirtyFields=ig(s,o)),d.state.next({name:C,isDirty:L(C,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ge(o,C,$)},S=(C,$)=>{Ge(r.errors,C,$),d.state.next({errors:r.errors})},I=(C,$,V,J)=>{const Q=Z(i,C);if(Q){const K=Z(o,C,Ct(V)?Z(s,C):V);Ct(K)||J&&J.defaultChecked||$?Ge(o,C,$?K:sg(Q._f)):j(C,K),a.mount&&y()}},x=(C,$,V,J,Q)=>{let K=!1,ae=!1;const ut={name:C};if(!V||J){u.isDirty&&(ae=r.isDirty,r.isDirty=ut.isDirty=L(),K=ae!==ut.isDirty);const ct=Ys(Z(s,C),$);ae=Z(r.dirtyFields,C),ct?Wt(r.dirtyFields,C):Ge(r.dirtyFields,C,!0),ut.dirtyFields=r.dirtyFields,K=K||u.dirtyFields&&ae!==!ct}if(V){const ct=Z(r.touchedFields,C);ct||(Ge(r.touchedFields,C,V),ut.touchedFields=r.touchedFields,K=K||u.touchedFields&&ct!==V)}return K&&Q&&d.state.next(ut),K?ut:{}},T=(C,$,V,J)=>{const Q=Z(r.errors,C),K=u.isValid&&rs($)&&r.isValid!==$;if(t.delayError&&V?(c=g(()=>S(C,V)),c(t.delayError)):(clearTimeout(f),c=null,V?Ge(r.errors,C,V):Wt(r.errors,C)),(V?!Ys(Q,V):Q)||!Qn(J)||K){const ae={...J,...K&&rs($)?{isValid:$}:{},errors:r.errors,name:C};r={...r,...ae},d.state.next(ae)}w(!1)},R=async C=>n.resolver(o,n.context,F5(C||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),P=async C=>{const{errors:$}=await R(C);if(C)for(const V of C){const J=Z($,V);J?Ge(r.errors,V,J):Wt(r.errors,V)}else r.errors=$;return $},O=async(C,$,V={valid:!0})=>{for(const J in C){const Q=C[J];if(Q){const{_f:K,...ae}=Q;if(K){const ut=l.array.has(K.name),ct=await Ib(Q,o,_,n.shouldUseNativeValidation&&!$,ut);if(ct[K.name]&&(V.valid=!1,$))break;!$&&(Z(ct,K.name)?ut?$5(r.errors,ct,K.name):Ge(r.errors,K.name,ct[K.name]):Wt(r.errors,K.name))}ae&&await O(ae,$,V)}}return V.valid},A=()=>{for(const C of l.unMount){const $=Z(i,C);$&&($._f.refs?$._f.refs.every(V=>!rg(V)):!rg($._f.ref))&&Ze(C)}l.unMount=new Set},L=(C,$)=>(C&&$&&Ge(o,C,$),!Ys(he(),s)),k=(C,$,V)=>pA(C,l,{...a.mount?o:Ct($)?s:$r(C)?{[C]:$}:$},V,$),F=C=>Ic(Z(a.mount?o:s,C,t.shouldUnregister?Z(s,C,[]):[])),j=(C,$,V={})=>{const J=Z(i,C);let Q=$;if(J){const K=J._f;K&&(!K.disabled&&Ge(o,C,bA($,K)),Q=hh(K.ref)&&_n($)?"":$,_A(K.ref)?[...K.ref.options].forEach(ae=>ae.selected=Q.includes(ae.value)):K.refs?Rc(K.ref)?K.refs.length>1?K.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(Q)?!!Q.find(ut=>ut===ae.value):Q===ae.value)):K.refs[0]&&(K.refs[0].checked=!!Q):K.refs.forEach(ae=>ae.checked=ae.value===Q):b0(K.ref)?K.ref.value="":(K.ref.value=Q,K.ref.type||d.values.next({name:C,values:{...o}})))}(V.shouldDirty||V.shouldTouch)&&x(C,Q,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&ne(C)},W=(C,$,V)=>{for(const J in $){const Q=$[J],K=`${C}.${J}`,ae=Z(i,K);(l.array.has(C)||!mh(Q)||ae&&!ae._f)&&!fa(Q)?W(K,Q,V):j(K,Q,V)}},D=(C,$,V={})=>{const J=Z(i,C),Q=l.array.has(C),K=cr($);Ge(o,C,K),Q?(d.array.next({name:C,values:{...o}}),(u.isDirty||u.dirtyFields)&&V.shouldDirty&&d.state.next({name:C,dirtyFields:ig(s,o),isDirty:L(C,K)})):J&&!J._f&&!_n(K)?W(C,K,V):j(C,K,V),bb(C,l)&&d.state.next({...r}),d.values.next({name:C,values:{...o}}),!a.mount&&e()},z=async C=>{const $=C.target;let V=$.name,J=!0;const Q=Z(i,V),K=()=>$.type?sg(Q._f):lA(C);if(Q){let ae,ut;const ct=K(),sr=C.type===fh.BLUR||C.type===fh.FOCUS_OUT,Xc=!U5(Q._f)&&!n.resolver&&!Z(r.errors,V)&&!Q._f.deps||j5(sr,Z(r.touchedFields,V),r.isSubmitted,v,m),Ms=bb(V,l,sr);Ge(o,V,ct),sr?(Q._f.onBlur&&Q._f.onBlur(C),c&&c(0)):Q._f.onChange&&Q._f.onChange(C);const Tl=x(V,ct,sr,!1),Zc=!Qn(Tl)||Ms;if(!sr&&d.values.next({name:V,type:C.type,values:{...o}}),Xc)return u.isValid&&y(),Zc&&d.state.next({name:V,...Ms?{}:Tl});if(!sr&&Ms&&d.state.next({...r}),w(!0),n.resolver){const{errors:Jc}=await R([V]),ed=Cb(r.errors,i,V),td=Cb(Jc,i,ed.name||V);ae=td.error,V=td.name,ut=Qn(Jc)}else ae=(await Ib(Q,o,_,n.shouldUseNativeValidation))[V],J=Number.isNaN(ct)||ct===Z(o,V,ct),J&&(ae?ut=!1:u.isValid&&(ut=await O(i,!0)));J&&(Q._f.deps&&ne(Q._f.deps),T(V,ut,ae,Tl))}},ne=async(C,$={})=>{let V,J;const Q=af(C);if(w(!0),n.resolver){const K=await P(Ct(C)?C:Q);V=Qn(K),J=C?!Q.some(ae=>Z(K,ae)):V}else C?(J=(await Promise.all(Q.map(async K=>{const ae=Z(i,K);return await O(ae&&ae._f?{[K]:ae}:ae)}))).every(Boolean),!(!J&&!r.isValid)&&y()):J=V=await O(i);return d.state.next({...!$r(C)||u.isValid&&V!==r.isValid?{}:{name:C},...n.resolver||!C?{isValid:V}:{},errors:r.errors,isValidating:!1}),$.shouldFocus&&!J&&uy(i,K=>K&&Z(r.errors,K),C?Q:l.mount),J},he=C=>{const $={...s,...a.mount?o:{}};return Ct(C)?$:$r(C)?Z($,C):C.map(V=>Z($,V))},Ae=(C,$)=>({invalid:!!Z(($||r).errors,C),isDirty:!!Z(($||r).dirtyFields,C),isTouched:!!Z(($||r).touchedFields,C),error:Z(($||r).errors,C)}),Ke=C=>{C&&af(C).forEach($=>Wt(r.errors,$)),d.state.next({errors:C?r.errors:{}})},Ce=(C,$,V)=>{const J=(Z(i,C,{_f:{}})._f||{}).ref;Ge(r.errors,C,{...$,ref:J}),d.state.next({name:C,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&J&&J.focus&&J.focus()},xt=(C,$)=>is(C)?d.values.subscribe({next:V=>C(k(void 0,$),V)}):k(C,$,!0),Ze=(C,$={})=>{for(const V of C?af(C):l.mount)l.mount.delete(V),l.array.delete(V),$.keepValue||(Wt(i,V),Wt(o,V)),!$.keepError&&Wt(r.errors,V),!$.keepDirty&&Wt(r.dirtyFields,V),!$.keepTouched&&Wt(r.touchedFields,V),!n.shouldUnregister&&!$.keepDefaultValue&&Wt(s,V);d.values.next({values:{...o}}),d.state.next({...r,...$.keepDirty?{isDirty:L()}:{}}),!$.keepIsValid&&y()},le=({disabled:C,name:$,field:V,fields:J})=>{if(rs(C)){const Q=C?void 0:Z(o,$,sg(V?V._f:Z(J,$)._f));Ge(o,$,Q),x($,Q,!1,!1,!0)}},Pe=(C,$={})=>{let V=Z(i,C);const J=rs($.disabled);return Ge(i,C,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:C}},name:C,mount:!0,...$}}),l.mount.add(C),V?le({field:V,disabled:$.disabled,name:C}):I(C,!0,$.value),{...J?{disabled:$.disabled}:{},...n.progressive?{required:!!$.required,min:jl($.min),max:jl($.max),minLength:jl($.minLength),maxLength:jl($.maxLength),pattern:jl($.pattern)}:{},name:C,onChange:z,onBlur:z,ref:Q=>{if(Q){Pe(C,$),V=Z(i,C);const K=Ct(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,ae=V5(K),ut=V._f.refs||[];if(ae?ut.find(ct=>ct===K):K===V._f.ref)return;Ge(i,C,{_f:{...V._f,...ae?{refs:[...ut.filter(rg),K,...Array.isArray(Z(s,C))?[{}]:[]],ref:{type:K.type,name:C}}:{ref:K}}}),I(C,!1,void 0,K)}else V=Z(i,C,{}),V._f&&(V._f.mount=!1),(n.shouldUnregister||$.shouldUnregister)&&!(uA(l.array,C)&&a.action)&&l.unMount.add(C)}}},ht=()=>n.shouldFocusError&&uy(i,C=>C&&Z(r.errors,C),l.mount),We=(C,$)=>async V=>{V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let J=cr(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:Q,values:K}=await R();r.errors=Q,J=K}else await O(i);Wt(r.errors,"root"),Qn(r.errors)?(d.state.next({errors:{}}),await C(J,V)):($&&await $({...r.errors},V),ht(),setTimeout(ht)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Fe=(C,$={})=>{Z(i,C)&&(Ct($.defaultValue)?D(C,Z(s,C)):(D(C,$.defaultValue),Ge(s,C,$.defaultValue)),$.keepTouched||Wt(r.touchedFields,C),$.keepDirty||(Wt(r.dirtyFields,C),r.isDirty=$.defaultValue?L(C,Z(s,C)):L()),$.keepError||(Wt(r.errors,C),u.isValid&&y()),d.state.next({...r}))},Ue=(C,$={})=>{const V=C?cr(C):s,J=cr(V),Q=C&&!Qn(C)?J:s;if($.keepDefaultValues||(s=V),!$.keepValues){if($.keepDirtyValues||h)for(const K of l.mount)Z(r.dirtyFields,K)?Ge(Q,K,Z(o,K)):D(K,Z(Q,K));else{if(_0&&Ct(C))for(const K of l.mount){const ae=Z(i,K);if(ae&&ae._f){const ut=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(hh(ut)){const ct=ut.closest("form");if(ct){ct.reset();break}}}}i={}}o=t.shouldUnregister?$.keepDefaultValues?cr(s):{}:cr(Q),d.array.next({values:{...Q}}),d.values.next({values:{...Q}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!u.isValid||!!$.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Ys(C,s)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$.keepDirtyValues?r.dirtyFields:$.keepDefaultValues&&C?ig(s,C):{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ut=(C,$)=>Ue(is(C)?C(o):C,$);return{control:{register:Pe,unregister:Ze,getFieldState:Ae,handleSubmit:We,setError:Ce,_executeSchema:R,_getWatch:k,_getDirty:L,_updateValid:y,_removeUnmounted:A,_updateFieldArray:E,_updateDisabledField:le,_getFieldArray:F,_reset:Ue,_resetDefaultValues:()=>is(n.defaultValues)&&n.defaultValues().then(C=>{Ut(C,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_subjects:d,_proxyFormState:u,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return l},set _names(C){l=C},get _formState(){return r},set _formState(C){r=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:ne,register:Pe,handleSubmit:We,watch:xt,setValue:D,getValues:he,reset:Ut,resetField:Fe,clearErrors:Ke,unregister:Ze,setError:Ce,setFocus:(C,$={})=>{const V=Z(i,C),J=V&&V._f;if(J){const Q=J.refs?J.refs[0]:J.ref;Q.focus&&(Q.focus(),$.shouldSelect&&Q.select())}},getFieldState:Ae}}function S0(t={}){const e=De.useRef(),n=De.useRef(),[r,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:is(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:is(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...H5(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,w0({subject:s._subjects.state,next:o=>{fA(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),De.useEffect(()=>{t.values&&!Ys(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),De.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=dA(r,s),e.current}var Ab=function(t,e,n){if(t&&"reportValidity"in t){var r=Z(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},TA=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?Ab(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return Ab(o,i,t)})};for(var r in e.fields)n(r)},q5=function(t,e){e.shouldUseNativeValidation&&TA(t,e);var n={};for(var r in t){var i=Z(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(K5(e.names||Object.keys(t),r)){var o=Object.assign({},W5(Z(n,r)));Ge(o,"root",s),Ge(n,r,o)}else Ge(n,r,s)}return n},W5=function(t){return Array.isArray(t)?t.filter(Boolean):[]},K5=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},G5=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(u){return t.push(u)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=gA(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},x0=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&TA({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:q5(G5(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Q5=p.forwardRef((t,e)=>p.createElement(ye.label,Y({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),SA=Q5,Y5=pp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xA=p.forwardRef(({className:t,...e},n)=>b.jsx(SA,{ref:n,className:Ie(Y5(),t),...e}));xA.displayName=SA.displayName;const R0=P5,RA=p.createContext({}),ai=({...t})=>b.jsx(RA.Provider,{value:{name:t.name},children:b.jsx(D5,{...t})}),Tp=()=>{const t=p.useContext(RA),e=p.useContext(IA),{getFieldState:n,formState:r}=bp(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},IA=p.createContext({}),Pr=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return b.jsx(IA.Provider,{value:{id:r},children:b.jsx("div",{ref:n,className:Ie("space-y-2",t),...e})})});Pr.displayName="FormItem";const kr=p.forwardRef(({className:t,...e},n)=>{const{formItemId:r}=Tp();return b.jsx(xA,{ref:n,className:t,htmlFor:r,...e})});kr.displayName="FormLabel";const Nr=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Tp();return b.jsx(ws,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Nr.displayName="FormControl";const X5=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Tp();return b.jsx("p",{ref:n,id:r,className:Ie("text-sm text-muted-foreground",t),...e})});X5.displayName="FormDescription";const Or=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Tp(),o=i?String(i==null?void 0:i.message):e;return o?b.jsx("p",{ref:r,id:s,className:Ie("text-sm font-medium text-destructive",t),...n,children:o}):null});Or.displayName="FormMessage";const Z5="flex h-10 w-full rounded-md border border-input bg-background pr-3 text-sm ring-offset-background hover:file:cursor-pointer hover:file:bg-muted-foreground hover:file:text-foreground file:border-0 file:mr-3 file:bg-muted file:h-full file:px-4 file:text-foreground file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",J5="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Mr=p.forwardRef(({className:t,type:e,...n},r)=>b.jsx("input",{type:e,className:Ie(e==="file"?Z5:J5,t),ref:r,...n}));Mr.displayName="Input";const ej=Symbol(),tj=t=>typeof(t==null?void 0:t.then)=="function";function nj(t){let e,n;const r={getItem:(i,s)=>{var o,a;const l=f=>{if(f=f||"",e!==f){try{n=JSON.parse(f)}catch{return s}e=f}return n},c=(a=(o=t())==null?void 0:o.getItem(i))!=null?a:null;return tj(c)?c.then(l):l(c)},setItem:(i,s)=>{var o;return(o=t())==null?void 0:o.setItem(i,JSON.stringify(s))},removeItem:i=>{var s;return(s=t())==null?void 0:s.removeItem(i)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(r.subscribe=(i,s,o)=>{if(!(t()instanceof window.Storage))return()=>{};const a=l=>{if(l.storageArea===t()&&l.key===i){let c;try{c=JSON.parse(l.newValue||"")}catch{c=o}s(c)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),r}const rj=nj(()=>typeof window<"u"?window.localStorage:void 0);function ij(t,e,n=rj,r){const i=r==null?void 0:r.unstable_getOnInit,s=Lv(i?n.getItem(t,e):e);return s.onMount=a=>{i||a(n.getItem(t,e));let l;return n.subscribe&&(l=n.subscribe(t,a,e)),l},Lv(a=>a(s),(a,l,c)=>{const f=typeof c=="function"?c(a(s)):c;return f===ej?(l(s,e),n.removeItem(t)):f instanceof Promise?f.then(u=>(l(s,u),n.setItem(t,u))):(l(s,f),n.setItem(t,f))})}const I0=Lv(!1),sj=ij("user",null);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,u=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(d=64)),r.push(n[f],n[u],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||u==null)throw new aj;const d=s<<2|a>>4;if(r.push(d),c!==64){const h=a<<4&240|c>>2;if(r.push(h),u!==64){const m=c<<6&192|u;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lj=function(t){const e=CA(t);return AA.encodeByteArray(e,!0)},vh=function(t){return lj(t).replace(/\./g,"")},PA=function(t){try{return AA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=()=>uj().__FIREBASE_DEFAULTS__,dj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PA(t[1]);return e&&JSON.parse(e)},Sp=()=>{try{return cj()||dj()||fj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kA=t=>{var e,n;return(n=(e=Sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NA=t=>{const e=kA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OA=()=>{var t;return(t=Sp())===null||t===void 0?void 0:t.config},DA=t=>{var e;return(e=Sp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[vh(JSON.stringify(n)),vh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function mj(){var t;const e=(t=Sp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yj(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _j(){try{return typeof indexedDB=="object"}catch{return!1}}function wj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function bj(t,e){return t.replace(Tj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Tj=/\{\$([^}]+)}/g;function Sj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pb(s)&&Pb(o)){if(!yh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xj(t,e){const n=new Rj(t,e);return n.subscribe.bind(n)}class Rj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ij(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=og),i.error===void 0&&(i.error=og),i.complete===void 0&&(i.complete=og);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ij(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pj(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Aj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Aj(t){return t===js?void 0:t}function Pj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Cj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const Nj={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Oj=Le.INFO,Dj={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},$j=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Dj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C0{constructor(e){this.name=e,this._logLevel=Oj,this._logHandler=$j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Mj=(t,e)=>e.some(n=>t instanceof n);let kb,Nb;function Lj(){return kb||(kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vj(){return Nb||(Nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MA=new WeakMap,cy=new WeakMap,LA=new WeakMap,ag=new WeakMap,A0=new WeakMap;function Fj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ms(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MA.set(n,t)}).catch(()=>{}),A0.set(e,t),e}function Uj(t){if(cy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cy.set(t,e)}let dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jj(t){dy=t(dy)}function Bj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lg(this),e,...n);return LA.set(r,e.sort?e.sort():[e]),ms(r)}:Vj().includes(t)?function(...e){return t.apply(lg(this),e),ms(MA.get(this))}:function(...e){return ms(t.apply(lg(this),e))}}function zj(t){return typeof t=="function"?Bj(t):(t instanceof IDBTransaction&&Uj(t),Mj(t,Lj())?new Proxy(t,dy):t)}function ms(t){if(t instanceof IDBRequest)return Fj(t);if(ag.has(t))return ag.get(t);const e=zj(t);return e!==t&&(ag.set(t,e),A0.set(e,t)),e}const lg=t=>A0.get(t);function Hj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ms(o.result),l.oldVersion,l.newVersion,ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qj=["get","getKey","getAll","getAllKeys","count"],Wj=["put","add","delete","clear"],ug=new Map;function Ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ug.set(e,s),s}jj(t=>({...t,get:(e,n,r)=>Ob(e,n)||t.get(e,n,r),has:(e,n)=>!!Ob(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Gj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fy="@firebase/app",Db="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new C0("@firebase/app"),Qj="@firebase/app-compat",Yj="@firebase/analytics-compat",Xj="@firebase/analytics",Zj="@firebase/app-check-compat",Jj="@firebase/app-check",e6="@firebase/auth",t6="@firebase/auth-compat",n6="@firebase/database",r6="@firebase/database-compat",i6="@firebase/functions",s6="@firebase/functions-compat",o6="@firebase/installations",a6="@firebase/installations-compat",l6="@firebase/messaging",u6="@firebase/messaging-compat",c6="@firebase/performance",d6="@firebase/performance-compat",f6="@firebase/remote-config",h6="@firebase/remote-config-compat",p6="@firebase/storage",m6="@firebase/storage-compat",g6="@firebase/firestore",v6="@firebase/firestore-compat",y6="firebase",_6="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",w6={[fy]:"fire-core",[Qj]:"fire-core-compat",[Xj]:"fire-analytics",[Yj]:"fire-analytics-compat",[Jj]:"fire-app-check",[Zj]:"fire-app-check-compat",[e6]:"fire-auth",[t6]:"fire-auth-compat",[n6]:"fire-rtdb",[r6]:"fire-rtdb-compat",[i6]:"fire-fn",[s6]:"fire-fn-compat",[o6]:"fire-iid",[a6]:"fire-iid-compat",[l6]:"fire-fcm",[u6]:"fire-fcm-compat",[c6]:"fire-perf",[d6]:"fire-perf-compat",[f6]:"fire-rc",[h6]:"fire-rc-compat",[p6]:"fire-gcs",[m6]:"fire-gcs-compat",[g6]:"fire-fst",[v6]:"fire-fst-compat","fire-js":"fire-js",[y6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,py=new Map;function E6(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(py.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;py.set(e,t);for(const n of _h.values())E6(n,t);return!0}function xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gs=new Cc("app","Firebase",b6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=_6;function VA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gs.create("bad-app-name",{appName:String(i)});if(n||(n=OA()),!n)throw gs.create("no-options");const s=_h.get(i);if(s){if(yh(n,s.options)&&yh(r,s.config))return s;throw gs.create("duplicate-app",{appName:i})}const o=new kj(i);for(const l of py.values())o.addComponent(l);const a=new T6(n,r,o);return _h.set(i,a),a}function P0(t=hy){const e=_h.get(t);if(!e&&t===hy&&OA())return VA();if(!e)throw gs.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=w6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(a.join(" "));return}vo(new xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="firebase-heartbeat-database",x6=1,Qu="firebase-heartbeat-store";let cg=null;function FA(){return cg||(cg=Hj(S6,x6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qu)}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),cg}async function R6(t){try{return await(await FA()).transaction(Qu).objectStore(Qu).get(UA(t))}catch(e){if(e instanceof ei)go.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(n.message)}}}async function $b(t,e){try{const r=(await FA()).transaction(Qu,"readwrite");await r.objectStore(Qu).put(e,UA(t)),await r.done}catch(n){if(n instanceof ei)go.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});go.warn(r.message)}}}function UA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=1024,C6=30*24*60*60*1e3;class A6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=C6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mb(),{heartbeatsToSend:n,unsentEntries:r}=P6(this._heartbeatsCache.heartbeats),i=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Mb(){return new Date().toISOString().substring(0,10)}function P6(t,e=I6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _j()?wj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await R6(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $b(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $b(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Lb(t){return vh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){vo(new xs("platform-logger",e=>new Kj(e),"PRIVATE")),vo(new xs("heartbeat",e=>new A6(e),"PRIVATE")),qr(fy,Db,t),qr(fy,Db,"esm2017"),qr("fire-js","")}N6("");function Vb(t){return t!==void 0&&t.enterprise!==void 0}class O6{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D6=jA,BA=new Cc("auth","Firebase",jA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new C0("@firebase/auth");function $6(t,...e){wh.logLevel<=Le.WARN&&wh.warn(`Auth (${Po}): ${t}`,...e)}function uf(t,...e){wh.logLevel<=Le.ERROR&&wh.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw k0(t,...e)}function Wr(t,...e){return k0(t,...e)}function M6(t,e,n){const r=Object.assign(Object.assign({},D6()),{[e]:n});return new Cc("auth","Firebase",r).create(e,{appName:t.name})}function k0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BA.create(t,...e)}function ge(t,e,...n){if(!t)throw k0(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function Pi(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L6(){return Fb()==="http:"||Fb()==="https:"}function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L6()||gj()||"connection"in navigator)?navigator.onLine:!0}function F6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=pj()||vj()}get(){return V6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new Pc(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,i={}){return HA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ac(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zA.fetch()(qA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function HA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},U6),e);try{const i=new B6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pd(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw M6(t,f,c);yr(t,f)}}catch(i){if(i instanceof ei)throw i;yr(t,"network-request-failed",{message:String(i)})}}async function kc(t,e,n,r,i={}){const s=await Ns(t,e,n,r,i);return"mfaPendingCredential"in s&&yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function qA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?N0(t.config,i):`${t.config.apiScheme}://${i}`}class B6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),j6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(t,e,r);return i.customData._tokenResponse=n,i}async function z6(t,e){return Ns(t,"GET","/v2/recaptchaConfig",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function q6(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W6(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=O0(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mu(dg(i.auth_time)),issuedAtTime:mu(dg(i.iat)),expirationTime:mu(dg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dg(t){return Number(t)*1e3}function O0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const i=PA(n);return i?JSON.parse(i):(uf("Failed to decode base64 JWT payload"),null)}catch(i){return uf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K6(t){const e=O0(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&G6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qa(t,q6(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z6(s.providerUserInfo):[],a=X6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new WA(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,u)}async function Y6(t){const e=at(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z6(t){return t.map(e=>{var{providerId:n}=e,r=xc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e){const n=await HA(t,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await J6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Yu;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yu,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W6(this,e)}reload(){return Y6(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qa(this,H6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:E,isAnonymous:S,providerData:I,stsTokenManager:x}=n;ge(w&&x,e,"internal-error");const T=Yu.fromJSON(this.name,x);ge(typeof w=="string",e,"internal-error"),zi(u,e.name),zi(d,e.name),ge(typeof E=="boolean",e,"internal-error"),ge(typeof S=="boolean",e,"internal-error"),zi(h,e.name),zi(m,e.name),zi(v,e.name),zi(_,e.name),zi(g,e.name),zi(y,e.name);const R=new ro({uid:w,auth:e,email:d,emailVerified:E,displayName:u,isAnonymous:S,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:T,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(R.providerData=I.map(P=>Object.assign({},P))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Yu;i.updateFromServerResponse(n);const s=new ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Eh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;function fi(t){Pi(t instanceof Function,"Expected a class definition");let e=Ub.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ub.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KA.type="NONE";const jb=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cf(this.userKey,i.apiKey,s),this.fullPersistenceKey=cf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sa(fi(jb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fi(jb);const o=cf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const u=ro._fromJSON(e,f);c!==s&&(a=u),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Sa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZA(e))return"Blackberry";if(JA(e))return"Webos";if(D0(e))return"Safari";if((e.includes("chrome/")||QA(e))&&!e.includes("edge/"))return"Chrome";if(XA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GA(t=mn()){return/firefox\//i.test(t)}function D0(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QA(t=mn()){return/crios\//i.test(t)}function YA(t=mn()){return/iemobile/i.test(t)}function XA(t=mn()){return/android/i.test(t)}function ZA(t=mn()){return/blackberry/i.test(t)}function JA(t=mn()){return/webos/i.test(t)}function Rp(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e9(t=mn()){var e;return Rp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t9(){return yj()&&document.documentMode===10}function eP(t=mn()){return Rp(t)||XA(t)||JA(t)||ZA(t)||/windows phone/i.test(t)||YA(t)}function n9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e=[]){let n;switch(t){case"Browser":n=Bb(mn());break;case"Worker":n=`${Bb(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",ko(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=6;class o9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zb(this),this.idTokenSubscription=new zb(this),this.beforeStateQueue=new r9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?at(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i9(this),n=new o9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function No(t){return at(t)}class zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=xj(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",l9().appendChild(r)})}function u9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const c9="https://www.google.com/recaptcha/enterprise.js?render=",d9="recaptcha-enterprise",f9="NO_RECAPTCHA";class h9{constructor(e){this.type=d9,this.auth=No(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{z6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new O6(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Vb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(f9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Vb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}nP(c9+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function bh(t,e,n,r=!1){const i=new h9(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t,e){const n=xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yh(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function m9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g9(t,e,n){const r=No(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=rP(e),{host:o,port:a}=v9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y9()}function rP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v9(t){const e=rP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Hb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Hb(o)}}}function Hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function _9(t,e){return Ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}async function E9(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends $0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await bh(e,r,"signInWithPassword");return fg(e,i)}else return fg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await bh(e,r,"signInWithPassword");return fg(e,s)}else return Promise.reject(i)});case"emailLink":return w9(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return _9(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return E9(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="http://localhost";class yo extends $0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=xc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new yo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:b9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S9(t){const e=Xl(Zl(t)).link,n=e?Xl(Zl(e)).deep_link_id:null,r=Xl(Zl(t)).deep_link_id;return(r?Xl(Zl(r)).link:null)||r||n||e||t}class M0{constructor(e){var n,r,i,s,o,a;const l=Xl(Zl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,u=T9((i=l.mode)!==null&&i!==void 0?i:null);ge(c&&f&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=S9(e);try{return new M0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=M0.parseLink(n);return ge(r,"argument-error"),Xu._fromEmailAndCode(e,r.code,r.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends iP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Nc{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Nc{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Nc{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t,e){return kc(t,"POST","/v1/accounts:signUp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ro._fromIdTokenResponse(e,r,i),o=qb(r);return new _o({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qb(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Th(e,n,r,i)}}function sP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(t,s,e,r):s})}async function x9(t,e,n=!1){const r=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await qa(t,sP(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=O0(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e,n=!1){const r="signIn",i=await sP(t,r,e),s=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function I9(t,e){return oP(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C9(t,e,n){var r;const i=No(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await bh(i,s,"signUpPassword");o=hg(i,c)}else o=hg(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const f=await bh(i,s,"signUpPassword");return hg(i,f)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&aP(t),c}),l=await _o._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function A9(t,e,n){return I9(at(t),fl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,e){return Ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=at(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await qa(r,P9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t,e){return at(t).setPersistence(e)}function N9(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function O9(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function D9(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function $9(t){return at(t).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){const t=mn();return D0(t)||Rp(t)}const L9=1e3,V9=10;class cP extends uP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=M9()&&n9(),this.fallbackToPolling=eP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);t9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,V9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cP.type="LOCAL";const L0=cP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP extends uP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dP.type="SESSION";const fP=dP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ip(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await F9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=V0("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(u){const d=u;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function j9(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function B9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H9(){return hP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="firebaseLocalStorageDb",q9=1,xh="firebaseLocalStorage",mP="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cp(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function W9(){const t=indexedDB.deleteDatabase(pP);return new Oc(t).toPromise()}function gy(){const t=indexedDB.open(pP,q9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xh,{keyPath:mP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await W9(),e(await gy()))})})}async function Wb(t,e,n){const r=Cp(t,!0).put({[mP]:e,value:n});return new Oc(r).toPromise()}async function K9(t,e){const n=Cp(t,!1).get(e),r=await new Oc(n).toPromise();return r===void 0?null:r.value}function Kb(t,e){const n=Cp(t,!0).delete(e);return new Oc(n).toPromise()}const G9=800,Q9=3;class gP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ip._getInstance(H9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B9(),!this.activeServiceWorker)return;this.sender=new U9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await Wb(e,Sh,"1"),await Kb(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Cp(i,!1).getAll();return new Oc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gP.type="LOCAL";const Y9=gP;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e){return e?fi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends $0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z9(t){return oP(t.auth,new F0(t),t.bypassAuthState)}function J9(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),R9(n,new F0(t),t.bypassAuthState)}async function eB(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),x9(n,new F0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z9;case"linkViaPopup":case"linkViaRedirect":return eB;case"reauthViaPopup":case"reauthViaRedirect":return J9;default:yr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=new Pc(2e3,1e4);class ha extends vP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=V0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tB.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="pendingRedirect",df=new Map;class rB extends vP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const r=await iB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iB(t,e){const n=aB(e),r=oB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sB(t,e){df.set(t._key(),e)}function oB(t){return fi(t._redirectPersistence)}function aB(t){return cf(nB,t.config.apiKey,t.name)}async function lB(t,e,n=!1){const r=No(t),i=X9(r,e),o=await new rB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=10*60*1e3;class cB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uB&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gb(e))}saveEventToCache(e){this.cachedEventUids.add(Gb(e)),this.lastProcessedEventTime=Date.now()}}function Gb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pB=/^https?/;async function mB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fB(t);for(const n of e)try{if(gB(n))return}catch{}yr(t,"unauthorized-domain")}function gB(t){const e=my(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pB.test(n))return!1;if(hB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Pc(3e4,6e4);function Qb(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yB(t){return new Promise((e,n)=>{var r,i,s;function o(){Qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qb(),n(Wr(t,"network-request-failed"))},timeout:vB.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kr().gapi)===null||s===void 0)&&s.load)o();else{const a=u9("iframefcb");return Kr()[a]=()=>{gapi.load?o():n(Wr(t,"network-request-failed"))},nP(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ff=null,e})}let ff=null;function _B(t){return ff=ff||yB(t),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new Pc(5e3,15e3),EB="__/auth/iframe",bB="emulator/auth/iframe",TB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xB(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N0(e,bB):`https://${t.config.authDomain}/${EB}`,r={apiKey:e.apiKey,appName:t.name,v:Po},i=SB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ac(r).slice(1)}`}async function RB(t){const e=await _B(t),n=Kr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:xB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wr(t,"network-request-failed"),a=Kr().setTimeout(()=>{s(o)},wB.get());function l(){Kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CB=500,AB=600,PB="_blank",kB="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NB(t,e,n,r=CB,i=AB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=mn().toLowerCase();n&&(a=QA(c)?PB:n),GA(c)&&(e=e||kB,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[h,m])=>`${d}${h}=${m},`,"");if(e9(c)&&a!=="_self")return OB(e||"",a),new Yb(null);const u=window.open(e||"",a,f);ge(u,t,"popup-blocked");try{u.focus()}catch{}return new Yb(u)}function OB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="__/auth/handler",$B="emulator/auth/handler",MB=encodeURIComponent("fac");async function Xb(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(e instanceof iP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Sj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,u]of Object.entries(s||{}))o[f]=u}if(e instanceof Nc){const f=e.getScopes().filter(u=>u!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${MB}=${encodeURIComponent(l)}`:"";return`${LB(t)}?${Ac(a).slice(1)}${c}`}function LB({config:t}){return t.emulator?N0(t,$B):`https://${t.authDomain}/${DB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="webStorageSupport";class VB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fP,this._completeRedirectFn=lB,this._overrideRedirectResult=sB}async _openPopup(e,n,r,i){var s;Pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Xb(e,n,r,my(),i);return NB(e,o,V0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Xb(e,n,r,my(),i);return j9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RB(e),r=new cB(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pg,{type:pg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pg];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eP()||D0()||Rp()}}const FB=VB;var Zb="@firebase/auth",Jb="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BB(t){vo(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tP(t)},c=new a9(r,i,s,l);return m9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vo(new xs("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new UB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(Zb,Jb,jB(t)),qr(Zb,Jb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=5*60,HB=DA("authIdTokenMaxAge")||zB;let eT=null;const qB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HB)return;const i=n==null?void 0:n.token;eT!==i&&(eT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WB(t=P0()){const e=xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p9(t,{popupRedirectResolver:FB,persistence:[Y9,L0,fP]}),r=DA("authTokenSyncURL");if(r){const s=qB(r);O9(n,s,()=>s(n.currentUser)),N9(n,o=>s(o))}const i=kA("auth");return i&&g9(n,`http://${i}`),n}BB("Browser");var KB="firebase",GB="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(KB,GB,"app");var QB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,U0=U0||{},we=QB||self;function Ap(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Dc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function YB(t){return Object.prototype.hasOwnProperty.call(t,mg)&&t[mg]||(t[mg]=++XB)}var mg="closure_uid_"+(1e9*Math.random()>>>0),XB=0;function ZB(t,e,n){return t.call.apply(t.bind,arguments)}function JB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=ZB:dn=JB,dn.apply(null,arguments)}function kd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Os(){this.s=this.s,this.o=this.o}var e7=0;Os.prototype.s=!1;Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),e7!=0)&&YB(this)};Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _P=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ap(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var t7=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{we.addEventListener("test",()=>{},e),we.removeEventListener("test",()=>{},e)}catch{}return t}();function Zu(t){return/^[\s\xa0]*$/.test(t)}function Pp(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return Pp().indexOf(t)!=-1}function B0(t){return B0[" "](t),t}B0[" "]=function(){};function n7(t,e){var n=G7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var r7=Dr("Opera"),Wa=Dr("Trident")||Dr("MSIE"),wP=Dr("Edge"),vy=wP||Wa,EP=Dr("Gecko")&&!(Pp().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),i7=Pp().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function bP(){var t=we.document;return t?t.documentMode:void 0}var yy;e:{var gg="",vg=function(){var t=Pp();if(EP)return/rv:([^\);]+)(\)|;)/.exec(t);if(wP)return/Edge\/([\d\.]+)/.exec(t);if(Wa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(i7)return/WebKit\/(\S+)/.exec(t);if(r7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vg&&(gg=vg?vg[1]:""),Wa){var yg=bP();if(yg!=null&&yg>parseFloat(gg)){yy=String(yg);break e}}yy=gg}var _y;if(we.document&&Wa){var nT=bP();_y=nT||parseInt(yy,10)||void 0}else _y=void 0;var s7=_y;function Ju(t,e){if(fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EP){e:{try{B0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:o7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ju.$.h.call(this)}}qt(Ju,fn);var o7={2:"touch",3:"pen",4:"mouse"};Ju.prototype.h=function(){Ju.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $c="closure_listenable_"+(1e6*Math.random()|0),a7=0;function l7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++a7,this.fa=this.ia=!1}function kp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function z0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function u7(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function TP(t){const e={};for(const n in t)e[n]=t[n];return e}const rT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<rT.length;s++)n=rT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Np(t){this.src=t,this.g={},this.h=0}Np.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ey(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new l7(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function wy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_P(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ey(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var H0="closure_lm_"+(1e6*Math.random()|0),_g={};function xP(t,e,n,r,i){if(r&&r.once)return IP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xP(t,e[s],n,r,i);return null}return n=K0(n),t&&t[$c]?t.O(e,n,Dc(r)?!!r.capture:!!r,i):RP(t,e,n,!1,r,i)}function RP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Dc(i)?!!i.capture:!!i,a=W0(t);if(a||(t[H0]=a=new Np(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=c7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)t7||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function c7(){function t(n){return e.call(t.src,t.listener,n)}const e=d7;return t}function IP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)IP(t,e[s],n,r,i);return null}return n=K0(n),t&&t[$c]?t.P(e,n,Dc(r)?!!r.capture:!!r,i):RP(t,e,n,!0,r,i)}function CP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CP(t,e[s],n,r,i);else r=Dc(r)?!!r.capture:!!r,n=K0(n),t&&t[$c]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ey(s,n,r,i),-1<n&&(kp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=W0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ey(e,n,r,i)),(n=-1<t?e[t]:null)&&q0(n))}function q0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$c])wy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=W0(e))?(wy(n,t),n.h==0&&(n.src=null,e[H0]=null)):kp(t)}}}function AP(t){return t in _g?_g[t]:_g[t]="on"+t}function d7(t,e){if(t.fa)t=!0;else{e=new Ju(e,this);var n=t.listener,r=t.la||t.src;t.ia&&q0(t),t=n.call(r,e)}return t}function W0(t){return t=t[H0],t instanceof Np?t:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function K0(t){return typeof t=="function"?t:(t[wg]||(t[wg]=function(e){return t.handleEvent(e)}),t[wg])}function Ht(){Os.call(this),this.i=new Np(this),this.S=this,this.J=null}qt(Ht,Os);Ht.prototype[$c]=!0;Ht.prototype.removeEventListener=function(t,e,n,r){CP(this,t,e,n,r)};function Zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new fn(e,t);else if(e instanceof fn)e.target=e.target||t;else{var i=e;e=new fn(r,t),SP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Nd(o,r,!0,e)&&i}if(o=e.g=t,i=Nd(o,r,!0,e)&&i,i=Nd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Nd(o,r,!1,e)&&i}Ht.prototype.N=function(){if(Ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kp(n[r]);delete t.g[e],t.h--}}this.J=null};Ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&wy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var G0=we.JSON.stringify;class f7{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function h7(){var t=Q0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class p7{constructor(){this.h=this.g=null}add(e,n){const r=PP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PP=new f7(()=>new m7,t=>t.reset());class m7{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function g7(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function v7(t){we.setTimeout(()=>{throw t},0)}let ec,tc=!1,Q0=new p7,kP=()=>{const t=we.Promise.resolve(void 0);ec=()=>{t.then(y7)}};var y7=()=>{for(var t;t=h7();){try{t.h.call(t.g)}catch(n){v7(n)}var e=PP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tc=!1};function Op(t,e){Ht.call(this),this.h=t||1,this.g=e||we,this.j=dn(this.qb,this),this.l=Date.now()}qt(Op,Ht);X=Op.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(Y0(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Y0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){Op.$.N.call(this),Y0(this),delete this.g};function X0(t,e,n){if(typeof t=="function")n&&(t=dn(t,n));else if(t&&typeof t.handleEvent=="function")t=dn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function NP(t){t.g=X0(()=>{t.g=null,t.i&&(t.i=!1,NP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class _7 extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NP(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nc(t){Os.call(this),this.h=t,this.g={}}qt(nc,Os);var iT=[];function OP(t,e,n,r){Array.isArray(n)||(n&&(iT[0]=n.toString()),n=iT);for(var i=0;i<n.length;i++){var s=xP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function DP(t){z0(t.g,function(e,n){this.g.hasOwnProperty(n)&&q0(e)},t),t.g={}}nc.prototype.N=function(){nc.$.N.call(this),DP(this)};nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dp(){this.g=!0}Dp.prototype.Ea=function(){this.g=!1};function w7(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var f=c[0];c=c[1];var u=f.split("_");o=2<=u.length&&u[1]=="type"?o+(f+"="+c+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function E7(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+T7(t,n)+(r?" "+r:"")})}function b7(t,e){t.info(function(){return"TIMEOUT: "+e})}Dp.prototype.info=function(){};function T7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return G0(n)}catch{return e}}var Oo={},sT=null;function $p(){return sT=sT||new Ht}Oo.Ta="serverreachability";function $P(t){fn.call(this,Oo.Ta,t)}qt($P,fn);function rc(t){const e=$p();Zt(e,new $P(e))}Oo.STAT_EVENT="statevent";function MP(t,e){fn.call(this,Oo.STAT_EVENT,t),this.stat=e}qt(MP,fn);function En(t){const e=$p();Zt(e,new MP(e,t))}Oo.Ua="timingevent";function LP(t,e){fn.call(this,Oo.Ua,t),this.size=e}qt(LP,fn);function Mc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var Mp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Z0(){}Z0.prototype.h=null;function oT(t){return t.h||(t.h=t.i())}function FP(){}var Lc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function J0(){fn.call(this,"d")}qt(J0,fn);function ew(){fn.call(this,"c")}qt(ew,fn);var by;function Lp(){}qt(Lp,Z0);Lp.prototype.g=function(){return new XMLHttpRequest};Lp.prototype.i=function(){return{}};by=new Lp;function Vc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new nc(this),this.P=S7,t=vy?125:void 0,this.V=new Op(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UP}function UP(){this.i=null,this.g="",this.h=!1}var S7=45e3,Ty={},Rh={};X=Vc.prototype;X.setTimeout=function(t){this.P=t};function Sy(t,e,n){t.L=1,t.v=Fp(ki(e)),t.s=n,t.S=!0,jP(t,null)}function jP(t,e){t.G=Date.now(),Fc(t),t.A=ki(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),QP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new UP,t.g=gk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new _7(dn(t.Pa,t,t.g),t.O)),OP(t.U,t.g,"readystatechange",t.nb),e=t.I?TP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),rc(),w7(t.j,t.u,t.A,t.m,t.W,t.s)}X.nb=function(t){t=t.target;const e=this.M;e&&Lr(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const f=Lr(this.g);var e=this.g.Ia();const u=this.g.da();if(!(3>f)&&(f!=3||vy||this.g&&(this.h.h||this.g.ja()||cT(this.g)))){this.J||f!=4||e==7||(e==8||0>=u?rc(3):rc(2)),Vp(this);var n=this.g.da();this.ca=n;t:if(BP(this)){var r=cT(this.g);t="";var i=r.length,s=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),gu(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,E7(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zu(a)){var c=a;break t}}c=null}if(n=c)pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xy(this,n);else{this.i=!1,this.o=3,En(12),Xs(this),gu(this);break e}}this.S?(zP(this,f,o),vy&&this.i&&f==3&&(OP(this.U,this.V,"tick",this.mb),this.V.start())):(pa(this.j,this.m,o,null),xy(this,o)),f==4&&Xs(this),this.i&&!this.J&&(f==4?fk(this.l,this):(this.i=!1,Fc(this)))}else q7(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),Xs(this),gu(this)}}}catch{}finally{}};function BP(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zP(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=x7(t,n),i==Rh){e==4&&(t.o=4,En(14),r=!1),pa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ty){t.o=4,En(15),pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else pa(t.j,t.m,i,null),xy(t,i);BP(t)&&i!=Rh&&i!=Ty&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,En(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ow(e),e.M=!0,En(11))):(pa(t.j,t.m,n,"[Invalid Chunked Response]"),Xs(t),gu(t))}X.mb=function(){if(this.g){var t=Lr(this.g),e=this.g.ja();this.C<e.length&&(Vp(this),zP(this,t,e),this.i&&t!=4&&Fc(this))}};function x7(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Rh:(n=Number(e.substring(n,r)),isNaN(n)?Ty:(r+=1,r+n>e.length?Rh:(e=e.slice(r,r+n),t.C=r+n,e)))}X.cancel=function(){this.J=!0,Xs(this)};function Fc(t){t.Y=Date.now()+t.P,HP(t,t.P)}function HP(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Mc(dn(t.lb,t),e)}function Vp(t){t.B&&(we.clearTimeout(t.B),t.B=null)}X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(b7(this.j,this.A),this.L!=2&&(rc(),En(17)),Xs(this),this.o=2,gu(this)):HP(this,this.Y-t)};function gu(t){t.l.H==0||t.J||fk(t.l,t)}function Xs(t){Vp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Y0(t.V),DP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ry(n.i,t))){if(!t.K&&Ry(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ah(n),zp(n);else break e;sw(n),En(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Mc(dn(n.ib,n),6e3));if(1>=ZP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zs(n,11)}else if((t.K||n.g==t)&&Ah(n),!Zu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const f=c[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const u=c[4];u!=null&&(n.Ga=u,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const m=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(tw(s,s.h),s.h=null))}if(r.F){const v=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,rt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=mk(r,r.J?r.pa:null,r.Y),o.K){JP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Vp(a),Fc(a)),r.g=o}else ck(r);0<n.j.length&&Hp(n)}else c[0]!="stop"&&c[0]!="close"||Zs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Zs(n,7):iw(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}rc(4)}catch{}}function R7(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ap(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function I7(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ap(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function qP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ap(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=I7(t),r=R7(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var WP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function io(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof io){this.h=t.h,Ih(this,t.j),this.s=t.s,this.g=t.g,Ch(this,t.m),this.l=t.l;var e=t.i,n=new ic;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aT(this,n),this.o=t.o}else t&&(e=String(t).match(WP))?(this.h=!1,Ih(this,e[1]||"",!0),this.s=Jl(e[2]||""),this.g=Jl(e[3]||"",!0),Ch(this,e[4]),this.l=Jl(e[5]||"",!0),aT(this,e[6]||"",!0),this.o=Jl(e[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(eu(e,lT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(eu(e,lT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(eu(n,n.charAt(0)=="/"?k7:P7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",eu(n,O7)),t.join("")};function ki(t){return new io(t)}function Ih(t,e,n){t.j=n?Jl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aT(t,e,n){e instanceof ic?(t.i=e,D7(t.i,t.h)):(n||(e=eu(e,N7)),t.i=new ic(e,t.h))}function rt(t,e,n){t.i.set(e,n)}function Fp(t){return rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,A7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function A7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lT=/[#\/\?@]/g,P7=/[#\?:]/g,k7=/[#\?]/g,N7=/[#\?@]/g,O7=/#/g;function ic(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ds(t){t.g||(t.g=new Map,t.h=0,t.i&&C7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=ic.prototype;X.add=function(t,e){Ds(this),this.i=null,t=hl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function KP(t,e){Ds(t),e=hl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GP(t,e){return Ds(t),e=hl(t,e),t.g.has(e)}X.forEach=function(t,e){Ds(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.ta=function(){Ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};X.Z=function(t){Ds(this);let e=[];if(typeof t=="string")GP(this,t)&&(e=e.concat(this.g.get(hl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Ds(this),this.i=null,t=hl(this,t),GP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function QP(t,e,n){KP(t,e),0<n.length&&(t.i=null,t.g.set(hl(t,e),j0(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function hl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function D7(t,e){e&&!t.j&&(Ds(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(KP(this,r),QP(this,i,n))},t)),t.j=e}var $7=class{constructor(t,e){this.g=t,this.map=e}};function YP(t){this.l=t||M7,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var M7=10;function XP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ZP(t){return t.h?1:t.g?t.g.size:0}function Ry(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tw(t,e){t.g?t.g.add(e):t.h=e}function JP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YP.prototype.cancel=function(){if(this.i=ek(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ek(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return j0(t.i)}var L7=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function V7(){this.g=new L7}function F7(t,e,n){const r=n||"";try{qP(t,function(i,s){let o=i;Dc(i)&&(o=G0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function U7(t,e){const n=new Dp;if(we.Image){const r=new Image;r.onload=kd(Od,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kd(Od,n,r,"TestLoadImage: error",!1,e),r.onabort=kd(Od,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kd(Od,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Od(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Up(t){this.l=t.ec||null,this.j=t.ob||!1}qt(Up,Z0);Up.prototype.g=function(){return new jp(this.l,this.j)};Up.prototype.i=function(t){return function(){return t}}({});function jp(t,e){Ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(jp,Ht);var nw=0;X=jp.prototype;X.open=function(t,e){if(this.readyState!=nw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sc(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uc(this)),this.readyState=nw};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Uc(this):sc(this),this.readyState==3&&tk(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,Uc(this))};X.Ya=function(t){this.g&&(this.response=t,Uc(this))};X.ka=function(){this.g&&Uc(this)};function Uc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sc(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var j7=we.JSON.parse;function Tt(t){Ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nk,this.L=this.M=!1}qt(Tt,Ht);var nk="",B7=/^https?$/i,z7=["POST","PUT"];X=Tt.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():by.g(),this.C=this.u?oT(this.u):oT(by),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){uT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=_P(z7,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sk(this),0<this.B&&((this.L=H7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=X0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){uT(this,s)}};function H7(t){return Wa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof U0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))};function uT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rk(t),Bp(t)}function rk(t){t.F||(t.F=!0,Zt(t,"complete"),Zt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Zt(this,"complete"),Zt(this,"abort"),Bp(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bp(this,!0)),Tt.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?ik(this):this.kb())};X.kb=function(){ik(this)};function ik(t){if(t.h&&typeof U0<"u"&&(!t.C[1]||Lr(t)!=4||t.da()!=2)){if(t.v&&Lr(t)==4)X0(t.La,0,t);else if(Zt(t,"readystatechange"),Lr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(WP)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!B7.test(i?i.toLowerCase():"")}n=r}if(n)Zt(t,"complete"),Zt(t,"success");else{t.m=6;try{var s=2<Lr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",rk(t)}}finally{Bp(t)}}}}function Bp(t,e){if(t.g){sk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function sk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function Lr(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),j7(e)}};function cT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function q7(t){const e={};t=(t.g&&2<=Lr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Zu(t[r]))continue;var n=g7(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}u7(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ok(t){let e="";return z0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ok(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):rt(t,e,n))}function Bl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ak(t){this.Ga=0,this.j=[],this.l=new Dp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bl("baseRetryDelayMs",5e3,t),this.hb=Bl("retryDelaySeedMs",1e4,t),this.eb=Bl("forwardChannelMaxRetries",2,t),this.xa=Bl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YP(t&&t.concurrentRequestLimit),this.Ja=new V7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=ak.prototype;X.ra=8;X.H=1;function iw(t){if(lk(t),t.H==3){var e=t.W++,n=ki(t.I);if(rt(n,"SID",t.K),rt(n,"RID",e),rt(n,"TYPE","terminate"),jc(t,n),e=new Vc(t,t.l,e),e.L=2,e.v=Fp(ki(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.v,n=!0),n||(e.g=gk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fc(e)}pk(t)}function zp(t){t.g&&(ow(t),t.g.cancel(),t.g=null)}function lk(t){zp(t),t.u&&(we.clearTimeout(t.u),t.u=null),Ah(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function Hp(t){if(!XP(t.i)&&!t.m){t.m=!0;var e=t.Na;ec||kP(),tc||(ec(),tc=!0),Q0.add(e,t),t.C=0}}function W7(t,e){return ZP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Mc(dn(t.Na,t,e),hk(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Vc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=TP(s),SP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uk(this,i,e),n=ki(this.I),rt(n,"RID",t),rt(n,"CVER",22),this.F&&rt(n,"X-HTTP-Session-Id",this.F),jc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ok(s)))+"&"+e:this.o&&rw(n,this.o,s)),tw(this.i,i),this.bb&&rt(n,"TYPE","init"),this.P?(rt(n,"$req",e),rt(n,"SID","null"),i.aa=!0,Sy(i,n,null)):Sy(i,n,e),this.H=2}}else this.H==3&&(t?dT(this,t):this.j.length==0||XP(this.i)||dT(this))};function dT(t,e){var n;e?n=e.m:n=t.W++;const r=ki(t.I);rt(r,"SID",t.K),rt(r,"RID",n),rt(r,"AID",t.V),jc(t,r),t.o&&t.s&&rw(r,t.o,t.s),n=new Vc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tw(t.i,n),Sy(n,r,e)}function jc(t,e){t.na&&z0(t.na,function(n,r){rt(e,r,n)}),t.h&&qP({},function(n,r){rt(e,r,n)})}function uk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const f=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{F7(f,o,"req"+c+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ck(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ec||kP(),tc||(ec(),tc=!0),Q0.add(e,t),t.A=0}}function sw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Mc(dn(t.Ma,t),hk(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,dk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Mc(dn(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,En(10),zp(this),dk(this))};function ow(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function dk(t){t.g=new Vc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ki(t.wa);rt(e,"RID","rpc"),rt(e,"SID",t.K),rt(e,"AID",t.V),rt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&rt(e,"TO",t.qa),rt(e,"TYPE","xmlhttp"),jc(t,e),t.o&&t.s&&rw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Fp(ki(e)),n.s=null,n.S=!0,jP(n,t)}X.ib=function(){this.v!=null&&(this.v=null,zp(this),sw(this),En(19))};function Ah(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function fk(t,e){var n=null;if(t.g==e){Ah(t),ow(t),t.g=null;var r=2}else if(Ry(t.i,e))n=e.F,JP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=$p(),Zt(r,new LP(r,n)),Hp(t)}else ck(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&W7(t,e)||r==2&&sw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zs(t,5);break;case 4:Zs(t,10);break;case 3:Zs(t,6);break;default:Zs(t,2)}}}function hk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dn(t.pb,t);n||(n=new io("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||Ih(n,"https"),Fp(n)),U7(n.toString(),r)}else En(2);t.H=0,t.h&&t.h.za(e),pk(t),lk(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),En(2)):(this.l.info("Failed to ping google.com"),En(1))};function pk(t){if(t.H=0,t.ma=[],t.h){const e=ek(t.i);(e.length!=0||t.j.length!=0)&&(tT(t.ma,e),tT(t.ma,t.j),t.i.i.length=0,j0(t.j),t.j.length=0),t.h.ya()}}function mk(t,e,n){var r=n instanceof io?ki(n):new io(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ch(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new io(null);r&&Ih(s,r),e&&(s.g=e),i&&Ch(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&rt(r,n,e),rt(r,"VER",t.ra),jc(t,r),r}function gk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Tt(new Up({ob:!0})):new Tt(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function vk(){}X=vk.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function Ph(){if(Wa&&!(10<=Number(s7)))throw Error("Environmental error: no available transport.")}Ph.prototype.g=function(t,e){return new Hn(t,e)};function Hn(t,e){Ht.call(this),this.g=new ak(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new pl(this)}qt(Hn,Ht);Hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;En(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mk(t,null,t.Y),Hp(t)};Hn.prototype.close=function(){iw(this.g)};Hn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=G0(t),t=n);e.j.push(new $7(e.fb++,t)),e.H==3&&Hp(e)};Hn.prototype.N=function(){this.g.h=null,delete this.j,iw(this.g),delete this.g,Hn.$.N.call(this)};function yk(t){J0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qt(yk,J0);function _k(){ew.call(this),this.status=1}qt(_k,ew);function pl(t){this.g=t}qt(pl,vk);pl.prototype.Ba=function(){Zt(this.g,"a")};pl.prototype.Aa=function(t){Zt(this.g,new yk(t))};pl.prototype.za=function(t){Zt(this.g,new _k)};pl.prototype.ya=function(){Zt(this.g,"b")};function K7(){this.blockSize=-1}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}qt(_r,K7);_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Eg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}_r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Eg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Eg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Eg(this,r),i=0;break}}this.h=i,this.i+=e};_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var G7={};function aw(t){return-128<=t&&128>t?n7(t,function(e){return new Ye([e|0],0>e?-1:0)}):new Ye([t|0],0>t?-1:0)}function Vr(t){if(isNaN(t)||!isFinite(t))return Ra;if(0>t)return Yt(Vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Iy;return new Ye(e,0)}function wk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Yt(wk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vr(Math.pow(e,8)),r=Ra,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Vr(Math.pow(e,s)),r=r.R(s).add(Vr(o))):(r=r.R(n),r=r.add(Vr(o)))}return r}var Iy=4294967296,Ra=aw(0),Cy=aw(1),fT=aw(16777216);X=Ye.prototype;X.ea=function(){if(Zn(this))return-Yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Iy+r)*e,e*=Iy}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(hi(this))return"0";if(Zn(this))return"-"+Yt(this).toString(t);for(var e=Vr(Math.pow(t,6)),n=this,r="";;){var i=Nh(n,e).g;n=kh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,hi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function hi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Zn(t){return t.h==-1}X.X=function(t){return t=kh(this,t),Zn(t)?-1:hi(t)?0:1};function Yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(Cy)}X.abs=function(){return Zn(this)?Yt(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ye(n,n[n.length-1]&-2147483648?-1:0)};function kh(t,e){return t.add(Yt(e))}X.R=function(t){if(hi(this)||hi(t))return Ra;if(Zn(this))return Zn(t)?Yt(this).R(Yt(t)):Yt(Yt(this).R(t));if(Zn(t))return Yt(this.R(Yt(t)));if(0>this.X(fT)&&0>t.X(fT))return Vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Dd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Dd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Dd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Dd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)};function Dd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function zl(t,e){this.g=t,this.h=e}function Nh(t,e){if(hi(e))throw Error("division by zero");if(hi(t))return new zl(Ra,Ra);if(Zn(t))return e=Nh(Yt(t),e),new zl(Yt(e.g),Yt(e.h));if(Zn(e))return e=Nh(t,Yt(e)),new zl(Yt(e.g),e.h);if(30<t.g.length){if(Zn(t)||Zn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cy,r=e;0>=r.X(t);)n=hT(n),r=hT(r);var i=Ho(n,1),s=Ho(r,1);for(r=Ho(r,2),n=Ho(n,2);!hi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ho(r,1),n=Ho(n,1)}return e=kh(t,i.R(e)),new zl(i,e)}for(i=Ra;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Vr(n),o=s.R(e);Zn(o)||0<o.X(t);)n-=r,s=Vr(n),o=s.R(e);hi(s)&&(s=Cy),i=i.add(s),t=kh(t,o)}return new zl(i,t)}X.gb=function(t){return Nh(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)};function hT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function Ho(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ye(i,t.h)}Ph.prototype.createWebChannel=Ph.prototype.g;Hn.prototype.send=Hn.prototype.u;Hn.prototype.open=Hn.prototype.m;Hn.prototype.close=Hn.prototype.close;Mp.NO_ERROR=0;Mp.TIMEOUT=8;Mp.HTTP_ERROR=6;VP.COMPLETE="complete";FP.EventType=Lc;Lc.OPEN="a";Lc.CLOSE="b";Lc.ERROR="c";Lc.MESSAGE="d";Ht.prototype.listen=Ht.prototype.O;Tt.prototype.listenOnce=Tt.prototype.P;Tt.prototype.getLastError=Tt.prototype.Sa;Tt.prototype.getLastErrorCode=Tt.prototype.Ia;Tt.prototype.getStatus=Tt.prototype.da;Tt.prototype.getResponseJson=Tt.prototype.Wa;Tt.prototype.getResponseText=Tt.prototype.ja;Tt.prototype.send=Tt.prototype.ha;Tt.prototype.setWithCredentials=Tt.prototype.Oa;_r.prototype.digest=_r.prototype.l;_r.prototype.reset=_r.prototype.reset;_r.prototype.update=_r.prototype.j;Ye.prototype.add=Ye.prototype.add;Ye.prototype.multiply=Ye.prototype.R;Ye.prototype.modulo=Ye.prototype.gb;Ye.prototype.compare=Ye.prototype.X;Ye.prototype.toNumber=Ye.prototype.ea;Ye.prototype.toString=Ye.prototype.toString;Ye.prototype.getBits=Ye.prototype.D;Ye.fromNumber=Vr;Ye.fromString=wk;var Q7=function(){return new Ph},Y7=function(){return $p()},bg=Mp,X7=VP,Z7=Oo,pT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$d=FP,J7=Tt,e8=_r,Ia=Ye;const mT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new C0("@firebase/firestore");function Hl(){return wo.logLevel}function oe(t,...e){if(wo.logLevel<=Le.DEBUG){const n=e.map(lw);wo.debug(`Firestore (${ml}): ${t}`,...n)}}function Ni(t,...e){if(wo.logLevel<=Le.ERROR){const n=e.map(lw);wo.error(`Firestore (${ml}): ${t}`,...n)}}function Ka(t,...e){if(wo.logLevel<=Le.WARN){const n=e.map(lw);wo.warn(`Firestore (${ml}): ${t}`,...n)}}function lw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: `+t;throw Ni(e),new Error(e)}function ot(t,e){t||ve()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class n8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r8{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new Ek(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new an(e)}}class i8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class s8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new o8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends oc{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const u8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends oc{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return u8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(it.fromString(e))}static fromName(e){return new ue(it.fromString(e).popFirst(5))}static empty(){return new ue(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new it(e.slice()))}}function c8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Rs(i,ue.empty(),e)}function d8(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(be.min(),ue.empty(),-1)}static max(){return new Rs(be.max(),ue.empty(),-1)}}function f8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==h8)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}uw.ae=-1;function qp(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function m8(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vT(this.data.getIterator())}getIteratorFrom(e){return new vT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class vT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new hn(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sk("Invalid base64 string: "+s):s}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const g8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(ot(!!t),typeof t=="string"){let e=0;const n=g8.exec(t);if(ot(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dw(t){const e=t.mapValue.fields.__previous_value__;return cw(e)?dw(e):e}function ac(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class lc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cw(t)?4:y8(t)?9007199254740991:10:ve()}function Zr(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Eo(i.bytesValue).isEqual(Eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Nt(i.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nt(i.integerValue)===Nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Nt(i.doubleValue),a=Nt(s.doubleValue);return o===a?Oh(o)===Oh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gT(o)!==gT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zr(o[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function uc(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function Qa(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Nt(s.integerValue||s.doubleValue),l=Nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yT(t.timestampValue,e.timestampValue);case 4:return yT(ac(t),ac(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Eo(s),l=Eo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=ze(a[c],l[c]);if(f!==0)return f}return ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(Nt(s.latitude),Nt(o.latitude));return a!==0?a:ze(Nt(s.longitude),Nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const f=Qa(a[c],l[c]);if(f)return f}return ze(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ld.mapValue&&o===Ld.mapValue)return 0;if(s===Ld.mapValue)return 1;if(o===Ld.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let u=0;u<l.length&&u<f.length;++u){const d=ze(l[u],f[u]);if(d!==0)return d;const h=Qa(a[l[u]],c[f[u]]);if(h!==0)return h}return ze(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ve()}}function yT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Is(t),r=Is(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function Ya(t){return Ay(t)}function Ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ay(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ay(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function _T(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Py(t){return!!t&&"integerValue"in t}function fw(t){return!!t&&"arrayValue"in t}function wT(t){return!!t&&"nullValue"in t}function ET(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hf(t){return!!t&&"mapValue"in t}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Do(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new An(vu(this.value))}}function xk(t){const e=[];return Do(t.fields,(n,r)=>{const i=new cn([n]);if(hf(r)){const s=xk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,be.min(),be.min(),be.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,be.min(),be.min(),An.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,be.min(),be.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function bT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Qa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class Dt extends Rk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E8(e,n,r):n==="array-contains"?new S8(e,r):n==="in"?new x8(e,r):n==="not-in"?new R8(e,r):n==="array-contains-any"?new I8(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b8(e,r):new T8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wr extends Rk{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new wr(e,n)}matches(e){return Ik(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ik(t){return t.op==="and"}function Ck(t){return w8(t)&&Ik(t)}function w8(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function ky(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(Ck(t))return t.filters.map(e=>ky(e)).join(",");{const e=t.filters.map(n=>ky(n)).join(",");return`${t.op}(${e})`}}function Ak(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ak(o,i.filters[a]),!0):!1}(t,e):void ve()}function Pk(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(Pk).join(" ,")+"}"}(t):"Filter"}class E8 extends Dt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class b8 extends Dt{constructor(e,n){super(e,"in",n),this.keys=kk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T8 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=kk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class S8 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fw(n)&&uc(n.arrayValue,this.value)}}class x8 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class R8 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}}class I8 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function ST(t,e=null,n=[],r=[],i=null,s=null,o=null){return new C8(t,e,n,r,i,s,o)}function hw(t){const e=Re(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ky(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.he=n}return e.he}function pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ak(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TT(t.startAt,e.startAt)&&TT(t.endAt,e.endAt)}function Ny(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function A8(t,e,n,r,i,s,o,a){return new Hc(t,e,n,r,i,s,o,a)}function mw(t){return new Hc(t)}function xT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gw(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Ok(t){return t.collectionGroup!==null}function _u(t){const e=Re(t);if(e.Pe===null){e.Pe=[];const n=gw(e),r=Nk(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new yu(n)),e.Pe.push(new yu(cn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new yu(cn.keyField(),s))}}}return e.Pe}function Gr(t){const e=Re(t);return e.Ie||(e.Ie=P8(e,_u(t))),e.Ie}function P8(t,e){if(t.limitType==="F")return ST(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yu(i.field,s)});const n=t.endAt?new Dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dh(t.startAt.position,t.startAt.inclusive):null;return ST(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e){e.getFirstInequalityField(),gw(t);const n=t.filters.concat([e]);return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dy(t,e,n){return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wp(t,e){return pw(Gr(t),Gr(e))&&t.limitType===e.limitType}function Dk(t){return`${hw(Gr(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Pk(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(Gr(t))}; limitType=${t.limitType})`}function Kp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=bT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,_u(r),i)||r.endAt&&!function(o,a,l){const c=bT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,_u(r),i))}(t,e)}function k8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $k(t){return(e,n)=>{let r=!1;for(const i of _u(t)){const s=N8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function N8(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Qa(l,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Tk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new _t(ue.comparator);function Oi(){return O8}const Mk=new _t(ue.comparator);function tu(...t){let e=Mk;for(const n of t)e=e.insert(n.key,n);return e}function Lk(t){let e=Mk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return wu()}function Vk(){return wu()}function wu(){return new gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const D8=new _t(ue.comparator),$8=new hn(ue.comparator);function $e(...t){let e=$8;for(const n of t)e=e.add(n);return e}const M8=new hn(ze);function L8(){return M8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function Uk(t){return{integerValue:""+t}}function V8(t,e){return m8(e)?Uk(e):Fk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this._=void 0}}function F8(t,e,n){return t instanceof $h?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cw(s)&&(s=dw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cc?Bk(t,e):t instanceof dc?zk(t,e):function(i,s){const o=jk(i,s),a=RT(o)+RT(i.Te);return Py(o)&&Py(i.Te)?Uk(a):Fk(i.serializer,a)}(t,e)}function U8(t,e,n){return t instanceof cc?Bk(t,e):t instanceof dc?zk(t,e):n}function jk(t,e){return t instanceof Mh?function(r){return Py(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $h extends Gp{}class cc extends Gp{constructor(e){super(),this.elements=e}}function Bk(t,e){const n=Hk(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class dc extends Gp{constructor(e){super(),this.elements=e}}function zk(t,e){let n=Hk(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class Mh extends Gp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function RT(t){return Nt(t.integerValue||t.doubleValue)}function Hk(t){return fw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cc&&i instanceof cc||r instanceof dc&&i instanceof dc?Ga(r.elements,i.elements,Zr):r instanceof Mh&&i instanceof Mh?Zr(r.Te,i.Te):r instanceof $h&&i instanceof $h}(t.transform,e.transform)}class B8{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qp{}function qk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vw(t.key,tr.none()):new qc(t.key,t.data,tr.none());{const n=t.data,r=An.empty();let i=new hn(cn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $s(t.key,r,new Fn(i.toArray()),tr.none())}}function z8(t,e,n){t instanceof qc?function(i,s,o){const a=i.value.clone(),l=CT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(i,s,o){if(!pf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=CT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Wk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eu(t,e,n,r){return t instanceof qc?function(s,o,a,l){if(!pf(s.precondition,o))return a;const c=s.value.clone(),f=AT(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(s,o,a,l){if(!pf(s.precondition,o))return a;const c=AT(s.fieldTransforms,l,o),f=o.data;return f.setAll(Wk(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(s,o,a){return pf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jk(r.transform,i||null);s!=null&&(n===null&&(n=An.empty()),n.set(r.field,s))}return n||null}function IT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(s,o)=>j8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qc extends Qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Qp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Wk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CT(t,e,n){const r=new Map;ot(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,U8(o,a,n[i]))}return r}function AT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,F8(s,o,e))}return r}class vw extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q8 extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&z8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>IT(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>IT(n,r))}}class yw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length);let i=function(){return D8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ve;function Q8(t){switch(t){default:return ve();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function Kk(t){if(t===void 0)return Ni("GRPC error has no .code"),U.UNKNOWN;switch(t){case Pt.OK:return U.OK;case Pt.CANCELLED:return U.CANCELLED;case Pt.UNKNOWN:return U.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return U.INTERNAL;case Pt.UNAVAILABLE:return U.UNAVAILABLE;case Pt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Pt.NOT_FOUND:return U.NOT_FOUND;case Pt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Pt.ABORTED:return U.ABORTED;case Pt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Pt.DATA_LOSS:return U.DATA_LOSS;default:return ve()}}(Ve=Pt||(Pt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=new Ia([4294967295,4294967295],0);function PT(t){const e=Y8().encode(t),n=new e8;return n.update(e),new Uint8Array(n.digest())}function kT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ia([n,r],0),new Ia([i,s],0)]}class _w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(r<0)throw new nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Ia.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Ia.fromNumber(r)));return i.compare(X8)===1&&(i=new Ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=PT(e),[r,i]=kT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _w(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=PT(e),[r,i]=kT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yp(be.min(),i,new _t(ze),Oi(),$e())}}class Wc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wc(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class Gk{constructor(e,n){this.targetId=e,this.ye=n}}class Qk{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NT{constructor(){this.we=0,this.Se=DT(),this.be=gn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=$e(),n=$e(),r=$e();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Wc(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=DT()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Z8{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Oi(),this.Ue=OT(),this.We=new _t(ze)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Ny(s))if(r===0){const o=new ue(s.path);this.je(n,o,un.newNoDocument(o,be.min()))}else ot(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,c)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Eo(r).toUint8Array()}catch(l){if(l instanceof Sk)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _w(o,i,s)}catch(l){return Ka(l instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Ny(a.target)){const l=new ue(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,un.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=$e();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Yp(e,n,this.We,this.$e,r);return this.$e=Oi(),this.Ue=OT(),this.We=new _t(ze),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new NT,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new hn(ze),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new NT),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function OT(){return new _t(ue.comparator)}function DT(){return new _t(ue.comparator)}const J8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ez=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tz=(()=>({and:"AND",or:"OR"}))();class nz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $y(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function Lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rz(t,e){return Lh(t,e.toTimestamp())}function Qr(t){return ot(!!t),be.fromTimestamp(function(n){const r=Is(n);return new Vt(r.seconds,r.nanos)}(t))}function ww(t,e){return function(r){return new it(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Xk(t){const e=it.fromString(t);return ot(tN(e)),e}function My(t,e){return ww(t.databaseId,e.path)}function Tg(t,e){const n=Xk(e);if(n.get(1)!==t.databaseId.projectId)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(Zk(n))}function Ly(t,e){return ww(t.databaseId,e)}function iz(t){const e=Xk(t);return e.length===4?it.emptyPath():Zk(e)}function Vy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zk(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $T(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function sz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(ot(f===void 0||typeof f=="string"),gn.fromBase64String(f||"")):(ot(f===void 0||f instanceof Uint8Array),gn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?U.UNKNOWN:Kk(c.code);return new te(f,c.message||"")}(o);n=new Qk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tg(t,r.document.name),s=Qr(r.document.updateTime),o=r.document.createTime?Qr(r.document.createTime):be.min(),a=new An({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new mf(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tg(t,r.document),s=r.readTime?Qr(r.readTime):be.min(),o=un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tg(t,r.document),s=r.removedTargetIds||[];n=new mf([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new G8(i,s),a=r.targetId;n=new Gk(a,o)}}return n}function oz(t,e){let n;if(e instanceof qc)n={update:$T(t,e.key,e.value)};else if(e instanceof vw)n={delete:My(t,e.key)};else if(e instanceof $s)n={update:$T(t,e.key,e.data),updateMask:mz(e.fieldMask)};else{if(!(e instanceof q8))return ve();n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $h)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function az(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qr(i.updateTime):Qr(s);return o.isEqual(be.min())&&(o=Qr(s)),new B8(o,i.transformResults||[])}(n,e))):[]}function lz(t,e){return{documents:[Ly(t,e.path)]}}function uz(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ly(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ly(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return eN(wr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Qo(u.field),direction:fz(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$y(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function cz(t){let e=iz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(u){const d=Jk(u);return d instanceof wr&&Ck(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(u){return u.map(d=>function(m){return new yu(Yo(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,qp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,h=u.values||[];return new Dh(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new Dh(h,d)}(n.endAt)),A8(e,i,o,s,a,"F",l,c)}function dz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yo(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yo(n.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yo(n.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>Jk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function fz(t){return J8[t]}function hz(t){return ez[t]}function pz(t){return tz[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return cn.fromServerFormat(t.fieldPath)}function eN(t){return t instanceof Dt?function(n){if(n.op==="=="){if(ET(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(wT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ET(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(wT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:hz(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>eN(i));return r.length===1?r[0]:{compositeFilter:{op:pz(n.op),filters:r}}}(t):ve()}function mz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r,i,s=be.min(),o=be.min(),a=gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.ht=e}}function vz(t){const e=cz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.an=new _z}addToCollectionParentIndex(e,n){return this.an.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Rs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class _z{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Xa(0)}static Ln(){return new Xa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this.changes=new gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eu(r.mutation,i,Fn.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Oi();const o=wu(),a=function(){return wu()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof $s)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Eu(f.mutation,c,f.mutation.getFieldMask(),Vt.now())):o.set(c.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var u;return a.set(c,new Ez(f,(u=o.get(c))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new _t((o,a)=>o-a),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Fn.empty();f=a.applyToLocalView(c,f),r.set(l,f);const u=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,u)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,u=Vk();f.forEach(d=>{if(!s.has(d)){const h=qk(n.get(d),r.get(d));h!==null&&u.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,u))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ok(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Js());let a=-1,l=s;return o.next(c=>H.forEach(c,(f,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(f)?H.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,$e())).next(f=>({batchId:a,changes:Lk(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=tu();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(u,d){return new Hc(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,un.newInvalidDocument(f)))});let a=tu();return o.forEach((l,c)=>{const f=s.get(l);f!==void 0&&Eu(f.mutation,c,Fn.empty(),Vt.now()),Kp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return H.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:vz(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.overlays=new _t(ue.comparator),this.Pr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Js(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Js(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Js(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return H.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new K8(n,r));let s=this.Pr.get(n);s===void 0&&(s=$e(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Ir=new hn(jt.dr),this.Tr=new hn(jt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new jt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new ue(new it([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new ue(new it([])),r=new jt(n,e),i=new jt(n,e+1);let s=$e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return ue.comparator(e.key,n.key)||ze(e.yr,n.yr)}static Er(e,n){return ze(e.yr,n.yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new hn(jt.dr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(ze);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new jt(new ue(s),0);let a=new hn(ze);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.yr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return H.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new jt(n,0),i=this.Sr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.Fr=e,this.docs=function(){return new _t(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Oi();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||f8(d8(f),r)<=0||(i.has(f.key)||Kp(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Mr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iz(this)}getSize(e){return H.resolve(this.size)}}class Iz extends wz{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.persistence=e,this.Or=new gl(n=>hw(n),pw),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Ew,this.targetCount=0,this.Lr=Xa.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),H.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Qn(n),H.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n){this.kr={},this.overlays={},this.qr=new uw(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Cz(this),this.indexManager=new yz,this.remoteDocumentCache=function(i){return new Rz(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new gz(n),this.Ur=new Tz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new xz(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new Pz(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return H.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Pz extends p8{constructor(e){super(),this.currentSequenceNumber=e}}class bw{constructor(e){this.persistence=e,this.jr=new Ew,this.Hr=null}static Jr(e){return new bw(e)}get Yr(){if(this.Hr)return this.Hr;throw ve()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),H.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Yr,r=>{const i=ue.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return H.or([()=>H.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=$e(),i=$e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kz;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Hl()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),H.resolve()):(Hl()<=Le.DEBUG&&oe("QueryEngine","Query:",Go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Hl()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(n))):H.resolve())}Hi(e,n){if(xT(n))return H.resolve(null);let r=Gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dy(n,null,"F"),r=Gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=$e(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Xi(n,a);return this.es(n,c,o,l.readTime)?this.Hi(e,Dy(n,null,"F")):this.ts(e,c,n,l)}))})))}Ji(e,n,r,i){return xT(n)||i.isEqual(be.min())?H.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?H.resolve(null):(Hl()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Go(n)),this.ts(e,o,n,c8(i,-1)).next(a=>a))})}Xi(e,n){let r=new hn($k(e));return n.forEach((i,s)=>{Kp(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Hl()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ji.getDocumentsMatchingQuery(e,n,Rs.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new _t(ze),this.ss=new gl(s=>hw(s),pw),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bz(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function Dz(t,e,n,r){return new Oz(t,e,n,r)}async function nN(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=$e();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}function $z(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const u=c.batch,d=u.keys();let h=H.resolve();return d.forEach(m=>{h=h.next(()=>f.getEntry(l,m)).next(v=>{const _=c.docVersions.get(m);ot(_!==null),v.version.compareTo(_)<0&&(u.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),f.addEntry(v)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rN(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function Mz(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((f,u)=>{const d=i.get(u);if(!d)return;a.push(n.Kr.removeMatchingKeys(s,f.removedDocuments,u).next(()=>n.Kr.addMatchingKeys(s,f.addedDocuments,u)));let h=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?h=h.withResumeToken(gn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):f.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(f.resumeToken,r)),i=i.insert(u,h),function(v,_,g){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,f)&&a.push(n.Kr.updateTargetData(s,h))});let l=Oi(),c=$e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(Lz(s,o,e.documentUpdates).next(f=>{l=f.ls,c=f.hs})),!r.isEqual(be.min())){const f=n.Kr.getLastRemoteSnapshotVersion(s).next(u=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.rs=i,s))}function Lz(t,e,n){let r=$e(),i=$e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Oi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ls:o,hs:i}})}function Vz(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fz(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function Fy(t,e,n){const r=Re(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zc(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function MT(t,e,n){const r=Re(t);let i=be.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const u=Re(l),d=u.ss.get(f);return d!==void 0?H.resolve(u.rs.get(d)):u.Kr.getTargetData(c,f)}(r,o,Gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:$e())).next(a=>(Uz(r,k8(e),a),{documents:a,Ps:s})))}function Uz(t,e,n){let r=t.os.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}class LT{constructor(){this.activeTargetIds=L8()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jz{constructor(){this.ro=new LT,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new LT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function Sg(){return Vd===null?Vd=function(){return 268435456+Math.round(2147483648*Math.random())}():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class qz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=Sg(),l=this.Do(n,r);oe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,s,o),this.vo(n,l,c,i).then(f=>(oe("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ka("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=zz[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Sg();return new Promise((o,a)=>{const l=new J7;l.setWithCredentials(!0),l.listenOnce(X7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bg.NO_ERROR:const f=l.getResponseJson();oe(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case bg.TIMEOUT:oe(on,`RPC '${e}' ${s} timed out`),a(new te(U.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const u=l.getStatus();if(oe(on,`RPC '${e}' ${s} failed with status:`,u,"response text:",l.getResponseText()),u>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const m=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(g)>=0?g:U.UNKNOWN}(h.status);a(new te(m,h.message))}else a(new te(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(U.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(on,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Mo(e,n,r){const i=Sg(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Q7(),a=Y7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");oe(on,`Creating RPC '${e}' stream ${i}: ${f}`,l);const u=o.createWebChannel(f,l);let d=!1,h=!1;const m=new Hz({ho:_=>{h?oe(on,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(oe(on,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),oe(on,`RPC '${e}' stream ${i} sending:`,_),u.send(_))},Po:()=>u.close()}),v=(_,g,y)=>{_.listen(g,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return v(u,$d.EventType.OPEN,()=>{h||oe(on,`RPC '${e}' stream ${i} transport opened.`)}),v(u,$d.EventType.CLOSE,()=>{h||(h=!0,oe(on,`RPC '${e}' stream ${i} transport closed`),m.mo())}),v(u,$d.EventType.ERROR,_=>{h||(h=!0,Ka(on,`RPC '${e}' stream ${i} transport errored:`,_),m.mo(new te(U.UNAVAILABLE,"The operation could not be completed")))}),v(u,$d.EventType.MESSAGE,_=>{var g;if(!h){const y=_.data[0];ot(!!y);const w=y,E=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(E){oe(on,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let I=function(R){const P=Pt[R];if(P!==void 0)return Kk(P)}(S),x=E.message;I===void 0&&(I=U.INTERNAL,x="Unknown error status: "+S+" with message "+E.message),h=!0,m.mo(new te(I,x)),u.close()}else oe(on,`RPC '${e}' stream ${i} received:`,y),m.fo(y)}}),v(a,Z7.STAT_EVENT,_=>{_.stat===pT.PROXY?oe(on,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===pT.NOPROXY&&oe(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Vo()},0),m}}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return new nz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new iN(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new te(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wz extends sN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=sz(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?Qr(o.readTime):be.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Vy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ny(l)?{documents:lz(s,l)}:{query:uz(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Yk(s,o.resumeToken);const c=$y(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=Lh(s,o.snapshotVersion.toTimestamp());const c=$y(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=dz(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Vy(this.serializer),n.removeTarget=e,this.n_(n)}}class Kz extends sN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=az(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.T_(r,n)}return ot(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Vy(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oz(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(U.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(U.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class Qz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Ni(n),this.p_=!1):oe("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{$o(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.F_.add(4),await Kc(c),c.O_.set("Unknown"),c.F_.delete(4),await Zp(c)}(this))})}),this.O_=new Qz(r,i)}}async function Zp(t){if($o(t))for(const e of t.M_)await e(!0)}async function Kc(t){for(const e of t.M_)await e(!1)}function oN(t,e){const n=Re(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),Rw(n)?xw(n):vl(n).Yo()&&Sw(n,e))}function aN(t,e){const n=Re(t),r=vl(n);n.v_.delete(e),r.Yo()&&lN(n,e),n.v_.size===0&&(r.Yo()?r.e_():$o(n)&&n.O_.set("Unknown"))}function Sw(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).l_(e)}function lN(t,e){t.N_.Le(e),vl(t).h_(e)}function xw(t){t.N_=new Z8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.O_.y_()}function Rw(t){return $o(t)&&!vl(t).Jo()&&t.v_.size>0}function $o(t){return Re(t).F_.size===0}function uN(t){t.N_=void 0}async function Xz(t){t.v_.forEach((e,n)=>{Sw(t,e)})}async function Zz(t,e){uN(t),Rw(t)?(t.O_.b_(e),xw(t)):t.O_.set("Unknown")}async function Jz(t,e,n){if(t.O_.set("Online"),e instanceof Qk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(t,r)}else if(e instanceof mf?t.N_.Ge(e):e instanceof Gk?t.N_.Xe(e):t.N_.He(e),!n.isEqual(be.min()))try{const r=await rN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.v_.get(c);f&&s.v_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=s.v_.get(l);if(!f)return;s.v_.set(l,f.withResumeToken(gn.EMPTY_BYTE_STRING,f.snapshotVersion)),lN(s,l);const u=new ss(f.target,l,c,f.sequenceNumber);Sw(s,u)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await Vh(t,r)}}async function Vh(t,e,n){if(!zc(e))throw e;t.F_.add(1),await Kc(t),t.O_.set("Offline"),n||(n=()=>rN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Zp(t)})}function cN(t,e){return e().catch(n=>Vh(t,n,e))}async function Jp(t){const e=Re(t),n=Cs(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;eH(e);)try{const i=await Vz(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,tH(e,i)}catch(i){await Vh(e,i)}dN(e)&&fN(e)}function eH(t){return $o(t)&&t.C_.length<10}function tH(t,e){t.C_.push(e);const n=Cs(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function dN(t){return $o(t)&&!Cs(t).Jo()&&t.C_.length>0}function fN(t){Cs(t).start()}async function nH(t){Cs(t).A_()}async function rH(t){const e=Cs(t);for(const n of t.C_)e.d_(n.mutations)}async function iH(t,e,n){const r=t.C_.shift(),i=yw.from(r,e,n);await cN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jp(t)}async function sH(t,e){e&&Cs(t).I_&&await async function(r,i){if(function(o){return Q8(o)&&o!==U.ABORTED}(i.code)){const s=r.C_.shift();Cs(r).Xo(),await cN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jp(r)}}(t,e),dN(t)&&fN(t)}async function FT(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.F_.add(3),await Kc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Zp(n)}async function oH(t,e){const n=Re(t);e?(n.F_.delete(2),await Zp(n)):e||(n.F_.add(2),await Kc(n),n.O_.set("Unknown"))}function vl(t){return t.B_||(t.B_=function(n,r,i){const s=Re(n);return s.V_(),new Wz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Xz.bind(null,t),Eo:Zz.bind(null,t),c_:Jz.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Rw(t)?xw(t):t.O_.set("Unknown")):(await t.B_.stop(),uN(t))})),t.B_}function Cs(t){return t.L_||(t.L_=function(n,r,i){const s=Re(n);return s.V_(),new Kz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:nH.bind(null,t),Eo:sH.bind(null,t),E_:rH.bind(null,t),T_:iH.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Jp(t)):(await t.L_.stop(),t.C_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Iw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cw(t,e){if(Ni("AsyncQueue",`${e}: ${t}`),zc(t))return new te(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=tu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.k_=new _t(ue.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):ve():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,n,Ca.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.Q_=void 0,this.listeners=[]}}class lH{constructor(){this.queries=new gl(e=>Dk(e),Wp),this.onlineState="Unknown",this.K_=new Set}}async function hN(t,e){const n=Re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new aH),i)try{s.Q_=await n.onListen(r)}catch(o){const a=Cw(o,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&Aw(n)}async function pN(t,e){const n=Re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function uH(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&Aw(n)}function cH(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Aw(t){t.K_.forEach(e=>{e.next()})}class mN{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.key=e}}class vN{constructor(e){this.key=e}}class dH{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=$e(),this.mutatedKeys=$e(),this.ua=$k(e),this.ca=new Ca(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new UT,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,u)=>{const d=i.get(f),h=Kp(this.query,u)?u:null,m=!!d&&this.mutatedKeys.has(d.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;d&&h?d.data.isEqual(h.data)?m!==v&&(r.track({type:3,doc:h}),_=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.ua(h,l)>0||c&&this.ua(h,c)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),_=!0):d&&!h&&(r.track({type:1,doc:d}),_=!0,(l||c)&&(a=!0)),_&&(h?(o=o.add(h),s=v?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((c,f)=>function(d,h){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return m(d)-m(h)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Za(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new UT,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=$e(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new vN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new gN(r))}),n}Ra(e){this.oa=e.Ps,this.aa=$e();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Za.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class fH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hH{constructor(e){this.key=e,this.ma=!1}}class pH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new gl(a=>Dk(a),Wp),this.pa=new Map,this.ya=new Set,this.wa=new _t(ue.comparator),this.Sa=new Map,this.ba=new Ew,this.Da={},this.Ca=new Map,this.va=Xa.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function mH(t,e){const n=xH(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Fz(n.localStore,Gr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await gH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&oN(n.remoteStore,o)}return i}async function gH(t,e,n,r,i){t.Ma=(u,d,h)=>async function(v,_,g,y){let w=_.view.ha(g);w.es&&(w=await MT(v.localStore,_.query,!1).then(({documents:I})=>_.view.ha(I,w)));const E=y&&y.targetChanges.get(_.targetId),S=_.view.applyChanges(w,v.isPrimaryClient,E);return BT(v,_.targetId,S.Ea),S.snapshot}(t,u,d,h);const s=await MT(t.localStore,e,!0),o=new dH(e,s.Ps),a=o.ha(s.documents),l=Wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);BT(t,n,c.Ea);const f=new fH(e,n,o);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function vH(t,e){const n=Re(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Wp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),aN(n.remoteStore,r.targetId),Uy(n,r.targetId)}).catch(Bc)):(Uy(n,r.targetId),await Fy(n.localStore,r.targetId,!0))}async function yH(t,e,n){const r=RH(t);try{const i=await function(o,a){const l=Re(o),c=Vt.now(),f=a.reduce((h,m)=>h.add(m.key),$e());let u,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Oi(),v=$e();return l._s.getEntries(h,f).next(_=>{m=_,m.forEach((g,y)=>{y.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,m)).next(_=>{u=_;const g=[];for(const y of a){const w=H8(y,u.get(y.key).overlayedDocument);w!=null&&g.push(new $s(y.key,w,xk(w.value.mapValue),tr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,g,a)}).next(_=>{d=_;const g=_.applyToLocalDocumentSet(u,v);return l.documentOverlayCache.saveOverlays(h,_.batchId,g)})}).then(()=>({batchId:d.batchId,changes:Lk(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new _t(ze)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await Gc(r,i.changes),await Jp(r.remoteStore)}catch(i){const s=Cw(i,"Failed to persist write");n.reject(s)}}async function yN(t,e){const n=Re(t);try{const r=await Mz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ot(o.ma):i.removedDocuments.size>0&&(ot(o.ma),o.ma=!1))}),await Gc(n,r,e)}catch(r){await Bc(r)}}function jT(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let c=!1;l.queries.forEach((f,u)=>{for(const d of u.listeners)d.U_(a)&&(c=!0)}),c&&Aw(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _H(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new _t(ue.comparator);o=o.insert(s,un.newNoDocument(s,be.min()));const a=$e().add(s),l=new Yp(be.min(),new Map,new _t(ze),o,a);await yN(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),Pw(r)}else await Fy(r.localStore,e,!1).then(()=>Uy(r,e,n)).catch(Bc)}async function wH(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await $z(n.localStore,e);wN(n,r,null),_N(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,i)}catch(i){await Bc(i)}}async function EH(t,e,n){const r=Re(t);try{const i=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(u=>(ot(u!==null),f=u.keys(),l.mutationQueue.removeMutationBatch(c,u))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);wN(r,e,n),_N(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,i)}catch(i){await Bc(i)}}function _N(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function wN(t,e,n){const r=Re(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||EN(t,r)})}function EN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(aN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Pw(t))}function BT(t,e,n){for(const r of n)r instanceof gN?(t.ba.addReference(r.key,e),bH(t,r)):r instanceof vN?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||EN(t,r.key)):ve()}function bH(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.ya.add(r),Pw(t))}function Pw(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ue(it.fromString(e)),r=t.va.next();t.Sa.set(r,new hH(n)),t.wa=t.wa.insert(n,r),oN(t.remoteStore,new ss(Gr(mw(n.path)),r,"TargetPurposeLimboResolution",uw.ae))}}async function Gc(t,e,n){const r=Re(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const f=Tw.$i(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,c){const f=Re(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>H.forEach(c,d=>H.forEach(d.Qi,h=>f.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>H.forEach(d.Ki,h=>f.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!zc(u))throw u;oe("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const d=u.targetId;if(!u.fromCache){const h=f.rs.get(d),m=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(m);f.rs=f.rs.insert(d,v)}}}(r.localStore,s))}async function TH(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await nN(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new te(U.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r.cs)}}function SH(t,e){const n=Re(t),r=n.Sa.get(e);if(r&&r.ma)return $e().add(r.key);{let i=$e();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function xH(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_H.bind(null,e),e.fa.c_=uH.bind(null,e.eventManager),e.fa.xa=cH.bind(null,e.eventManager),e}function RH(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EH.bind(null,e),e}class zT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Dz(this.persistence,new Nz,e.initialUser,this.serializer)}createPersistence(e){return new Az(bw.Jr,this.serializer)}createSharedClientState(e){return new jz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IH{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TH.bind(null,this.syncEngine),await oH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lH}()}createDatastore(e){const n=Xp(e.databaseInfo.databaseId),r=function(s){return new qz(s)}(e.databaseInfo);return function(s,o,a,l){return new Gz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Yz(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jT(this.syncEngine,n,0),function(){return VT.C()?new VT:new Bz}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,f){const u=new pH(i,s,o,a,l,c);return f&&(u.Fa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Re(n);oe("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Kc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=bk.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rg(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PH(t);oe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>FT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FT(e.remoteStore,s)),t._onlineComponents=e}function AH(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AH(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Rg(t,new zT)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Rg(t,new zT);return t._offlineComponents}async function TN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await HT(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await HT(t,new IH))),t._onlineComponents}function kH(t){return TN(t).then(e=>e.syncEngine)}async function SN(t){const e=await TN(t),n=e.eventManager;return n.onListen=mH.bind(null,e.syncEngine),n.onUnlisten=vH.bind(null,e.syncEngine),n}function NH(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const f=new bN({next:d=>{o.enqueueAndForget(()=>pN(s,u));const h=d.docs.has(a);!h&&d.fromCache?c.reject(new te(U.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?c.reject(new te(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new mN(mw(a.path),f,{includeMetadataChanges:!0,Z_:!0});return hN(s,u)}(await SN(t),t.asyncQueue,e,n,r)),r.promise}function OH(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const f=new bN({next:d=>{o.enqueueAndForget(()=>pN(s,u)),d.fromCache&&l.source==="server"?c.reject(new te(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new mN(a,f,{includeMetadataChanges:!0,Z_:!0});return hN(s,u)}(await SN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e,n){if(!n)throw new te(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DH(t,e,n,r){if(e===!0&&r===!0)throw new te(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WT(t){if(!ue.isDocumentKey(t))throw new te(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KT(t){if(ue.isDocumentKey(t))throw new te(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=em(t);throw new te(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t8;switch(r.type){case"firstParty":return new s8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qT.get(n);r&&(oe("ComponentProvider","Removing Datastore"),qT.delete(n),r.terminate())}(this),Promise.resolve()}}function $H(t,e,n,r={}){var i;const s=(t=Er(t,tm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=$A(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(c)}t._authCredentials=new n8(new Ek(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class vs extends yl{constructor(e,n,r){super(e,n,mw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ue(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function _l(t,e,...n){if(t=at(t),RN("collection","path",e),t instanceof tm){const r=it.fromString(e,...n);return KT(r),new vs(t,null,r)}{if(!(t instanceof Tn||t instanceof vs))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return KT(r),new vs(t.firestore,null,r)}}function Fi(t,e,...n){if(t=at(t),arguments.length===1&&(e=bk.V()),RN("doc","path",e),t instanceof tm){const r=it.fromString(e,...n);return WT(r),new Tn(t,null,new ue(r))}{if(!(t instanceof Tn||t instanceof vs))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return WT(r),new Tn(t.firestore,t instanceof vs?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new iN(this,"async_queue_retry"),this.ou=()=>{const n=xg();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=xg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new vi;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!zc(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=Iw.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&ve()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Mo extends tm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new MH}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IN(this),this._firestoreClient.terminate()}}function LH(t,e){const n=typeof t=="object"?t:P0(),r=typeof t=="string"?t:e||"(default)",i=xp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=NA("firestore");s&&$H(i,...s)}return i}function kw(t){return t._firestoreClient||IN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,f){return new v8(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,xN(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new CH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(gn.fromBase64String(e))}catch(n){throw new te(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=/^__.*__$/;class FH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new qc(e,this.data,n,this.fieldTransforms)}}class CN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Dw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Dw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Fh(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(AN(this.Tu)&&VH.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class UH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xp(e)}wu(e,n,r,i=!1){return new Dw({Tu:e,methodName:n,yu:r,path:cn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(t){const e=t._freezeSettings(),n=Xp(t._databaseId);return new UH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PN(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);$w("Data must be an object, but it was:",o,r);const a=kN(r,o);let l,c;if(s.merge)l=new Fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const u of s.mergeFields){const d=jy(e,u,n);if(!o.contains(d))throw new te(U.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);ON(f,d)||f.push(d)}l=new Fn(f),c=o.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,c=o.fieldTransforms;return new FH(new An(a),l,c)}class im extends Nw{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}function jH(t,e,n,r){const i=t.wu(1,e,n);$w("Data must be an object, but it was:",i,r);const s=[],o=An.empty();Do(r,(l,c)=>{const f=Mw(e,l,n);c=at(c);const u=i.mu(f);if(c instanceof im)s.push(f);else{const d=Qc(c,u);d!=null&&(s.push(f),o.set(f,d))}});const a=new Fn(s);return new CN(o,a,i.fieldTransforms)}function BH(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[jy(e,r,n)],l=[i];if(s.length%2!=0)throw new te(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(jy(e,s[d])),l.push(s[d+1]);const c=[],f=An.empty();for(let d=a.length-1;d>=0;--d)if(!ON(c,a[d])){const h=a[d];let m=l[d];m=at(m);const v=o.mu(h);if(m instanceof im)c.push(h);else{const _=Qc(m,v);_!=null&&(c.push(h),f.set(h,_))}}const u=new Fn(c);return new CN(f,u,o.fieldTransforms)}function zH(t,e,n,r=!1){return Qc(n,t.wu(r?4:3,e))}function Qc(t,e){if(NN(t=at(t)))return $w("Unsupported field value:",e,t),kN(t,e);if(t instanceof Nw)return function(r,i){if(!AN(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Qc(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:Lh(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(i.serializer,s)}}if(r instanceof Ow)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:Yk(i.serializer,r._byteString)};if(r instanceof Tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${em(r)}`)}(t,e)}function kN(t,e){const n={};return Tk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,(r,i)=>{const s=Qc(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Ow||t instanceof Ja||t instanceof Tn||t instanceof Nw)}function $w(t,e,n){if(!NN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=em(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function jy(t,e,n){if((e=at(e))instanceof nm)return e._internalPath;if(typeof e=="string")return Mw(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const HH=new RegExp("[~\\*/\\[\\]]");function Mw(t,e,n){if(e.search(HH)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nm(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(U.INVALID_ARGUMENT,a+t+l)}function ON(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qH extends DN{data(){return super.data()}}function Lw(t,e){return typeof e=="string"?Mw(t,e):e instanceof nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vw{}class KH extends Vw{}function $N(t,e,...n){let r=[];e instanceof Vw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Fw).length,a=s.filter(l=>l instanceof sm).length;if(o>1||o>0&&a>0)throw new te(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sm extends KH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sm(e,n,r)}_apply(e){const n=this._parse(e);return LN(e._query,n),new yl(e.firestore,e.converter,Oy(e._query,n))}_parse(e){const n=rm(e.firestore);return function(s,o,a,l,c,f,u){let d;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new te(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){YT(u,f);const h=[];for(const m of u)h.push(QT(l,s,m));d={arrayValue:{values:h}}}else d=QT(l,s,u)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||YT(u,f),d=zH(a,o,u,f==="in"||f==="not-in");return Dt.create(c,f,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MN(t,e,n){const r=e,i=Lw("where",t);return sm._create(i,r,n)}class Fw extends Vw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)LN(o,l),o=Oy(o,l)}(e._query,n),new yl(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QT(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new te(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ok(e)&&n.indexOf("/")!==-1)throw new te(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ue.isDocumentKey(r))throw new te(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _T(t,new ue(r))}if(n instanceof Tn)return _T(t,n._key);throw new te(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(n)}.`)}function YT(t,e){if(!Array.isArray(t)||t.length===0)throw new te(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LN(t,e){if(e.isInequality()){const r=gw(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new te(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Nk(t);s!==null&&GH(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GH(t,e,n){if(!n.isEqual(e))throw new te(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class QH{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Do(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ow(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);ot(tN(r));const i=new lc(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Ni(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FN extends DN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gf extends FN{data(e={}){return super.data(e)}}class YH{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ru(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new gf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ru(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new gf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ru(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:XH(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){t=Er(t,Tn);const e=Er(t.firestore,Mo);return NH(kw(e),t._key).then(n=>JH(e,t,n))}class UN extends QH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function am(t){t=Er(t,yl);const e=Er(t.firestore,Mo),n=kw(e),r=new UN(e);return WH(t._query),OH(n,t._query).then(i=>new YH(e,r,t,i))}function jN(t,e,n){t=Er(t,Tn);const r=Er(t.firestore,Mo),i=VN(t.converter,e,n);return lm(r,[PN(rm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tr.none())])}function ZH(t,e,n,...r){t=Er(t,Tn);const i=Er(t.firestore,Mo),s=rm(i);let o;return o=typeof(e=at(e))=="string"||e instanceof nm?BH(s,"updateDoc",t._key,e,n,r):jH(s,"updateDoc",t._key,e),lm(i,[o.toMutation(t._key,tr.exists(!0))])}function BN(t){return lm(Er(t.firestore,Mo),[new vw(t._key,tr.none())])}function zN(t,e){const n=Er(t.firestore,Mo),r=Fi(t),i=VN(t.converter,e);return lm(n,[PN(rm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function lm(t,e){return function(r,i){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>yH(await kH(r),i,s)),s.promise}(kw(t),e)}function JH(t,e,n){const r=n.docs.get(e._key),i=new UN(t);return new FN(t,i,e._key,r,new ru(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ml=i})(Po),vo(new xs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Mo(new r8(r.getProvider("auth-internal")),new a8(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qr(mT,"4.2.0",e),qr(mT,"4.2.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebasestorage.googleapis.com",qN="storageBucket",eq=2*60*1e3,tq=10*60*1e3,nq=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends ei{constructor(e,n,r=0){super(Ig(e),`Firebase Storage: ${n} (${Ig(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Ig(t){return"storage/"+t}function Uw(){const t="An unknown error occurred, please check the error payload for server response.";return new ft(lt.UNKNOWN,t)}function rq(t){return new ft(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iq(t){return new ft(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(lt.UNAUTHENTICATED,t)}function oq(){return new ft(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aq(t){return new ft(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function WN(){return new ft(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KN(){return new ft(lt.CANCELED,"User canceled the upload/download.")}function lq(t){return new ft(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function uq(t){return new ft(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cq(){return new ft(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qN+"' property when initializing the app?")}function GN(){return new ft(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dq(){return new ft(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function fq(){return new ft(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hq(t){return new ft(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function By(t){return new ft(lt.INVALID_ARGUMENT,t)}function QN(){return new ft(lt.APP_DELETED,"The Firebase app was deleted.")}function pq(t){return new ft(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(t,e){return new ft(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ql(t){throw new ft(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Un.makeFromUrl(e,n)}catch{return new Un(e,"")}if(r.path==="")return r;throw uq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const f="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${u}/${f}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},v=n===HN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${_}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:h,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const S=w[E],I=S.regex.exec(e);if(I){const x=I[S.indices.bucket];let T=I[S.indices.path];T||(T=""),r=new Un(x,T),S.postModify(r);break}}if(r==null)throw lq(e);return r}}class mq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function f(..._){c||(c=!0,e.apply(null,_))}function u(_){i=setTimeout(()=>{i=null,t(h,l())},_)}function d(){s&&clearTimeout(s)}function h(_,...g){if(c){d();return}if(_){d(),f.call(null,_,...g);return}if(l()||o){d(),f.call(null,_,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,u(w)}let m=!1;function v(_){m||(m=!0,d(),!c&&(i!==null?(_||(a=2),clearTimeout(i),u(0)):_||(a=1)))}return u(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function vq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t){return t!==void 0}function _q(t){return typeof t=="function"}function wq(t){return typeof t=="object"&&!Array.isArray(t)}function um(t){return typeof t=="string"||t instanceof String}function XT(t){return jw()&&t instanceof Blob}function jw(){return typeof Blob<"u"&&!mj()}function ZT(t,e,n,r){if(r<e)throw By(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw By(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function YN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n,r,i,s,o,a,l,c,f,u,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===so.NO_ERROR,l=s.getStatus();if(!a||XN(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===so.ABORT;r(!1,new Fd(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Fd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yq(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Uw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?QN():KN();o(l)}else{const l=WN();o(l)}};this.canceled_?n(!1,new Fd(!1,null,!0)):this.backoffId_=gq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function bq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Tq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Rq(t,e,n,r,i,s,o=!0){const a=YN(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Sq(c,e),bq(c,n),Tq(c,s),xq(c,r),new Eq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Cq(...t){const e=Iq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jw())return new Blob(t);throw new ft(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Aq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){if(typeof atob>"u")throw hq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cg{constructor(e,n){this.data=e,this.contentType=n||null}}function kq(t,e){switch(t){case Fr.RAW:return new Cg(ZN(e));case Fr.BASE64:case Fr.BASE64URL:return new Cg(JN(t,e));case Fr.DATA_URL:return new Cg(Oq(e),Dq(e))}throw Uw()}function ZN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Nq(t){let e;try{e=decodeURIComponent(t)}catch{throw bu(Fr.DATA_URL,"Malformed data URL.")}return ZN(e)}function JN(t,e){switch(t){case Fr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw bu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw bu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Pq(e)}catch(i){throw i.message.includes("polyfill")?i:bu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class eO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bu(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$q(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Oq(t){const e=new eO(t);return e.base64?JN(Fr.BASE64,e.rest):Nq(e.rest)}function Dq(t){return new eO(t).contentType}function $q(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){let r=0,i="";XT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(XT(this.data_)){const r=this.data_,i=Aq(r,e,n);return i===null?null:new es(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new es(r,!0)}}static getBlob(...e){if(jw()){const n=e.map(r=>r instanceof es?r.data_:r);return new es(Cq.apply(null,n))}else{const n=e.map(o=>um(o)?kq(Fr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new es(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){let e;try{e=JSON.parse(t)}catch{return null}return wq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Lq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t,e){return e}class vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vq}}let Ud=null;function Fq(t){return!um(t)||t.length<2?t:nO(t)}function rO(){if(Ud)return Ud;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(s,o){return Fq(o)}const n=new vn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vn("size");return i.xform=r,t.push(i),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),Ud=t,Ud}function Uq(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Un(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function jq(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Uq(r,t),r}function iO(t,e,n){const r=tO(e);return r===null?null:jq(t,r,n)}function Bq(t,e,n,r){const i=tO(e);if(i===null||!um(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const f=t.bucket,u=t.fullPath,d="/b/"+o(f)+"/o/"+o(u),h=wl(d,n,r),m=YN({alt:"media",token:c});return h+m})[0]}function sO(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Lo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){if(!t)throw Uw()}function Bw(t,e){function n(r,i){const s=iO(t,i,e);return yi(s!==null),s}return n}function zq(t,e){function n(r,i){const s=iO(t,i,e);return yi(s!==null),Bq(s,i,t.host,t._protocol)}return n}function Yc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oq():i=sq():n.getStatus()===402?i=iq(t.bucket):n.getStatus()===403?i=aq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zw(t){const e=Yc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rq(t.path)),s.serverResponse=i.serverResponse,s}return n}function Hq(t,e,n){const r=e.fullServerUrl(),i=wl(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Lo(i,s,Bw(t,n),o);return a.errorHandler=zw(e),a}function qq(t,e,n){const r=e.fullServerUrl(),i=wl(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Lo(i,s,zq(t,n),o);return a.errorHandler=zw(e),a}function Wq(t,e){const n=e.fullServerUrl(),r=wl(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new Lo(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=zw(e),a}function Kq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Kq(null,e)),r}function Gq(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=oO(e,r,i),f=sO(c,n),u="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=es.getBlob(u,r,d);if(h===null)throw GN();const m={name:c.fullPath},v=wl(s,t.host,t._protocol),_="POST",g=t.maxUploadRetryTime,y=new Lo(v,_,Bw(t,n),g);return y.urlParams=m,y.headers=o,y.body=h.uploadData(),y.errorHandler=Yc(e),y}class Uh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Hw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{yi(!1)}return yi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Qq(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=oO(e,r,i),a={name:o.fullPath},l=wl(s,t.host,t._protocol),c="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=sO(o,n),d=t.maxUploadRetryTime;function h(v){Hw(v);let _;try{_=v.getResponseHeader("X-Goog-Upload-URL")}catch{yi(!1)}return yi(um(_)),_}const m=new Lo(l,c,h,d);return m.urlParams=a,m.headers=f,m.body=u,m.errorHandler=Yc(e),m}function Yq(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const f=Hw(c,["active","final"]);let u=null;try{u=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yi(!1)}u||yi(!1);const d=Number(u);return yi(!isNaN(d)),new Uh(d,r.size(),f==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Lo(n,o,s,a);return l.headers=i,l.errorHandler=Yc(e),l}const JT=256*1024;function Xq(t,e,n,r,i,s,o,a){const l=new Uh(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw dq();const c=l.total-l.current;let f=c;i>0&&(f=Math.min(f,i));const u=l.current,d=u+f;let h="";f===0?h="finalize":c===f?h="upload, finalize":h="upload";const m={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(u,d);if(v===null)throw GN();function _(E,S){const I=Hw(E,["active","final"]),x=l.current+f,T=r.size();let R;return I==="final"?R=Bw(e,s)(E,S):R=null,new Uh(x,T,I==="final",R)}const g="POST",y=e.maxUploadRetryTime,w=new Lo(n,g,_,y);return w.headers=m,w.body=v.uploadData(),w.progressCallback=a||null,w.errorHandler=Yc(t),w}const In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ag(t){switch(t){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r){if(_q(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Jq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eW extends Jq{initXhr(){this.xhr_.responseType="text"}}function zs(){return new eW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=rO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(XN(i.status,[]))if(s)i=WN();else{this.sleepTime=Math.max(this.sleepTime*2,nq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Qq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zs,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Yq(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,zs,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=JT*this._chunkMultiplier,n=new Uh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Xq(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,zs,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){JT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Hq(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,zs,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Gq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zs,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=KN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ag(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Zq(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ag(this._state)){case In.SUCCESS:qo(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:const n=this._reject;qo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ag(this._state)){case In.RUNNING:case In.PAUSED:e.next&&qo(e.next.bind(e,this.snapshot))();break;case In.SUCCESS:e.complete&&qo(e.complete.bind(e))();break;case In.CANCELED:case In.ERROR:e.error&&qo(e.error.bind(e,this._error))();break;default:e.error&&qo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this._service=e,n instanceof Un?this._location=n:this._location=Un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new To(e,n)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nO(this._location.path)}get storage(){return this._service}get parent(){const e=Mq(this._location.path);if(e===null)return null;const n=new Un(this._location.bucket,e);return new To(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pq(e)}}function nW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new tW(t,new es(e),n)}function rW(t){t._throwIfRoot("getDownloadURL");const e=qq(t.storage,t._location,rO());return t.storage.makeRequestWithTokens(e,zs).then(n=>{if(n===null)throw fq();return n})}function iW(t){t._throwIfRoot("deleteObject");const e=Wq(t.storage,t._location);return t.storage.makeRequestWithTokens(e,zs)}function sW(t,e){const n=Lq(t._location.path,e),r=new Un(t._location.bucket,n);return new To(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t){return/^[A-Za-z]+:\/\//.test(t)}function aW(t,e){return new To(t,e)}function aO(t,e){if(t instanceof qw){const n=t;if(n._bucket==null)throw cq();const r=new To(n,n._bucket);return e!=null?aO(r,e):r}else return e!==void 0?sW(t,e):t}function lW(t,e){if(e&&oW(e)){if(t instanceof qw)return aW(t,e);throw By("To use ref(service, url), the first argument must be a Storage instance.")}else return aO(t,e)}function eS(t,e){const n=e==null?void 0:e[qN];return n==null?null:Un.makeFromBucketSpec(n,t)}function uW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:$A(i,t.app.options.projectId))}class qw{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=HN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eq,this._maxUploadRetryTime=tq,this._requests=new Set,i!=null?this._bucket=Un.makeFromBucketSpec(i,this._host):this._bucket=eS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=eS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mq(QN());{const o=Rq(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tS="@firebase/storage",nS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="storage";function cW(t,e,n){return t=at(t),nW(t,e,n)}function dW(t){return t=at(t),rW(t)}function fW(t){return t=at(t),iW(t)}function uO(t,e){return t=at(t),lW(t,e)}function hW(t=P0(),e){t=at(t);const r=xp(t,lO).getImmediate({identifier:e}),i=NA("storage");return i&&pW(r,...i),r}function pW(t,e,n,r={}){uW(t,e,n,r)}function mW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qw(n,r,i,e,Po)}function gW(){vo(new xs(lO,mW,"PUBLIC").setMultipleInstances(!0)),qr(tS,nS,""),qr(tS,nS,"esm2017")}gW();const vW={apiKey:"AIzaSyAJ4PF5WMNkVryFjyWQM6mqTdhGEahSGg0",authDomain:"media-zone-a4422.firebaseapp.com",projectId:"media-zone-a4422",storageBucket:"media-zone-a4422.appspot.com",appId:"1:1034428657583:web:ca57dea049ea4f87f5095a"},Ww=VA(vW),El=WB(Ww),Sr=LH(Ww),cO=hW(Ww),yW=async t=>{const e=Fi(Sr,"users",t.uid);return(await om(e)).data()},_W=async t=>{if(!t)return;const e=Fi(Sr,"users",t.uid);if(!(await om(e)).exists()){const{displayName:r,email:i}=t,s=new Date;try{await jN(e,{displayName:r,email:i,createdAt:s})}catch(o){o instanceof Error&&console.error(`error creating the user: ${o.message}`),console.error("unexpected error",o)}}};lP(El,L0);const wW=async(t,e,n)=>{if(!e||!n)return;const{user:r}=await C9(El,e,n);return await k9(r,{displayName:t}),await _W(r),r},EW=async(t,e)=>await A9(El,t,e),bW=async(t,e)=>{lP(El,L0).then(()=>EW(t,e)).catch(n=>{const r=n.code,i=n.message;console.error(`${r}: ${i}`)})},TW=()=>$9(El),SW=t=>D9(El,t),xW=()=>{const t=J_(I0),e=S0({mode:"onBlur",defaultValues:{email:"",password:""},resolver:x0(MW)}),n=async({email:i,password:s})=>{try{await bW(i,s),e.reset(),t(!1)}catch(o){console.error("login submit error",o)}},r=i=>{console.error({errors:i})};return b.jsx(R0,{...e,children:b.jsxs("form",{onSubmit:e.handleSubmit(n,r),className:"space-y-8",children:[b.jsx(ai,{control:e.control,name:"email",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx(kr,{children:"Email:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{placeholder:"Email Id",...i})})]})}),b.jsx(ai,{control:e.control,name:"password",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx(kr,{children:"Password:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{placeholder:"Password",...i})})]})}),b.jsx(Ii,{type:"submit",className:"w-full",children:"Login"})]})})},dO="Checkbox",[RW,BK]=Li(dO),[IW,CW]=RW(dO),AW=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,...f}=t,[u,d]=p.useState(null),h=qe(e,w=>d(w)),m=p.useRef(!1),v=u?!!u.closest("form"):!0,[_=!1,g]=Ti({prop:i,defaultProp:s,onChange:c}),y=p.useRef(_);return p.useEffect(()=>{const w=u==null?void 0:u.form;if(w){const E=()=>g(y.current);return w.addEventListener("reset",E),()=>w.removeEventListener("reset",E)}},[u,g]),p.createElement(IW,{scope:n,state:_,disabled:a},p.createElement(ye.button,Y({type:"button",role:"checkbox","aria-checked":oo(_)?"mixed":_,"aria-required":o,"data-state":fO(_),"data-disabled":a?"":void 0,disabled:a,value:l},f,{ref:h,onKeyDown:fe(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:fe(t.onClick,w=>{g(E=>oo(E)?!0:!E),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})),v&&p.createElement(NW,{control:u,bubbles:!m.current,name:r,value:l,checked:_,required:o,disabled:a,style:{transform:"translateX(-100%)"}}))}),PW="CheckboxIndicator",kW=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=CW(PW,n);return p.createElement(Jr,{present:r||oo(s.state)||s.state===!0},p.createElement(ye.span,Y({"data-state":fO(s.state),"data-disabled":s.disabled?"":void 0},i,{ref:e,style:{pointerEvents:"none",...t.style}})))}),NW=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=p.useRef(null),o=dp(n),a=G_(e);return p.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&u){const d=new Event("click",{bubbles:r});l.indeterminate=oo(n),u.call(l,oo(n)?!1:n),l.dispatchEvent(d)}},[o,n,r]),p.createElement("input",Y({type:"checkbox","aria-hidden":!0,defaultChecked:oo(n)?!1:n},i,{tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function oo(t){return t==="indeterminate"}function fO(t){return oo(t)?"indeterminate":t?"checked":"unchecked"}const hO=AW,OW=kW,pO=p.forwardRef(({className:t,...e},n)=>b.jsx(hO,{ref:n,className:Ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:b.jsx(OW,{className:Ie("flex items-center justify-center text-current"),children:b.jsx(Z_,{className:"h-4 w-4"})})}));pO.displayName=hO.displayName;const DW=()=>{const t=J_(I0),e=S0({mode:"onBlur",defaultValues:{displayName:"",email:"",password:"",confirmPassword:"",tos:!1},resolver:x0($W)}),n=async({displayName:i,email:s,password:o})=>{try{await wW(i,s,o),e.reset(),t(!1)}catch(a){console.error("register submit error",a)}},r=i=>{console.error({errors:i})};return b.jsx(R0,{...e,children:b.jsxs("form",{onSubmit:e.handleSubmit(n,r),className:"space-y-8",children:[b.jsx(ai,{control:e.control,name:"displayName",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx(kr,{children:"Full Name:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{placeholder:"Fullname",...i})})]})}),b.jsx(ai,{control:e.control,name:"email",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx(kr,{children:"Email:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{type:"email",placeholder:"Email Id",...i})})]})}),b.jsx(ai,{control:e.control,name:"password",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx(kr,{children:"Password:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{type:"password",placeholder:"Password",...i})})]})}),b.jsx(ai,{control:e.control,name:"confirmPassword",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx(kr,{children:"Confirm Password:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{type:"password",placeholder:"Confirm Password",...i})})]})}),b.jsx(ai,{control:e.control,name:"tos",render:({field:i})=>b.jsxs(Pr,{children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Nr,{children:b.jsx(pO,{checked:i.value,onCheckedChange:i.onChange})}),b.jsx(kr,{children:"Accept terms and conditions"})]}),b.jsx(Or,{})]})}),b.jsx(Ii,{type:"submit",className:"w-full",children:"Register"})]})})},mO=QC({displayName:da().nonempty("Name is required."),email:da().nonempty("Email is required.").email("Not a valid Email id."),password:da().nonempty("Password is required").min(6,"Password must be greater than 6 characters.").max(30,"Password must be lesser than 30 characters."),confirmPassword:da().nonempty("Password is required."),tos:t5(!0,{required_error:"Please accept Terms of Service to proceed.",invalid_type_error:"Please accept Terms of Service to proceed."})}),$W=mO.refine(t=>t.password===t.confirmPassword,{message:"Passwords does not match.",path:["confirmPassword"]}),MW=mO.pick({email:!0,password:!0}),gO=()=>b.jsxs(I5,{defaultValue:"login",children:[b.jsxs(oA,{className:"grid w-full grid-cols-2 mt-3 mb-5",children:[b.jsx(ay,{value:"login",children:"Login"}),b.jsx(ay,{value:"register",children:"Register"})]}),b.jsx(ly,{value:"login",children:b.jsx(xW,{})}),b.jsx(ly,{value:"register",children:b.jsx(DW,{})})]}),rS=({children:t,to:e})=>b.jsx(gM,{to:e,className:({isActive:n,isPending:r})=>r?"text-secondary":n?"text-primary":"",children:t}),bl=()=>{const[t,e]=SI(sj);return p.useEffect(()=>SW(async r=>{if(r){if(console.log("User signed in."),t===null){const i=await yW(r);i&&e({uid:r.uid,displayName:i.displayName,email:i.email})}}else console.log("User signed out."),e(null)}),[]),t},vO=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",LW={theme:vO,setTheme:()=>null},yO=p.createContext(LW),VW=({children:t,defaultTheme:e=vO,storageKey:n="ui-theme",...r})=>{const[i,s]=p.useState(()=>localStorage.getItem(n)||e);p.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return b.jsx(yO.Provider,{...r,value:o,children:t})},FW=()=>{const t=p.useContext(yO);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},UW=()=>{const t=bl(),{theme:e,setTheme:n}=FW(),[r,i]=SI(I0),s=()=>{console.log("Theme changed!"),n(e==="dark"?"light":"dark")};return b.jsx("div",{className:"sticky top-0 w-full p-0 m-0 bg-background",children:b.jsxs(jI,{className:"flex items-center justify-between h-16 max-w-full px-6 border-b ",children:[b.jsxs(Bv,{children:[b.jsx(Fo,{children:b.jsx(rS,{to:"/",children:b.jsx("p",{className:"mr-2 text-2xl font-bold",children:"Music"})})}),b.jsx(Fo,{className:tf(),children:b.jsxs("p",{children:["Hi, ",t==null?void 0:t.displayName]})}),b.jsx(Fo,{className:tf(),children:b.jsx(rS,{to:"/manage",children:"Manage"})})]}),b.jsxs(Bv,{children:[b.jsx(Fo,{children:t?b.jsx(Ii,{variant:"ghost",onClick:TW,children:"Logout"}):b.jsxs($U,{open:r,onOpenChange:i,modal:!0,children:[b.jsx(MU,{className:tf(),children:"Login / Register"}),b.jsxs(zC,{children:[b.jsx(HC,{children:b.jsx(qC,{children:"Your Account."})}),b.jsx(gO,{})]})]})}),b.jsx(Fo,{children:b.jsxs(AC,{defaultValue:"en",children:[b.jsx(h0,{className:"w-32",children:b.jsx(PC,{placeholder:"Select a language"})}),b.jsx(p0,{children:b.jsxs(fU,{children:[b.jsx(qu,{value:"en",children:"English"}),b.jsx(qu,{value:"fr",children:"French"})]})})]})}),b.jsx(Fo,{children:b.jsxs(KC,{pressed:!0,onPressedChange:s,children:[e==="dark"?b.jsx(HV,{className:" h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}):b.jsx(OV,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})})]})]})})},jW=()=>b.jsxs("div",{className:"min-h-screen",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-5 max-w-screen",children:[b.jsx(UW,{}),b.jsx("div",{className:"w-[calc(100%-6rem)] mx-12 max-w-3xl mb-28",children:b.jsx(DR,{})})]}),b.jsx(KV,{})]}),el=p.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));el.displayName="Card";const tl=p.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",t),...e}));tl.displayName="CardHeader";const nl=p.forwardRef(({className:t,...e},n)=>b.jsx("h3",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));nl.displayName="CardTitle";const BW=p.forwardRef(({className:t,...e},n)=>b.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));BW.displayName="CardDescription";const pi=p.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ie("p-6 pt-0",t),...e}));pi.displayName="CardContent";const zW=p.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",t),...e}));zW.displayName="CardFooter";const zy="horizontal",HW=["horizontal","vertical"],Kw=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=zy,...i}=t,s=_O(r)?r:zy,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.createElement(ye.div,Y({"data-orientation":s},a,i,{ref:e}))});Kw.propTypes={orientation(t,e,n){const r=t[e],i=String(r);return r&&!_O(r)?new Error(qW(i,n)):null}};function qW(t,e){return`Invalid prop \`orientation\` of value \`${t}\` supplied to \`${e}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${zy}\`.`}function _O(t){return HW.includes(t)}const wO=Kw,cm="songs",jh=_l(Sr,cm),WW=async t=>{if(t.url==="")return;const e=$N(jh,MN("name","==",t.name)),{size:n}=await am(e);if(console.log({size:n}),n===0)return await zN(jh,t)},Bh=async(t,e)=>{const n=Fi(Sr,cm,t);await ZH(n,{...e})},KW=async t=>{const e=Fi(Sr,cm,t);return await BN(e)},GW=async t=>{const e=Fi(Sr,cm,t),n=await om(e);if(!n.exists()){console.log("No such document!");return}return{id:n.id,...n.data()}},QW=async t=>{if(t){const e=[],n=$N(jh,MN("uploader_id","==",t));return(await am(n)).forEach(i=>{const s={id:i.id,...i.data()};e.push(s)}),e}},YW=async()=>{const t=[];return(await am(jh)).forEach(n=>{const r={id:n.id,...n.data()};t.push(r)}),t},XW=async t=>{if(t.commentor_name===void 0||t.commentor_id===void 0)return;const e=_l(Sr,"songs",t.sid,"comments");return await zN(e,t)},ZW=async t=>{const e=[],n=_l(Sr,"songs",t,"comments");return(await am(n)).forEach(i=>{const s={id:i.id,...i.data()};e.push(s)}),e},JW=async(t,e)=>{const n=_l(Sr,"songs",t,"likes"),r=Fi(n,e);return await(await om(r)).exists()},eK=async(t,e)=>{if(!e.uid)return;const n=_l(Sr,"songs",t,"likes"),r=Fi(n,e.uid);return await jN(r,e)},tK=async(t,e)=>{const n=_l(Sr,"songs",t,"likes"),r=Fi(n,e);return await BN(r)},nK=({song:t})=>{const e=bl(),[n,r,i]=X_(l=>[l.currentSong,l.playing,l.newSong]),[s,o]=p.useState(!1);p.useEffect(()=>{JW(t.id,e==null?void 0:e.uid).then(l=>o(l))},[]);const a=async()=>{if(s)await Bh(t.id,{like_count:t.like_count-1}),await tK(t.id,e==null?void 0:e.uid),o(!1);else{const l={uid:e==null?void 0:e.uid,displayName:e==null?void 0:e.displayName};await Bh(t.id,{like_count:t.like_count+1}),await eK(t.id,l),o(!0)}};return b.jsxs(b.Fragment,{children:[b.jsx(Kw,{}),b.jsxs(pi,{className:"flex items-center justify-between mt-5",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{onClick:()=>i(t),className:"my-[3px]",children:n.id===t.id&&r?b.jsx($V,{}):b.jsx(EI,{})}),b.jsxs("div",{children:[b.jsx(MR,{to:`song/${t.id}`,className:"text-lg font-bold",children:t.modified_name}),b.jsx("p",{children:t.uploader_name})]})]}),b.jsxs("div",{className:"flex gap-6",children:[b.jsxs("div",{className:"flex gap-1 cursor-pointer",children:[b.jsx(NV,{onClick:()=>a(),color:s?"#ff5e5e":"#fff"}),b.jsx("p",{children:t.like_count})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(wI,{}),b.jsx("p",{children:t.comment_count===0?"No Comments":t.comment_count})]})]})]})]})},rK=()=>{const{data:t}=Kf({queryKey:["songs"],queryFn:()=>YW()});return b.jsxs(el,{children:[b.jsx(tl,{children:b.jsxs(nl,{className:"flex items-center justify-between",children:[b.jsx("p",{children:"Songs"}),b.jsx(kV,{})]})}),t==null?void 0:t.map(e=>b.jsx(nK,{song:e},e.id))]})},iK=()=>b.jsx(rK,{}),eo=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>b.jsx(wO,{ref:i,decorative:n,orientation:e,className:Ie("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));eo.displayName=wO.displayName;const EO="songs",sK=t=>{const e=uO(cO,`${EO}/${t.name}`);return cW(e,t)},oK=async t=>{let e;try{e=await dW(t.ref)}catch(n){if(n instanceof ft)switch(n.code){}}return e},aK=t=>{const e=uO(cO,`${EO}/${t}`);fW(e).then(()=>{console.log("Song successfully deleted.")}).catch(n=>{console.error("deleteSongError:",n)})};var bO={},rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.cssValue=rl.parseLengthAndUnit=void 0;var lK={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function TO(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return lK[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}rl.parseLengthAndUnit=TO;function uK(t){var e=TO(t);return"".concat(e.value).concat(e.unit)}rl.cssValue=uK;var dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.createAnimation=void 0;var cK=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r};dm.createAnimation=cK;var zh=wn&&wn.__assign||function(){return zh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zh.apply(this,arguments)},dK=wn&&wn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fK=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hK=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&dK(e,t,n);return fK(e,t),e},pK=wn&&wn.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(bO,"__esModule",{value:!0});var Pg=hK(p),jd=rl,iS=dm,sS=[(0,iS.createAnimation)("PuffLoader","0% {transform: scale(0)} 100% {transform: scale(1.0)}","puff-1"),(0,iS.createAnimation)("PuffLoader","0% {opacity: 1} 100% {opacity: 0}","puff-2")];function mK(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,f=c===void 0?60:c,u=pK(t,["loading","color","speedMultiplier","cssOverride","size"]),d=zh({display:"inherit",position:"relative",width:(0,jd.cssValue)(f),height:(0,jd.cssValue)(f)},l),h=function(m){return{position:"absolute",height:(0,jd.cssValue)(f),width:(0,jd.cssValue)(f),border:"thick solid ".concat(i),borderRadius:"50%",opacity:"1",top:"0",left:"0",animationFillMode:"both",animation:"".concat(sS[0],", ").concat(sS[1]),animationDuration:"".concat(2/o,"s"),animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(0.165, 0.84, 0.44, 1), cubic-bezier(0.3, 0.61, 0.355, 1)",animationDelay:m===1?"-1s":"0s"}};return n?Pg.createElement("span",zh({style:d},u),Pg.createElement("span",{style:h(1)}),Pg.createElement("span",{style:h(2)})):null}var gK=bO.default=mK;const vK={idle:"bg-blue-400",loading:"bg-blue-400",success:"bg-green-400",error:"bg-red-400"},yK={idle:"",loading:"",success:"text-green-400",error:"text-red-400"},_K=({file:t})=>{const e=bl(),n=cp(),[r,i]=p.useState({uploader:e==null?void 0:e.displayName,uploader_id:e==null?void 0:e.uid,name:t.name,modified_name:t.name,genre:"",comment_count:0,like_count:0,url:""}),[s,o]=p.useState(""),[a,l]=p.useState(0),[c,f]=p.useState("idle"),{mutateAsync:u}=JR({mutationKey:[t.name],mutationFn:async()=>await WW(r),onSuccess:async()=>{n.invalidateQueries({queryKey:["songsByUser"]}),n.invalidateQueries({queryKey:["songs"]})},retry:!0});return p.useEffect(()=>{if(t.type!=="audio/mpeg")return;navigator.onLine||(l(100),f("error"));const d=sK(t);f("loading"),d.on("state_changed",({bytesTransferred:h,totalBytes:m})=>{l(h/m*100)},h=>{f("error"),console.error("uploading failed",h)},async()=>{const h=await oK(d.snapshot);i(m=>({...m,url:h})),f("success"),o(h)})},[t]),p.useEffect(()=>{i(d=>({...d,url:s})),console.log({song:r}),u()},[s]),b.jsxs("div",{className:"w-full my-7",children:[b.jsxs("div",{className:`mb-1 text-sm font-bold flex gap-1 items-center ${yK[c]}`,children:[c=="error"?b.jsx(bI,{size:18}):null,c=="success"?b.jsx(Z_,{size:18}):null,c=="loading"?b.jsx(gK,{color:"#60A5FA",size:16,"aria-label":"Puff Loader","data-testid":"loader"}):null,r.name]}),b.jsx("div",{className:"flex h-4 overflow-hidden bg-gray-200 rounded",children:b.jsx("div",{className:`transition-all bg-blue-400 progress-bar ${vK[c]}`,style:{width:`${a}%`}})})]})},wK=QC({modified_name:da(),genre:da()}),EK=({song:t,closeForm:e})=>{console.log(t);const n=S0({mode:"onBlur",defaultValues:{modified_name:"",genre:""},resolver:x0(wK)}),r=async s=>{Bh(t.id,s)},i=s=>{console.error({errors:s})};return b.jsx(R0,{...n,children:b.jsxs("form",{onSubmit:n.handleSubmit(r,i),className:"space-y-8",children:[b.jsx(ai,{control:n.control,name:"modified_name",render:({field:s})=>b.jsxs(Pr,{children:[b.jsxs("div",{children:[b.jsx(kr,{children:"Title:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{placeholder:"Song Title",...s})})]})}),b.jsx(ai,{control:n.control,name:"genre",render:({field:s})=>b.jsxs(Pr,{children:[b.jsxs("div",{children:[b.jsx(kr,{children:"Genre:"}),b.jsx(Or,{})]}),b.jsx(Nr,{children:b.jsx(Mr,{placeholder:"Song Genre",...s})})]})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx(Ii,{children:"Submit"}),b.jsx(Ii,{variant:"secondary",onClick:e,children:"Go Back"})]})]})})},bK=({song:t})=>{const[e,n]=p.useState(!1),r=()=>{KW(t.id),aK(t.name)};return b.jsxs(el,{className:"w-full",children:[b.jsx(tl,{children:b.jsxs(nl,{className:"flex items-center justify-between",children:[b.jsx("p",{className:"text-xl font-bold",children:t.modified_name}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(Ii,{onClick:()=>n(!0),children:b.jsx(LV,{size:18})}),b.jsx(Ii,{variant:"destructive",onClick:r,children:b.jsx(qV,{size:18})})]})]})}),e&&b.jsx(pi,{children:b.jsx(EK,{song:t,closeForm:()=>n(!1)})})]})},TK=()=>{const t=bl(),{data:e}=Kf({queryKey:["songsByUser"],queryFn:()=>QW(t==null?void 0:t.uid)}),[n,r]=p.useState([]),i=a=>{a.preventDefault(),a.stopPropagation()},s=a=>{a.preventDefault(),a.stopPropagation();const l=a.dataTransfer.files;l.length>0&&r([...l])},o=a=>{const l=a.target.files;l.length>0&&r([...l])};return b.jsxs("div",{className:"flex flex-col gap-5",children:[b.jsxs(el,{children:[b.jsx(tl,{children:b.jsxs(nl,{className:"flex items-center justify-between",children:[b.jsx("p",{children:"Upload"}),b.jsx(WV,{})]})}),b.jsx(eo,{}),b.jsx(pi,{className:"flex items-center justify-between mt-5",children:b.jsx("div",{onDragOver:i,onDrop:s,className:"flex items-center justify-center w-full text-sm border-2 border-dashed rounded-md h-60 hover:bg-muted",children:"Drop your files here"})}),b.jsx(eo,{}),b.jsx(pi,{className:"flex items-center justify-between mt-5",children:b.jsx(Mr,{id:"song",type:"file",multiple:!0,onChange:o,accept:"audio/mpeg"})}),n.length>0&&b.jsxs(pi,{className:"mt-1",children:[b.jsx(eo,{className:"mb-2"}),n.map(a=>b.jsx(_K,{file:a},a.name))]})]}),b.jsxs(el,{children:[b.jsx(tl,{children:b.jsxs(nl,{className:"flex items-center justify-between",children:[b.jsx("p",{children:"My Songs"}),b.jsx(PV,{})]})}),b.jsx(eo,{}),b.jsx(pi,{className:"flex flex-col items-center justify-between gap-5 mt-5",children:e&&e.map(a=>b.jsx(bK,{song:a},a.name))})]})]})},SO=p.forwardRef(({className:t,...e},n)=>b.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));SO.displayName="Textarea";const SK=()=>{const t=bl(),{songId:e}=q2(),n=cp(),r=X_(h=>h.newSong),[i,s]=p.useState({sid:e,content:"",datePosted:"",commentor_name:"",commentor_id:""}),{data:o}=Kf({queryKey:["song",e],queryFn:()=>GW(e)}),{data:a}=Kf({queryKey:["song",e,"comments"],queryFn:()=>ZW(e)}),[l,c]=p.useState(a),[f,u]=p.useState("latest"),d=JR({mutationFn:()=>(s(h=>({...h,datePosted:new Date().toString()})),XW(i)),onSuccess:()=>{s(h=>({...h,content:""})),Bh(e,{comment_count:(o==null?void 0:o.comment_count)+1}),n.invalidateQueries({queryKey:["song",e]}),n.invalidateQueries({queryKey:["song",e,"comments"]})}});return p.useEffect(()=>{s(h=>({...h,commentor_name:t==null?void 0:t.displayName,commentor_id:t==null?void 0:t.uid}))},[t]),p.useEffect(()=>{const h=v=>{const _=new Date(v);return _!=null?_.getTime():0};c((()=>a==null?void 0:a.sort((v,_)=>f=="latest"?h(_.datePosted)-h(v.datePosted):h(v.datePosted)-h(_.datePosted)))())},[f,a]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center gap-5 mb-7",children:[b.jsx("div",{onClick:()=>r(o),className:"mt-2 cursor-pointer",children:b.jsx(EI,{size:56})}),b.jsx("h1",{className:"text-5xl font-bold",children:o==null?void 0:o.modified_name})]}),b.jsxs(el,{children:[b.jsx(tl,{children:b.jsxs(nl,{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(wI,{}),b.jsx("p",{children:(o==null?void 0:o.comment_count)===0?"No comment":`${o==null?void 0:o.comment_count} comments`})]}),b.jsxs(AC,{defaultValue:"latest",onValueChange:h=>u(h),children:[b.jsx(h0,{className:"w-32",children:b.jsx(PC,{placeholder:"Sort by"})}),b.jsxs(p0,{children:[b.jsx(qu,{value:"latest",children:"Latest"}),b.jsx(qu,{value:"oldest",children:"Oldest"})]})]})]})}),b.jsx(eo,{}),b.jsxs(pi,{className:"flex flex-col gap-5 mt-5",children:[b.jsx(SO,{value:i.content,onChange:h=>s(m=>({...m,content:h.target.value,datePosted:new Date().toString()})),placeholder:"Your comment here..."}),b.jsx(Ii,{onClick:()=>d.mutateAsync(),className:"w-fit",children:"Submit"})]}),l&&l.map(h=>b.jsxs(b.Fragment,{children:[b.jsx(eo,{}),b.jsxs(pi,{className:"mt-5",children:[b.jsx("h3",{className:"text-lg font-bold",children:h.commentor_name}),b.jsx("small",{children:h.datePosted}),b.jsx("p",{className:"mt-4",children:h.content})]},h.id)]}))]})]})};function xK(){const t=OR();return console.error(t),b.jsxs("div",{id:"error-page",children:[b.jsx("h1",{children:"Oops!"}),b.jsx("p",{children:"Sorry, an unexpected error has occurred."}),b.jsx("p",{children:b.jsx("i",{children:t.statusText||t.data.message})})]})}const RK=()=>bl()?b.jsx(DR,{}):b.jsx(gO,{}),IK=new NM,CK=dM([{path:"/",element:b.jsx(jW,{}),errorElement:b.jsx(xK,{}),children:[{index:!0,Component:iK},{element:b.jsx(RK,{}),children:[{path:"/manage",Component:TK}]},{path:"/song/:songId",Component:SK}]}]);function AK(){return b.jsxs(WM,{client:IK,children:[b.jsx(VW,{children:b.jsx(rM,{router:CK,fallbackElement:b.jsx("p",{children:"Loading..."})})}),b.jsx(oL,{})]})}kg.createRoot(document.getElementById("root")).render(b.jsx(De.StrictMode,{children:b.jsx(AK,{})}));
